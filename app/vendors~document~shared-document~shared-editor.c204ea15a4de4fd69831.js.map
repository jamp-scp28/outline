{"version":3,"sources":["webpack:///./node_modules/prosemirror-inputrules/dist/index.es.js","webpack:///./node_modules/lodash/_escapeHtmlChar.js","webpack:///./node_modules/refractor/lang/rust.js","webpack:///./node_modules/refractor/lang/markup-templating.js","webpack:///./node_modules/refractor/lang/php.js","webpack:///./node_modules/is-alphabetical/index.js","webpack:///./node_modules/refractor/lang/powershell.js","webpack:///./node_modules/refractor/core.js","webpack:///./node_modules/property-information/html.js","webpack:///./node_modules/refractor/lang/solidity.js","webpack:///./node_modules/prosemirror-commands/dist/index.es.js","webpack:///./node_modules/markdown-it-emoji/lib/render.js","webpack:///./node_modules/markdown-it/lib/token.js","webpack:///./node_modules/refractor/lang/java.js","webpack:///./node_modules/property-information/lib/util/create.js","webpack:///./node_modules/refractor/lang/csharp.js","webpack:///./node_modules/property-information/find.js","webpack:///./node_modules/property-information/lib/util/types.js","webpack:///./node_modules/core-js/modules/es.string.anchor.js","webpack:///./node_modules/prosemirror-gapcursor/dist/index.es.js","webpack:///./node_modules/refractor/lang/javascript.js","webpack:///./node_modules/is-alphanumerical/index.js","webpack:///./node_modules/hastscript/index.js","webpack:///./node_modules/markdown-it-emoji/index.js","webpack:///./node_modules/slugify/slugify.js","webpack:///./node_modules/markdown-it-emoji/lib/normalize_opts.js","webpack:///./node_modules/refractor/lang/markup.js","webpack:///./node_modules/refractor/lang/json.js","webpack:///./node_modules/refractor/lang/perl.js","webpack:///./node_modules/property-information/lib/html.js","webpack:///./node_modules/refractor/lang/bash.js","webpack:///./node_modules/markdown-it-emoji/lib/replace.js","webpack:///./node_modules/refractor/lang/ruby.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/space-separated-tokens/index.js","webpack:///./node_modules/lodash/escape.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/property-information/lib/util/info.js","webpack:///./node_modules/prosemirror-tables/dist/index.es.js","webpack:///./node_modules/refractor/lang/typescript.js","webpack:///./node_modules/parse-entities/decode-entity.browser.js","webpack:///./node_modules/is-decimal/index.js","webpack:///./node_modules/parse-entities/index.js","webpack:///./node_modules/prosemirror-schema-list/dist/index.es.js","webpack:///./node_modules/refractor/lang/clike.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/property-information/normalize.js","webpack:///./node_modules/hastscript/html.js","webpack:///./node_modules/property-information/lib/aria.js","webpack:///./node_modules/refractor/lang/go.js","webpack:///./node_modules/markdown-it-container/index.js","webpack:///./node_modules/property-information/lib/util/schema.js","webpack:///./node_modules/property-information/lib/xmlns.js","webpack:///./node_modules/property-information/lib/xlink.js","webpack:///./node_modules/property-information/lib/xml.js","webpack:///./node_modules/is-hexadecimal/index.js","webpack:///./node_modules/refractor/lang/css.js","webpack:///./node_modules/w3c-keyname/index.es.js","webpack:///./node_modules/prosemirror-keymap/dist/index.es.js","webpack:///./node_modules/rope-sequence/dist/index.es.js","webpack:///./node_modules/prosemirror-history/dist/index.es.js","webpack:///./node_modules/prismjs/components/prism-core.js","webpack:///./node_modules/prosemirror-utils/dist/index.js","webpack:///./node_modules/markdown-it-emoji/bare.js","webpack:///./node_modules/refractor/lang/python.js","webpack:///./node_modules/refractor/lang/c.js","webpack:///./node_modules/property-information/lib/util/defined-info.js","webpack:///./node_modules/markdown-it-emoji/lib/data/shortcuts.js","webpack:///./node_modules/hast-util-parse-selector/index.js","webpack:///./node_modules/hastscript/factory.js","webpack:///./node_modules/refractor/lang/objectivec.js","webpack:///./node_modules/refractor/lang/yaml.js","webpack:///./node_modules/refractor/lang/sql.js","webpack:///./node_modules/property-information/lib/util/case-sensitive-transform.js","webpack:///./node_modules/comma-separated-tokens/index.js","webpack:///./node_modules/core-js/modules/es.object.from-entries.js","webpack:///./node_modules/property-information/lib/util/case-insensitive-transform.js","webpack:///./node_modules/property-information/lib/util/merge.js"],"names":["InputRule","match","handler","this","stringHandler","string","state","start","end","insert","offset","lastIndexOf","slice","length","cutOff","tr","insertText","inputRules","ref","rules","plugin","init","apply","prev","stored","getMeta","selectionSet","docChanged","props","handleTextInput","view","from","to","text","run","handleDOMEvents","compositionend","setTimeout","$cursor","selection","pos","isInputRules","composing","$from","doc","resolve","parent","type","spec","code","textBefore","textBetween","Math","max","parentOffset","i","exec","dispatch","setMeta","transform","undoInputRule","plugins","undoable","getState","toUndo","j","steps","step","invert","docs","marks","replaceWith","schema","delete","ellipsis","smartQuotes","wrappingInputRule","regexp","nodeType","getAttrs","joinPredicate","attrs","Function","range","blockRange","wrapping","wrap","before","nodeBefore","join","textblockTypeInputRule","$start","node","canReplaceWith","index","indexAfter","setBlockType","escapeHtmlChar","basePropertyOf","module","exports","rust","Prism","multilineComment","source","replace","languages","comment","pattern","RegExp","lookbehind","greedy","char","alias","attribute","inside","rest","variable","punctuation","keyword","function","macro","constant","namespace","number","boolean","operator","displayName","aliases","markupTemplating","getPlaceholder","language","toUpperCase","Object","defineProperties","buildPlaceholders","value","env","placeholderPattern","replaceFilter","tokenStack","placeholder","indexOf","grammar","markup","tokenizePlaceholders","keys","walkTokens","tokens","token","content","k","t","s","substring","middle","Token","tokenize","after","replacement","push","splice","concat","refractorMarkupTemplating","php","register","delimiter","package","property","string_interpolation","interpolation","insertBefore","hooks","add","test","alphabetical","character","charCodeAt","powershell","stringInside","ctx","globalThis","self","window","global","restore","capture","defined","current","undefined","manual","disableWorkerMessageHandler","h","decode","css","clike","js","own","hasOwnProperty","Refractor","prototype","refract","Error","highlight","name","sup","util","call","key","list","map","registered","listLanguages","encode","stringify","stringifyAll","values","result","tag","classes","attributes","merge","xlink","xml","xmlns","aria","html","solidity","extend","builtin","version","sol","deleteSelection","empty","scrollIntoView","textblockAt","side","only","firstChild","lastChild","isTextblock","childCount","findCutBefore","$pos","isolating","depth","findCutAfter","lift","$to","target","defaultBlockAt","edgeCount","edge","hasRequiredAttrs","splitBlock","isBlock","split","atEnd","size","deflt","contentMatchAt","types","can","mapping","first","$first","setNodeMarkup","deleteBarrier","$cut","conn","nodeAfter","joinMaybeClear","compatibleContent","canReplace","nodeSize","clearIncompatible","canDelAfter","findWrapping","matchType","validEnd","create","copy","joinAt","selAfter","findFrom","at","wrap$1","afterText","afterDepth","end$1","i$1","selectTextblockSide","sel","isInline","setSelection","selectTextblockStart","selectTextblockEnd","wrapIn","applicable","nodesBetween","hasMarkup","toggleMark","markType","ranges","markApplies","loop","allowsMarkType","inlineContent","v","returned","isInSet","storedMarks","removeStoredMark","addStoredMark","has","ref$1","rangeHasMark","ref$2","$from$1","$to$1","removeMark","spaceStart","isText","spaceEnd","addMark","chainCommands","commands","len","arguments","backspace","joinBackward","endOfTextblock","isSelectable","delStep","isAtom","selectNodeBackward","$head","del","joinForward","selectNodeForward","pcBaseKeymap","newlineInCode","$anchor","sameParent","createParagraphNear","createAndFill","liftEmptyBlock","exitCode","above","near","selectAll","macBaseKeymap","Home","End","baseKeymap","navigator","platform","os","emoji_html","idx","nesting","level","children","info","meta","block","hidden","attrIndex","attrPush","attrData","attrSet","attrGet","attrJoin","java","keywords","classNamePrefix","className","annotation","generics","normalize","Schema","DefinedInfo","definition","prop","space","mustUseProperty","properties","normal","csharp","replacements","m","re","flags","nested","depthLog2","keywordKinds","keywordsToPattern","words","trim","typeDeclarationKeywords","nonTypeKeywords","nonContextualKeywords","generic","nestedRound","genericName","identifier","array","typeExpressionWithoutTuple","tupleElement","tuple","typeExpression","typeInside","regularString","verbatimString","preprocessor","directive","regularStringOrCharacter","regularStringCharacterOrComment","roundExpression","attrTarget","attr","formatString","mInterpolationRound","mInterpolation","sInterpolationRound","sInterpolation","createInterpolationInside","interpolationRound","expression","dotnet","cs","Info","data","find","Type","valid","charAt","datasetToProperty","dash","camelcase","datasetToAttribute","cap","kebab","$0","toLowerCase","powers","increment","pow","booleanish","overloadedBoolean","spaceSeparated","commaSeparated","commaOrSpaceSeparated","$","createHTML","proto","forced","forcedStringHTMLMethod","anchor","GapCursor","Selection","__proto__","constructor","head","eq","other","toJSON","fromJSON","json","RangeError","getBookmark","GapBookmark","closedBefore","d","child","closedAfter","override","allowGapCursor","defaultType","dir","mustMove","search","next","$cur","$cur$1","visible","jsonID","gapCursor","decorations","drawGapCursor","createSelectionBetween","_view","handleClick","handleKeyDown","arrow","axis","dirStr","$found","event","editable","posAtCoords","left","clientX","top","clientY","nodeAt","document","createElement","widget","javascript","regex","parameter","hashbang","addInlined","addAttribute","decimal","alphanumerical","emojies_defs","emojies_shortcuts","bare_emoji_plugin","emoji_plugin","md","options","defaults","defs","shortcuts","enabled","opts","utils","assign","factory","charMap","JSON","parse","locales","locale","slug","reduce","ch","appendChar","remove","strict","lower","customMap","normalize_opts","emojies","acc","Array","isArray","forEach","names","sort","reverse","quoteRE","str","scanRE","replaceRE","prolog","doctype","cdata","entity","defineProperty","tagName","lang","includedCdataInside","def","attrName","mathml","svg","ssml","atom","rss","null","webmanifest","perl","filehandle","vstring","caseInsensitiveTransform","acceptcharset","classname","htmlfor","httpequiv","abbr","accept","acceptCharset","accessKey","action","allow","allowFullScreen","allowPaymentRequest","allowUserMedia","alt","as","async","autoCapitalize","autoComplete","autoFocus","autoPlay","charSet","checked","cite","cols","colSpan","contentEditable","controls","controlsList","coords","crossOrigin","dateTime","decoding","default","defer","dirName","disabled","download","draggable","encType","enterKeyHint","form","formAction","formEncType","formMethod","formNoValidate","formTarget","headers","height","high","href","hrefLang","htmlFor","httpEquiv","id","imageSizes","imageSrcSet","inputMode","integrity","is","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","loading","low","manifest","maxLength","media","method","min","minLength","multiple","muted","nonce","noModule","noValidate","onAbort","onAfterPrint","onAuxClick","onBeforePrint","onBeforeUnload","onBlur","onCancel","onCanPlay","onCanPlayThrough","onChange","onClick","onClose","onContextMenu","onCopy","onCueChange","onCut","onDblClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEnded","onError","onFocus","onFormData","onHashChange","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLanguageChange","onLoad","onLoadedData","onLoadedMetadata","onLoadEnd","onLoadStart","onMessage","onMessageError","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onOffline","onOnline","onPageHide","onPageShow","onPaste","onPause","onPlay","onPlaying","onPopState","onProgress","onRateChange","onRejectionHandled","onReset","onResize","onScroll","onSecurityPolicyViolation","onSeeked","onSeeking","onSelect","onSlotChange","onStalled","onStorage","onSubmit","onSuspend","onTimeUpdate","onToggle","onUnhandledRejection","onUnload","onVolumeChange","onWaiting","onWheel","open","optimum","ping","playsInline","poster","preload","readOnly","referrerPolicy","rel","required","reversed","rows","rowSpan","sandbox","scope","scoped","seamless","selected","shape","sizes","slot","span","spellCheck","src","srcDoc","srcLang","srcSet","style","tabIndex","title","translate","typeMustMatch","useMap","width","align","aLink","archive","background","bgColor","border","borderColor","bottomMargin","cellPadding","cellSpacing","charOff","classId","clear","codeBase","codeType","color","compact","declare","face","frame","frameBorder","hSpace","leftMargin","link","longDesc","lowSrc","marginHeight","marginWidth","noResize","noHref","noShade","noWrap","object","profile","prompt","rev","rightMargin","scheme","scrolling","standby","summary","topMargin","valueType","vAlign","vLink","vSpace","allowTransparency","autoCorrect","autoSave","disablePictureInPicture","disableRemotePlayback","prefix","results","security","unselectable","bash","envVars","commandAfterHeredoc","insideString","environment","shebang","toBeCopied","shell","create_rule","arrayReplaceAt","ucm","lib","ucmicro","ZPCc","Z","P","Cc","splitTextToken","last_pos","nodes","emoji_name","emoji_replace","l","blockTokens","autolinkLevel","ruby","symbol","rb","$entries","entries","stat","O","input","String","whiteSpace","toString","reUnescapedHtml","reHasUnescapedHtml","escape","readFromCache","addToCache","WeakMap","cache","get","set","cache$1","cachePos","Rect","right","bottom","TableMap","problems","freshColWidth","colwidth","colspan","getCellAttrs","dom","extraAttrs","widthAttr","getAttribute","widths","Number","rowspan","getter","getFromDOM","setCellAttrs","setter","setDOMAttr","tableNodes","cellAttributes","cellAttrs","table","tableRole","group","tableGroup","parseDOM","toDOM","table_row","table_cell","cellContent","table_header","tableNodeTypes","cached","role","findCell","curPos","j$1","colCount","nextCell","rectBetween","a","b","leftA","rightA","topA","bottomA","leftB","rightB","topB","bottomB","cellsInRect","rect","seen","row","col","positionAt","rowStart","rowEnd","rowEndIndex","computeMap","findWidth","hasRowSpan","rowNode","rowWidth","prevRow","cell","cell$1","mapPos","colWidths","e","cellNode","n","w","colW","widthIndex","expectedPos","missing","tableMap","badWidths","i$2","findBadColWidths","updated","colWidth","unshift","cellAround","isInTable","selectionCell","$anchorCell","$headCell","cellNear","pos$1","role$1","pointsAtCell","moveCellForward","inSameTable","$a","$b","moved","setAttr","removeColSpan","some","addColSpan","columnIsHeader","headerCell","header_cell","CellSelection","cells","filter","p","tableChanged","isRowSelection","rowSelection","isColSelection","colSelection","between","rowContent","cellRect","extraLeft","extraRight","attrs$1","fragment","mapFrom","forEachCell","f","anchorTop","headTop","anchorBot","headBot","anchorRect","headRect","anchorLeft","headLeft","anchorRight","headRight","anchorCell","headCell","CellBookmark","drawCellSelection","class","pastedCells","openStart","openEnd","fitSlice","ensureRectangular","r","r$1","r$2","append","clipCells","newWidth","newHeight","added","newRows","frag","newRows$1","row$1","cells$1","isolateHorizontal","found","cellTop","cellLeft","isolateVertical","updatePos","insertCells","tableStart","recomp","maps","growTable","emptyHead","start$1","header","emptyRow","shiftArrow","deleteCellSelection","maybeSetSelection","atEndOfCell","newSel","$cell","$next","baseContent","handleTripleClick","handlePaste","_","handleMouseDown","startEvent","ctrlKey","metaKey","startDOMCell","domInCell","shiftKey","setCellSelection","preventDefault","cellUnderMouse","root","addEventListener","stop","move","starting","removeEventListener","cellPos","parentNode","nodeName","mousePos","fixTablesKey","changedDescendants","old","cur","oldSize","curSize","outer","scan","sameMarkup","fixTables","oldState","check","fixTable","tablePos","last","mustAdd","prob","cell$2","i$3","tableNodeType","descendants","selectedRect","addColumn","refColumn","addColumnBefore","addColumnAfter","removeColumn","mapStart","deleteColumn","rowIsHeader","addRow","rowPos","refRow","addRowBefore","addRowAfter","removeRow","nextRow","newPos","deleteRow","isEmpty","c","mergeCells","cellsOverlapRectangle","indexTop","indexLeft","indexBottom","indexRight","mergedPos","mergedCell","mapped","splitCell","nodeTypes","splitCellWithType","getCellType","cellWrapping","baseAttrs","lastCell","setCellAttr","isHeaderEnabledByType","cellPositions","toggleHeader","useDeprecatedLogic","deprecated_toggleHeader","isHeaderRowEnabled","isHeaderColumnEnabled","selectionStartsAt","cellsRect","newType","relativeCellPos","toggleHeaderRow","toggleHeaderColumn","toggleHeaderCell","goToNextCell","direction","findNextCell","rowNode$1","deleteTable","TableView","cellMinWidth","appendChild","colgroup","updateColumns","contentDOM","overrideCol","overrideValue","totalWidth","fixedWidth","nextDOM","hasWidth","cssWidth","nextSibling","removeChild","minWidth","update","ignoreMutation","record","contains","key$1","columnResizing","handleWidth","View","lastColumnResizable","nodeViews","ResizeState","activeHandle","mousemove","handleMouseMove","pluginState","dragging","domCellAround","classList","getBoundingClientRect","edgeCell","updateHandle","mouseleave","handleMouseLeave","mousedown","handleMouseDown$1","currentColWidth","domAtPos","domWidth","childNodes","offsetWidth","parts","finish","updateColumnWidth","mapIndex","zeroes","draggedWidth","setDragging","which","dragged","displayColumnWidth","startX","startWidth","handleDecorations","setHandle","tableEditing","allowTableNodeSelection","mapResult","deleted","appendTransaction","normalizeSelection","isCellBoundarySelection","afterFrom","beforeTo","isTextSelectionAcrossCells","fromCellBoundaryNode","toCellBoundaryNode","node$1","handle","typescript","decorator","ts","el","decodeEntity","characters","innerHTML","textContent","legacy","invalid","hexadecimal","parseEntities","option","settings","position","indent","entityCharacters","namedEntity","terminated","reference","following","warning","reason","output","begin","diff","additional","nonTerminated","handleText","handleReference","handleWarning","textContext","referenceContext","warningContext","lines","column","line","queue","now","parseError","noop","fromCharCode","hexa","deci","tests","prohibited","parseInt","bases","disallowed","flush","messages","wrapInList","listType","doJoin","outerRange","startIndex","$insert","endIndex","doWrapInList","wrappers","joinBefore","splitDepth","splitPos","splitListItem","grandParent","keepItem","tr$1","nextType","liftListItem","liftToOuterList","endOfList","liftOutOfList","item","atStart","indexBefore","sinkListItem","nestedBefore","inner","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","createMethod","TO_ENTRIES","it","ariaTransform","ariaActiveDescendant","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaControls","ariaCurrent","ariaDescribedBy","ariaDetails","ariaDisabled","ariaDropEffect","ariaErrorMessage","ariaExpanded","ariaFlowTo","ariaGrabbed","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLabelledBy","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaOwns","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","go","container_plugin","marker_str","marker","marker_char","marker_len","validate","validateDefault","params","render","renderDefault","_options","slf","renderToken","ruler","container","startLine","endLine","silent","nextLine","marker_count","old_parent","old_line_max","auto_closed","bMarks","tShift","eMarks","floor","sCount","blkIndent","skipSpaces","parentType","lineMax","renderer","xmlnsxlink","xmlnsXLink","xlinkTransform","xLinkActuate","xLinkArcRole","xLinkHref","xLinkRole","xLinkShow","xLinkTitle","xLinkType","xmlTransform","xmlLang","xmlBase","xmlSpace","atrule","rule","url","selector","important","base","8","9","10","12","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","106","107","108","109","110","111","144","145","160","161","162","163","164","165","173","186","187","188","189","190","191","192","219","220","221","222","229","shift","48","49","50","51","52","53","54","55","56","57","chrome","userAgent","safari","vendor","gecko","mac","ie","brokenModifierNames","normalizeKeyName","ctrl","mod","modifiers","altKey","keymap","bindings","keydownHandler","baseName","keyName","keyCode","isChar","direct","fromCode","withShift","GOOD_LEAF_SIZE","RopeSequence","leafAppend","leafPrepend","appendInner","prepend","Append","sliceInner","getInner","forEachInner","forEachInvertedInner","elt","Leaf","prototypeAccessors","configurable","flatten","leftLen","Branch","items","eventCount","popEvent","preserveItems","this$1","remap","remapping","remaining","addAfter","addBefore","Item","maybeStep","appendMap","addTransform","histOptions","newItems","oldItems","lastItem","merged","pop","overflow","DEPTH_OVERFLOW","cutOffEvents","cutPoint","mirrorPos","mirrorOffset","addMaps","rebased","rebasedTransform","rebasedCount","rebasedItems","newUntil","iRebased","getMirror","newMaps","branch","emptyItemCount","compress","count","upto","events","getMap","newItem","HistoryState","done","undone","prevRanges","prevTime","rangesFor","_from","_to","mapRanges","histTransaction","history","redo","mustPreserveItems","historyKey","config","newHist","historyState","cachedPreserveItems","cachedPreserveItemsPlugins","historyPreserveItems","closeHistoryKey","newGroupDelay","hist","applyTransaction","historyTr","appended","newGroup","time","isAdjacentTo","adjacent","beforeinput","handled","inputType","undo","_self","uniqueId","plainTextGrammar","o","objId","obj","clone","deepClone","visited","getLanguage","element","parentElement","currentScript","err","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","plain","plaintext","txt","redef","ret","newToken","DFS","callback","propertyType","highlightAll","highlightAllUnder","elements","querySelectorAll","highlightElement","insertHighlightedCode","highlightedCode","hasAttribute","setAttribute","Worker","worker","filename","onmessage","evt","postMessage","immediateClose","tokenList","LinkedList","matchGrammar","toArray","tail","all","callbacks","matchedStr","matchPattern","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","cause","patternObj","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","nestedRematch","newNode","message","close","script","highlightAutomaticallyCallback","readyState","requestAnimationFrame","WorkerGlobalScope","prosemirrorState","prosemirrorModel","prosemirrorTables","replaceParentNodeOfType","findParentNodeOfType","newTr","replaceNodeAtPos","replaceSelectedNode","isNodeSelection","_tr$selection","Fragment","cloneTr","NodeSelection","setTextSelection","nextSelection","isSelectableNode","selectable","shouldSelectNode","isLeaf","safeInsert","tryToReplace","hasPosition","$insertPos","isEmptyParagraph","canInsert","_pos","_pos2","equalNodeType","setTime","Date","validContent","removeNodeAtPos","roles","Node","createCell","cellType","createChecked","isRectSelected","selectedCells","transpose","convertTableNodeToArrayOfRows","tableNode","rowIndex","rowCells","colIndex","convertArrayOfRowsToTableNode","arrayOfNodes","rowsPM","newCell","moveRowInArrayOfRows","indexesOrigin","indexesTarget","directionOverride","rowsExtracted","positionOffset","checkInvalidMovements","originIndex","targetIndex","targets","errorMessage","findParentNode","predicate","_ref","findParentNodeClosestToPos","findParentDomRef","findDomRefAtPos","hasParentNode","findPositionOfNodeBefore","maybeSelection","TEXT_NODE","descend","findChildren","findChildrenByType","findTable","isCellSelection","isTableSelected","getCellsInColumn","columnIndex","nodePos","getCellsInRow","select","expand","findCellClosestToPos","selRect","cellsInFirstRow","cellsInLastRow","selectColumn","selectRow","cloneRowAt","cloneRow","rowSpanCells","_loop","_i","foundCells","filterCellsInRow","_toConsumableArray","arr","arr2","removeColumnAt","removeTable","removeRowAt","findCellRectClosestToPos","findTableClosestToPos","getSelectionRangeInColumn","_loop2","maybeEndIndex","_loop3","indexes","maybeCells","firstSelectedColumnCells","firstRowCells","_i3","columnCells","getSelectionRangeInRow","_loop4","_loop5","firstSelectedRowCells","firstColumnCells","_i4","findParentNodeOfTypeClosestToPos","hasParentNodeOfType","findParentDomRefOfType","findSelectedNodeOfType","findTextNodes","findInlineNodes","findBlockNodes","findChildrenByAttr","findChildrenByMark","getSelectionRect","isColumnSelected","isRowSelected","getCellsInTable","selectTable","emptyCell","addColumnAt","moveRow","originRowIndex","targetRowIndex","tryToFit","indexesOriginRow","indexesTargetRow","newTable","moveTableRow","moveColumn","originColumnIndex","targetColumnIndex","indexesOriginColumn","indexesTargetColumn","moveTableColumn","addRowAt","clonePreviousRow","cloneRowIndex","removeSelectedColumns","pmTableRect","removeSelectedRows","removeColumnClosestToPos","removeRowClosestToPos","forEachCellInColumn","cellTransform","setCursorToLastCell","forEachCellInRow","createTable","rowsCount","colsCount","withHeaderRow","_tableNodeTypes","tableCell","tableHeader","tableRow","headerCells","_i2","removeParentNodeOfType","removeSelectedNode","setParentNodeMarkup","selectParentNodeOfType","removeNodeBefore","emoji","core","python","py","checks","checksLength","mask","mark","angry","blush","broken_heart","confused","cry","frowning","heart","imp","innocent","joy","kissing","laughing","neutral_face","open_mouth","rage","smile","smiley","smiling_imp","sob","stuck_out_tongue","sunglasses","sweat","sweat_smile","unamused","wink","defaultTagName","subvalue","previous","parseSelector","spaces","commas","caseSensitive","adjust","createAdjustMap","isChildren","addProperty","addChild","parsePrimitives","parsePrimitive","isNode","positiveNumber","isNaN","refractorC","objectivec","objc","yaml","anchorOrAlias","plainKey","createValuePattern","scalar","datetime","yml","sql","caseSensitiveTransform","val","padLeft","padRight","iterate","createProperty","fromEntries","iterable","AS_ENTRIES","xtend","definitions"],"mappings":"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","file":"vendors~document~shared-document~shared-editor.c204ea15a4de4fd69831.js","sourcesContent":["import { Plugin } from 'prosemirror-state';\nimport { findWrapping, canJoin } from 'prosemirror-transform';\n\n// ::- Input rules are regular expressions describing a piece of text\n// that, when typed, causes something to happen. This might be\n// changing two dashes into an emdash, wrapping a paragraph starting\n// with `\"> \"` into a blockquote, or something entirely different.\nvar InputRule = function InputRule(match, handler) {\n  this.match = match;\n  this.handler = typeof handler == \"string\" ? stringHandler(handler) : handler;\n};\n\nfunction stringHandler(string) {\n  return function(state, match, start, end) {\n    var insert = string;\n    if (match[1]) {\n      var offset = match[0].lastIndexOf(match[1]);\n      insert += match[0].slice(offset + match[1].length);\n      start += offset;\n      var cutOff = start - end;\n      if (cutOff > 0) {\n        insert = match[0].slice(offset - cutOff, offset) + insert;\n        start = end;\n      }\n    }\n    return state.tr.insertText(insert, start, end)\n  }\n}\n\nvar MAX_MATCH = 500;\n\n// :: (config: {rules: [InputRule]}) → Plugin\n// Create an input rules plugin. When enabled, it will cause text\n// input that matches any of the given rules to trigger the rule's\n// action.\nfunction inputRules(ref) {\n  var rules = ref.rules;\n\n  var plugin = new Plugin({\n    state: {\n      init: function init() { return null },\n      apply: function apply(tr, prev) {\n        var stored = tr.getMeta(this);\n        if (stored) { return stored }\n        return tr.selectionSet || tr.docChanged ? null : prev\n      }\n    },\n\n    props: {\n      handleTextInput: function handleTextInput(view, from, to, text) {\n        return run(view, from, to, text, rules, plugin)\n      },\n      handleDOMEvents: {\n        compositionend: function (view) {\n          setTimeout(function () {\n            var ref = view.state.selection;\n            var $cursor = ref.$cursor;\n            if ($cursor) { run(view, $cursor.pos, $cursor.pos, \"\", rules, plugin); }\n          });\n        }\n      }\n    },\n\n    isInputRules: true\n  });\n  return plugin\n}\n\nfunction run(view, from, to, text, rules, plugin) {\n  if (view.composing) { return false }\n  var state = view.state, $from = state.doc.resolve(from);\n  if ($from.parent.type.spec.code) { return false }\n  var textBefore = $from.parent.textBetween(Math.max(0, $from.parentOffset - MAX_MATCH), $from.parentOffset,\n                                            null, \"\\ufffc\") + text;\n  for (var i = 0; i < rules.length; i++) {\n    var match = rules[i].match.exec(textBefore);\n    var tr = match && rules[i].handler(state, match, from - (match[0].length - text.length), to);\n    if (!tr) { continue }\n    view.dispatch(tr.setMeta(plugin, {transform: tr, from: from, to: to, text: text}));\n    return true\n  }\n  return false\n}\n\n// :: (EditorState, ?(Transaction)) → bool\n// This is a command that will undo an input rule, if applying such a\n// rule was the last thing that the user did.\nfunction undoInputRule(state, dispatch) {\n  var plugins = state.plugins;\n  for (var i = 0; i < plugins.length; i++) {\n    var plugin = plugins[i], undoable = (void 0);\n    if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n      if (dispatch) {\n        var tr = state.tr, toUndo = undoable.transform;\n        for (var j = toUndo.steps.length - 1; j >= 0; j--)\n          { tr.step(toUndo.steps[j].invert(toUndo.docs[j])); }\n        if (undoable.text) {\n          var marks = tr.doc.resolve(undoable.from).marks();\n          tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n        } else {\n          tr.delete(undoable.from, undoable.to);\n        }\n        dispatch(tr);\n      }\n      return true\n    }\n  }\n  return false\n}\n\n// :: InputRule Converts double dashes to an emdash.\nvar emDash = new InputRule(/--$/, \"—\");\n// :: InputRule Converts three dots to an ellipsis character.\nvar ellipsis = new InputRule(/\\.\\.\\.$/, \"…\");\n// :: InputRule “Smart” opening double quotes.\nvar openDoubleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(\")$/, \"“\");\n// :: InputRule “Smart” closing double quotes.\nvar closeDoubleQuote = new InputRule(/\"$/, \"”\");\n// :: InputRule “Smart” opening single quotes.\nvar openSingleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(')$/, \"‘\");\n// :: InputRule “Smart” closing single quotes.\nvar closeSingleQuote = new InputRule(/'$/, \"’\");\n\n// :: [InputRule] Smart-quote related input rules.\nvar smartQuotes = [openDoubleQuote, closeDoubleQuote, openSingleQuote, closeSingleQuote];\n\n// :: (RegExp, NodeType, ?union<Object, ([string]) → ?Object>, ?([string], Node) → bool) → InputRule\n// Build an input rule for automatically wrapping a textblock when a\n// given string is typed. The `regexp` argument is\n// directly passed through to the `InputRule` constructor. You'll\n// probably want the regexp to start with `^`, so that the pattern can\n// only occur at the start of a textblock.\n//\n// `nodeType` is the type of node to wrap in. If it needs attributes,\n// you can either pass them directly, or pass a function that will\n// compute them from the regular expression match.\n//\n// By default, if there's a node with the same type above the newly\n// wrapped node, the rule will try to [join](#transform.Transform.join) those\n// two nodes. You can pass a join predicate, which takes a regular\n// expression match and the node before the wrapped node, and can\n// return a boolean to indicate whether a join should happen.\nfunction wrappingInputRule(regexp, nodeType, getAttrs, joinPredicate) {\n  return new InputRule(regexp, function (state, match, start, end) {\n    var attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n    var tr = state.tr.delete(start, end);\n    var $start = tr.doc.resolve(start), range = $start.blockRange(), wrapping = range && findWrapping(range, nodeType, attrs);\n    if (!wrapping) { return null }\n    tr.wrap(range, wrapping);\n    var before = tr.doc.resolve(start - 1).nodeBefore;\n    if (before && before.type == nodeType && canJoin(tr.doc, start - 1) &&\n        (!joinPredicate || joinPredicate(match, before)))\n      { tr.join(start - 1); }\n    return tr\n  })\n}\n\n// :: (RegExp, NodeType, ?union<Object, ([string]) → ?Object>) → InputRule\n// Build an input rule that changes the type of a textblock when the\n// matched text is typed into it. You'll usually want to start your\n// regexp with `^` to that it is only matched at the start of a\n// textblock. The optional `getAttrs` parameter can be used to compute\n// the new node's attributes, and works the same as in the\n// `wrappingInputRule` function.\nfunction textblockTypeInputRule(regexp, nodeType, getAttrs) {\n  return new InputRule(regexp, function (state, match, start, end) {\n    var $start = state.doc.resolve(start);\n    var attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n    if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), nodeType)) { return null }\n    return state.tr\n      .delete(start, end)\n      .setBlockType(start, start, nodeType, attrs)\n  })\n}\n\nexport { InputRule, closeDoubleQuote, closeSingleQuote, ellipsis, emDash, inputRules, openDoubleQuote, openSingleQuote, smartQuotes, textblockTypeInputRule, undoInputRule, wrappingInputRule };\n//# sourceMappingURL=index.es.js.map\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\nmodule.exports = escapeHtmlChar;\n","'use strict'\n\nmodule.exports = rust\nrust.displayName = 'rust'\nrust.aliases = []\nfunction rust(Prism) {\n  ;(function (Prism) {\n    var multilineComment = /\\/\\*(?:[^*/]|\\*(?!\\/)|\\/(?!\\*)|<self>)*\\*\\//.source\n    for (var i = 0; i < 2; i++) {\n      // support 4 levels of nested comments\n      multilineComment = multilineComment.replace(/<self>/g, function () {\n        return multilineComment\n      })\n    }\n    multilineComment = multilineComment.replace(/<self>/g, function () {\n      return /[^\\s\\S]/.source\n    })\n    Prism.languages.rust = {\n      comment: [\n        {\n          pattern: RegExp(/(^|[^\\\\])/.source + multilineComment),\n          lookbehind: true,\n          greedy: true\n        },\n        {\n          pattern: /(^|[^\\\\:])\\/\\/.*/,\n          lookbehind: true,\n          greedy: true\n        }\n      ],\n      string: {\n        pattern: /b?\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|b?r(#*)\"(?:[^\"]|\"(?!\\1))*\"\\1/,\n        greedy: true\n      },\n      char: {\n        pattern:\n          /b?'(?:\\\\(?:x[0-7][\\da-fA-F]|u\\{(?:[\\da-fA-F]_*){1,6}\\}|.)|[^\\\\\\r\\n\\t'])'/,\n        greedy: true,\n        alias: 'string'\n      },\n      attribute: {\n        pattern: /#!?\\[(?:[^\\[\\]\"]|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\")*\\]/,\n        greedy: true,\n        alias: 'attr-name',\n        inside: {\n          string: null // see below\n        }\n      },\n      // Closure params should not be confused with bitwise OR |\n      'closure-params': {\n        pattern: /([=(,:]\\s*|\\bmove\\s*)\\|[^|]*\\||\\|[^|]*\\|(?=\\s*(?:\\{|->))/,\n        lookbehind: true,\n        greedy: true,\n        inside: {\n          'closure-punctuation': {\n            pattern: /^\\||\\|$/,\n            alias: 'punctuation'\n          },\n          rest: null // see below\n        }\n      },\n      'lifetime-annotation': {\n        pattern: /'\\w+/,\n        alias: 'symbol'\n      },\n      'fragment-specifier': {\n        pattern: /(\\$\\w+:)[a-z]+/,\n        lookbehind: true,\n        alias: 'punctuation'\n      },\n      variable: /\\$\\w+/,\n      'function-definition': {\n        pattern: /(\\bfn\\s+)\\w+/,\n        lookbehind: true,\n        alias: 'function'\n      },\n      'type-definition': {\n        pattern: /(\\b(?:enum|struct|union)\\s+)\\w+/,\n        lookbehind: true,\n        alias: 'class-name'\n      },\n      'module-declaration': [\n        {\n          pattern: /(\\b(?:crate|mod)\\s+)[a-z][a-z_\\d]*/,\n          lookbehind: true,\n          alias: 'namespace'\n        },\n        {\n          pattern:\n            /(\\b(?:crate|self|super)\\s*)::\\s*[a-z][a-z_\\d]*\\b(?:\\s*::(?:\\s*[a-z][a-z_\\d]*\\s*::)*)?/,\n          lookbehind: true,\n          alias: 'namespace',\n          inside: {\n            punctuation: /::/\n          }\n        }\n      ],\n      keyword: [\n        // https://github.com/rust-lang/reference/blob/master/src/keywords.md\n        /\\b(?:abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|Self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/, // primitives and str\n        // https://doc.rust-lang.org/stable/rust-by-example/primitives.html\n        /\\b(?:[ui](?:8|16|32|64|128|size)|f(?:32|64)|bool|char|str)\\b/\n      ],\n      // functions can technically start with an upper-case letter, but this will introduce a lot of false positives\n      // and Rust's naming conventions recommend snake_case anyway.\n      // https://doc.rust-lang.org/1.0.0/style/style/naming/README.html\n      function: /\\b[a-z_]\\w*(?=\\s*(?:::\\s*<|\\())/,\n      macro: {\n        pattern: /\\b\\w+!/,\n        alias: 'property'\n      },\n      constant: /\\b[A-Z_][A-Z_\\d]+\\b/,\n      'class-name': /\\b[A-Z]\\w*\\b/,\n      namespace: {\n        pattern: /(?:\\b[a-z][a-z_\\d]*\\s*::\\s*)*\\b[a-z][a-z_\\d]*\\s*::(?!\\s*<)/,\n        inside: {\n          punctuation: /::/\n        }\n      },\n      // Hex, oct, bin, dec numbers with visual separators and type suffix\n      number:\n        /\\b(?:0x[\\dA-Fa-f](?:_?[\\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\\d(?:_?\\d)*)?\\.)?\\d(?:_?\\d)*(?:[Ee][+-]?\\d+)?)(?:_?(?:[iu](?:8|16|32|64|size)?|f32|f64))?\\b/,\n      boolean: /\\b(?:false|true)\\b/,\n      punctuation: /->|\\.\\.=|\\.{1,3}|::|[{}[\\];(),:]/,\n      operator: /[-+*\\/%!^]=?|=[=>]?|&[&=]?|\\|[|=]?|<<?=?|>>?=?|[@?]/\n    }\n    Prism.languages.rust['closure-params'].inside.rest = Prism.languages.rust\n    Prism.languages.rust['attribute'].inside['string'] =\n      Prism.languages.rust['string']\n  })(Prism)\n}\n","'use strict'\n\nmodule.exports = markupTemplating\nmarkupTemplating.displayName = 'markupTemplating'\nmarkupTemplating.aliases = []\nfunction markupTemplating(Prism) {\n  ;(function (Prism) {\n    /**\n     * Returns the placeholder for the given language id and index.\n     *\n     * @param {string} language\n     * @param {string|number} index\n     * @returns {string}\n     */\n    function getPlaceholder(language, index) {\n      return '___' + language.toUpperCase() + index + '___'\n    }\n    Object.defineProperties((Prism.languages['markup-templating'] = {}), {\n      buildPlaceholders: {\n        /**\n         * Tokenize all inline templating expressions matching `placeholderPattern`.\n         *\n         * If `replaceFilter` is provided, only matches of `placeholderPattern` for which `replaceFilter` returns\n         * `true` will be replaced.\n         *\n         * @param {object} env The environment of the `before-tokenize` hook.\n         * @param {string} language The language id.\n         * @param {RegExp} placeholderPattern The matches of this pattern will be replaced by placeholders.\n         * @param {(match: string) => boolean} [replaceFilter]\n         */\n        value: function (env, language, placeholderPattern, replaceFilter) {\n          if (env.language !== language) {\n            return\n          }\n          var tokenStack = (env.tokenStack = [])\n          env.code = env.code.replace(placeholderPattern, function (match) {\n            if (typeof replaceFilter === 'function' && !replaceFilter(match)) {\n              return match\n            }\n            var i = tokenStack.length\n            var placeholder // Check for existing strings\n            while (\n              env.code.indexOf((placeholder = getPlaceholder(language, i))) !==\n              -1\n            ) {\n              ++i\n            } // Create a sparse array\n            tokenStack[i] = match\n            return placeholder\n          }) // Switch the grammar to markup\n          env.grammar = Prism.languages.markup\n        }\n      },\n      tokenizePlaceholders: {\n        /**\n         * Replace placeholders with proper tokens after tokenizing.\n         *\n         * @param {object} env The environment of the `after-tokenize` hook.\n         * @param {string} language The language id.\n         */\n        value: function (env, language) {\n          if (env.language !== language || !env.tokenStack) {\n            return\n          } // Switch the grammar back\n          env.grammar = Prism.languages[language]\n          var j = 0\n          var keys = Object.keys(env.tokenStack)\n          function walkTokens(tokens) {\n            for (var i = 0; i < tokens.length; i++) {\n              // all placeholders are replaced already\n              if (j >= keys.length) {\n                break\n              }\n              var token = tokens[i]\n              if (\n                typeof token === 'string' ||\n                (token.content && typeof token.content === 'string')\n              ) {\n                var k = keys[j]\n                var t = env.tokenStack[k]\n                var s = typeof token === 'string' ? token : token.content\n                var placeholder = getPlaceholder(language, k)\n                var index = s.indexOf(placeholder)\n                if (index > -1) {\n                  ++j\n                  var before = s.substring(0, index)\n                  var middle = new Prism.Token(\n                    language,\n                    Prism.tokenize(t, env.grammar),\n                    'language-' + language,\n                    t\n                  )\n                  var after = s.substring(index + placeholder.length)\n                  var replacement = []\n                  if (before) {\n                    replacement.push.apply(replacement, walkTokens([before]))\n                  }\n                  replacement.push(middle)\n                  if (after) {\n                    replacement.push.apply(replacement, walkTokens([after]))\n                  }\n                  if (typeof token === 'string') {\n                    tokens.splice.apply(tokens, [i, 1].concat(replacement))\n                  } else {\n                    token.content = replacement\n                  }\n                }\n              } else if (\n                token.content\n                /* && typeof token.content !== 'string' */\n              ) {\n                walkTokens(token.content)\n              }\n            }\n            return tokens\n          }\n          walkTokens(env.tokens)\n        }\n      }\n    })\n  })(Prism)\n}\n","'use strict'\nvar refractorMarkupTemplating = require('./markup-templating.js')\nmodule.exports = php\nphp.displayName = 'php'\nphp.aliases = []\nfunction php(Prism) {\n  Prism.register(refractorMarkupTemplating)\n  /**\n   * Original by Aaron Harun: http://aahacreative.com/2012/07/31/php-syntax-highlighting-prism/\n   * Modified by Miles Johnson: http://milesj.me\n   * Rewritten by Tom Pavelec\n   *\n   * Supports PHP 5.3 - 8.0\n   */\n  ;(function (Prism) {\n    var comment = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/\n    var constant = [\n      {\n        pattern: /\\b(?:false|true)\\b/i,\n        alias: 'boolean'\n      },\n      {\n        pattern: /(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,\n        greedy: true,\n        lookbehind: true\n      },\n      {\n        pattern: /(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,\n        greedy: true,\n        lookbehind: true\n      },\n      /\\b(?:null)\\b/i,\n      /\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/\n    ]\n    var number =\n      /\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i\n    var operator =\n      /<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/\n    var punctuation = /[{}\\[\\](),:;]/\n    Prism.languages.php = {\n      delimiter: {\n        pattern: /\\?>$|^<\\?(?:php(?=\\s)|=)?/i,\n        alias: 'important'\n      },\n      comment: comment,\n      variable: /\\$+(?:\\w+\\b|(?=\\{))/i,\n      package: {\n        pattern:\n          /(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n        lookbehind: true,\n        inside: {\n          punctuation: /\\\\/\n        }\n      },\n      'class-name-definition': {\n        pattern: /(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n        lookbehind: true,\n        alias: 'class-name'\n      },\n      'function-definition': {\n        pattern: /(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,\n        lookbehind: true,\n        alias: 'function'\n      },\n      keyword: [\n        {\n          pattern:\n            /(\\(\\s*)\\b(?:bool|boolean|int|integer|float|string|object|array)\\b(?=\\s*\\))/i,\n          alias: 'type-casting',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern:\n            /([(,?]\\s*)\\b(?:bool|int|float|string|object|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b(?=\\s*\\$)/i,\n          alias: 'type-hint',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /([(,?]\\s*[\\w|]\\|\\s*)(?:null|false)\\b(?=\\s*\\$)/i,\n          alias: 'type-hint',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern:\n            /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b/i,\n          alias: 'return-type',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?[\\w|]\\|\\s*)(?:null|false)\\b/i,\n          alias: 'return-type',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern:\n            /\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|iterable|(?:null|false)(?=\\s*\\|))\\b/i,\n          alias: 'type-declaration',\n          greedy: true\n        },\n        {\n          pattern: /(\\|\\s*)(?:null|false)\\b/i,\n          alias: 'type-declaration',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /\\b(?:parent|self|static)(?=\\s*::)/i,\n          alias: 'static-context',\n          greedy: true\n        },\n        {\n          // yield from\n          pattern: /(\\byield\\s+)from\\b/i,\n          lookbehind: true\n        }, // `class` is always a keyword unlike other keywords\n        /\\bclass\\b/i,\n        {\n          // https://www.php.net/manual/en/reserved.keywords.php\n          //\n          // keywords cannot be preceded by \"->\"\n          // the complex lookbehind means `(?<!(?:->|::)\\s*)`\n          pattern:\n            /((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\\b/i,\n          lookbehind: true\n        }\n      ],\n      'argument-name': {\n        pattern: /([(,]\\s+)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,\n        lookbehind: true\n      },\n      'class-name': [\n        {\n          pattern:\n            /(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,\n          greedy: true\n        },\n        {\n          pattern: /(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,\n          alias: 'class-name-fully-qualified',\n          greedy: true,\n          lookbehind: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern: /(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,\n          alias: 'class-name-fully-qualified',\n          greedy: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern:\n            /(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n          alias: 'class-name-fully-qualified',\n          greedy: true,\n          lookbehind: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern: /\\b[a-z_]\\w*(?=\\s*\\$)/i,\n          alias: 'type-declaration',\n          greedy: true\n        },\n        {\n          pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n          alias: ['class-name-fully-qualified', 'type-declaration'],\n          greedy: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern: /\\b[a-z_]\\w*(?=\\s*::)/i,\n          alias: 'static-context',\n          greedy: true\n        },\n        {\n          pattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,\n          alias: ['class-name-fully-qualified', 'static-context'],\n          greedy: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern: /([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,\n          alias: 'type-hint',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n          alias: ['class-name-fully-qualified', 'type-hint'],\n          greedy: true,\n          lookbehind: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        },\n        {\n          pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n          alias: 'return-type',\n          greedy: true,\n          lookbehind: true\n        },\n        {\n          pattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n          alias: ['class-name-fully-qualified', 'return-type'],\n          greedy: true,\n          lookbehind: true,\n          inside: {\n            punctuation: /\\\\/\n          }\n        }\n      ],\n      constant: constant,\n      function: {\n        pattern: /(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,\n        lookbehind: true,\n        inside: {\n          punctuation: /\\\\/\n        }\n      },\n      property: {\n        pattern: /(->\\s*)\\w+/,\n        lookbehind: true\n      },\n      number: number,\n      operator: operator,\n      punctuation: punctuation\n    }\n    var string_interpolation = {\n      pattern:\n        /\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,\n      lookbehind: true,\n      inside: Prism.languages.php\n    }\n    var string = [\n      {\n        pattern: /<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,\n        alias: 'nowdoc-string',\n        greedy: true,\n        inside: {\n          delimiter: {\n            pattern: /^<<<'[^']+'|[a-z_]\\w*;$/i,\n            alias: 'symbol',\n            inside: {\n              punctuation: /^<<<'?|[';]$/\n            }\n          }\n        }\n      },\n      {\n        pattern:\n          /<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,\n        alias: 'heredoc-string',\n        greedy: true,\n        inside: {\n          delimiter: {\n            pattern: /^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,\n            alias: 'symbol',\n            inside: {\n              punctuation: /^<<<\"?|[\";]$/\n            }\n          },\n          interpolation: string_interpolation\n        }\n      },\n      {\n        pattern: /`(?:\\\\[\\s\\S]|[^\\\\`])*`/,\n        alias: 'backtick-quoted-string',\n        greedy: true\n      },\n      {\n        pattern: /'(?:\\\\[\\s\\S]|[^\\\\'])*'/,\n        alias: 'single-quoted-string',\n        greedy: true\n      },\n      {\n        pattern: /\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,\n        alias: 'double-quoted-string',\n        greedy: true,\n        inside: {\n          interpolation: string_interpolation\n        }\n      }\n    ]\n    Prism.languages.insertBefore('php', 'variable', {\n      string: string,\n      attribute: {\n        pattern:\n          /#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,\n        greedy: true,\n        inside: {\n          'attribute-content': {\n            pattern: /^(#\\[)[\\s\\S]+(?=\\]$)/,\n            lookbehind: true,\n            // inside can appear subset of php\n            inside: {\n              comment: comment,\n              string: string,\n              'attribute-class-name': [\n                {\n                  pattern: /([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n                  alias: 'class-name',\n                  greedy: true,\n                  lookbehind: true\n                },\n                {\n                  pattern: /([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,\n                  alias: ['class-name', 'class-name-fully-qualified'],\n                  greedy: true,\n                  lookbehind: true,\n                  inside: {\n                    punctuation: /\\\\/\n                  }\n                }\n              ],\n              constant: constant,\n              number: number,\n              operator: operator,\n              punctuation: punctuation\n            }\n          },\n          delimiter: {\n            pattern: /^#\\[|\\]$/,\n            alias: 'punctuation'\n          }\n        }\n      }\n    })\n    Prism.hooks.add('before-tokenize', function (env) {\n      if (!/<\\?/.test(env.code)) {\n        return\n      }\n      var phpPattern =\n        /<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/gi\n      Prism.languages['markup-templating'].buildPlaceholders(\n        env,\n        'php',\n        phpPattern\n      )\n    })\n    Prism.hooks.add('after-tokenize', function (env) {\n      Prism.languages['markup-templating'].tokenizePlaceholders(env, 'php')\n    })\n  })(Prism)\n}\n","'use strict'\n\nmodule.exports = alphabetical\n\n// Check if the given character code, or the character code at the first\n// character, is alphabetical.\nfunction alphabetical(character) {\n  var code = typeof character === 'string' ? character.charCodeAt(0) : character\n\n  return (\n    (code >= 97 && code <= 122) /* a-z */ ||\n    (code >= 65 && code <= 90) /* A-Z */\n  )\n}\n","'use strict'\n\nmodule.exports = powershell\npowershell.displayName = 'powershell'\npowershell.aliases = []\nfunction powershell(Prism) {\n  ;(function (Prism) {\n    var powershell = (Prism.languages.powershell = {\n      comment: [\n        {\n          pattern: /(^|[^`])<#[\\s\\S]*?#>/,\n          lookbehind: true\n        },\n        {\n          pattern: /(^|[^`])#.*/,\n          lookbehind: true\n        }\n      ],\n      string: [\n        {\n          pattern: /\"(?:`[\\s\\S]|[^`\"])*\"/,\n          greedy: true,\n          inside: {\n            function: {\n              // Allow for one level of nesting\n              pattern: /(^|[^`])\\$\\((?:\\$\\([^\\r\\n()]*\\)|(?!\\$\\()[^\\r\\n)])*\\)/,\n              lookbehind: true,\n              // Populated at end of file\n              inside: {}\n            }\n          }\n        },\n        {\n          pattern: /'(?:[^']|'')*'/,\n          greedy: true\n        }\n      ],\n      // Matches name spaces as well as casts, attribute decorators. Force starting with letter to avoid matching array indices\n      // Supports two levels of nested brackets (e.g. `[OutputType([System.Collections.Generic.List[int]])]`)\n      namespace: /\\[[a-z](?:\\[(?:\\[[^\\]]*\\]|[^\\[\\]])*\\]|[^\\[\\]])*\\]/i,\n      boolean: /\\$(?:true|false)\\b/i,\n      variable: /\\$\\w+\\b/,\n      // Cmdlets and aliases. Aliases should come last, otherwise \"write\" gets preferred over \"write-host\" for example\n      // Get-Command | ?{ $_.ModuleName -match \"Microsoft.PowerShell.(Util|Core|Management)\" }\n      // Get-Alias | ?{ $_.ReferencedCommand.Module.Name -match \"Microsoft.PowerShell.(Util|Core|Management)\" }\n      function: [\n        /\\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\\b/i,\n        /\\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\\b/i\n      ],\n      // per http://technet.microsoft.com/en-us/library/hh847744.aspx\n      keyword:\n        /\\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\\b/i,\n      operator: {\n        pattern:\n          /(\\W?)(?:!|-(?:eq|ne|gt|ge|lt|le|sh[lr]|not|b?(?:and|x?or)|(?:Not)?(?:Like|Match|Contains|In)|Replace|Join|is(?:Not)?|as)\\b|-[-=]?|\\+[+=]?|[*\\/%]=?)/i,\n        lookbehind: true\n      },\n      punctuation: /[|{}[\\];(),.]/\n    }) // Variable interpolation inside strings, and nested expressions\n    var stringInside = powershell.string[0].inside\n    stringInside.boolean = powershell.boolean\n    stringInside.variable = powershell.variable\n    stringInside.function.inside = powershell\n  })(Prism)\n}\n","'use strict'\n\n/* global window, self */\n\n// istanbul ignore next - Don't allow Prism to run on page load in browser or\n// to start messaging from workers.\nvar ctx =\n  typeof globalThis === 'object'\n    ? globalThis\n    : typeof self === 'object'\n    ? self\n    : typeof window === 'object'\n    ? window\n    : typeof global === 'object'\n    ? global\n    : {}\n\nvar restore = capture()\n\nctx.Prism = {manual: true, disableWorkerMessageHandler: true}\n\n// Load all stuff in `prism.js` itself, except for `prism-file-highlight.js`.\n// The wrapped non-leaky grammars are loaded instead of Prism’s originals.\nvar h = require('hastscript')\nvar decode = require('parse-entities')\nvar Prism = require('prismjs/components/prism-core')\nvar markup = require('./lang/markup')\nvar css = require('./lang/css')\nvar clike = require('./lang/clike')\nvar js = require('./lang/javascript')\n\nrestore()\n\nvar own = {}.hasOwnProperty\n\n// Inherit.\nfunction Refractor() {}\n\nRefractor.prototype = Prism\n\n// Construct.\nvar refract = new Refractor()\n\n// Expose.\nmodule.exports = refract\n\n// Create.\nrefract.highlight = highlight\nrefract.register = register\nrefract.alias = alias\nrefract.registered = registered\nrefract.listLanguages = listLanguages\n\n// Register bundled grammars.\nregister(markup)\nregister(css)\nregister(clike)\nregister(js)\n\nrefract.util.encode = encode\nrefract.Token.stringify = stringify\n\nfunction register(grammar) {\n  if (typeof grammar !== 'function' || !grammar.displayName) {\n    throw new Error('Expected `function` for `grammar`, got `' + grammar + '`')\n  }\n\n  // Do not duplicate registrations.\n  if (refract.languages[grammar.displayName] === undefined) {\n    grammar(refract)\n  }\n}\n\nfunction alias(name, alias) {\n  var languages = refract.languages\n  var map = name\n  var key\n  var list\n  var length\n  var index\n\n  if (alias) {\n    map = {}\n    map[name] = alias\n  }\n\n  for (key in map) {\n    list = map[key]\n    list = typeof list === 'string' ? [list] : list\n    length = list.length\n    index = -1\n\n    while (++index < length) {\n      languages[list[index]] = languages[key]\n    }\n  }\n}\n\nfunction highlight(value, name) {\n  var sup = Prism.highlight\n  var grammar\n\n  if (typeof value !== 'string') {\n    throw new Error('Expected `string` for `value`, got `' + value + '`')\n  }\n\n  // `name` is a grammar object.\n  if (refract.util.type(name) === 'Object') {\n    grammar = name\n    name = null\n  } else {\n    if (typeof name !== 'string') {\n      throw new Error('Expected `string` for `name`, got `' + name + '`')\n    }\n\n    if (own.call(refract.languages, name)) {\n      grammar = refract.languages[name]\n    } else {\n      throw new Error('Unknown language: `' + name + '` is not registered')\n    }\n  }\n\n  return sup.call(this, value, grammar, name)\n}\n\nfunction registered(language) {\n  if (typeof language !== 'string') {\n    throw new Error('Expected `string` for `language`, got `' + language + '`')\n  }\n\n  return own.call(refract.languages, language)\n}\n\nfunction listLanguages() {\n  var languages = refract.languages\n  var list = []\n  var language\n\n  for (language in languages) {\n    if (\n      own.call(languages, language) &&\n      typeof languages[language] === 'object'\n    ) {\n      list.push(language)\n    }\n  }\n\n  return list\n}\n\nfunction stringify(value, language, parent) {\n  var env\n\n  if (typeof value === 'string') {\n    return {type: 'text', value: value}\n  }\n\n  if (refract.util.type(value) === 'Array') {\n    return stringifyAll(value, language)\n  }\n\n  env = {\n    type: value.type,\n    content: refract.Token.stringify(value.content, language, parent),\n    tag: 'span',\n    classes: ['token', value.type],\n    attributes: {},\n    language: language,\n    parent: parent\n  }\n\n  if (value.alias) {\n    env.classes = env.classes.concat(value.alias)\n  }\n\n  refract.hooks.run('wrap', env)\n\n  return h(\n    env.tag + '.' + env.classes.join('.'),\n    attributes(env.attributes),\n    env.content\n  )\n}\n\nfunction stringifyAll(values, language) {\n  var result = []\n  var length = values.length\n  var index = -1\n  var value\n\n  while (++index < length) {\n    value = values[index]\n\n    if (value !== '' && value !== null && value !== undefined) {\n      result.push(value)\n    }\n  }\n\n  index = -1\n  length = result.length\n\n  while (++index < length) {\n    value = result[index]\n    result[index] = refract.Token.stringify(value, language, result)\n  }\n\n  return result\n}\n\nfunction encode(tokens) {\n  return tokens\n}\n\nfunction attributes(attrs) {\n  var key\n\n  for (key in attrs) {\n    attrs[key] = decode(attrs[key])\n  }\n\n  return attrs\n}\n\nfunction capture() {\n  var defined = 'Prism' in ctx\n  /* istanbul ignore next */\n  var current = defined ? ctx.Prism : undefined\n\n  return restore\n\n  function restore() {\n    /* istanbul ignore else - Clean leaks after Prism. */\n    if (defined) {\n      ctx.Prism = current\n    } else {\n      delete ctx.Prism\n    }\n\n    defined = undefined\n    current = undefined\n  }\n}\n","'use strict'\n\nvar merge = require('./lib/util/merge')\nvar xlink = require('./lib/xlink')\nvar xml = require('./lib/xml')\nvar xmlns = require('./lib/xmlns')\nvar aria = require('./lib/aria')\nvar html = require('./lib/html')\n\nmodule.exports = merge([xml, xlink, xmlns, aria, html])\n","'use strict'\n\nmodule.exports = solidity\nsolidity.displayName = 'solidity'\nsolidity.aliases = ['sol']\nfunction solidity(Prism) {\n  Prism.languages.solidity = Prism.languages.extend('clike', {\n    'class-name': {\n      pattern:\n        /(\\b(?:contract|enum|interface|library|new|struct|using)\\s+)(?!\\d)[\\w$]+/,\n      lookbehind: true\n    },\n    keyword:\n      /\\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\\b/,\n    operator: /=>|->|:=|=:|\\*\\*|\\+\\+|--|\\|\\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/\n  })\n  Prism.languages.insertBefore('solidity', 'keyword', {\n    builtin:\n      /\\b(?:address|bool|string|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|byte|bytes(?:[1-9]|[12]\\d|3[0-2])?)\\b/\n  })\n  Prism.languages.insertBefore('solidity', 'number', {\n    version: {\n      pattern: /([<>]=?|\\^)\\d+\\.\\d+\\.\\d+\\b/,\n      lookbehind: true,\n      alias: 'number'\n    }\n  })\n  Prism.languages.sol = Prism.languages.solidity\n}\n","import { liftTarget, replaceStep, canJoin, joinPoint, canSplit, ReplaceAroundStep, findWrapping } from 'prosemirror-transform';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { NodeSelection, Selection, AllSelection, TextSelection } from 'prosemirror-state';\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Delete the selection, if there is one.\nfunction deleteSelection(state, dispatch) {\n  if (state.selection.empty) { return false }\n  if (dispatch) { dispatch(state.tr.deleteSelection().scrollIntoView()); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool\n// If the selection is empty and at the start of a textblock, try to\n// reduce the distance between that block and the one before it—if\n// there's a block directly before it that can be joined, join them.\n// If not, try to move the selected block closer to the next one in\n// the document structure by lifting it out of its parent or moving it\n// into a parent of the previous block. Will use the view for accurate\n// (bidi-aware) start-of-textblock detection if given.\nfunction joinBackward(state, dispatch, view) {\n  var ref = state.selection;\n  var $cursor = ref.$cursor;\n  if (!$cursor || (view ? !view.endOfTextblock(\"backward\", state)\n                        : $cursor.parentOffset > 0))\n    { return false }\n\n  var $cut = findCutBefore($cursor);\n\n  // If there is no node before this, try to lift\n  if (!$cut) {\n    var range = $cursor.blockRange(), target = range && liftTarget(range);\n    if (target == null) { return false }\n    if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }\n    return true\n  }\n\n  var before = $cut.nodeBefore;\n  // Apply the joining algorithm\n  if (!before.type.spec.isolating && deleteBarrier(state, $cut, dispatch))\n    { return true }\n\n  // If the node below has no content and the node above is\n  // selectable, delete the node below and select the one above.\n  if ($cursor.parent.content.size == 0 &&\n      (textblockAt(before, \"end\") || NodeSelection.isSelectable(before))) {\n    var delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n    if (delStep.slice.size < delStep.to - delStep.from) {\n      if (dispatch) {\n        var tr = state.tr.step(delStep);\n        tr.setSelection(textblockAt(before, \"end\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)\n                        : NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));\n        dispatch(tr.scrollIntoView());\n      }\n      return true\n    }\n  }\n\n  // If the node before is an atom, delete it\n  if (before.isAtom && $cut.depth == $cursor.depth - 1) {\n    if (dispatch) { dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView()); }\n    return true\n  }\n\n  return false\n}\n\nfunction textblockAt(node, side, only) {\n  for (; node; node = (side == \"start\" ? node.firstChild : node.lastChild)) {\n    if (node.isTextblock) { return true }\n    if (only && node.childCount != 1) { return false }\n  }\n  return false\n}\n\n// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool\n// When the selection is empty and at the start of a textblock, select\n// the node before that textblock, if possible. This is intended to be\n// bound to keys like backspace, after\n// [`joinBackward`](#commands.joinBackward) or other deleting\n// commands, as a fall-back behavior when the schema doesn't allow\n// deletion at the selected point.\nfunction selectNodeBackward(state, dispatch, view) {\n  var ref = state.selection;\n  var $head = ref.$head;\n  var empty = ref.empty;\n  var $cut = $head;\n  if (!empty) { return false }\n\n  if ($head.parent.isTextblock) {\n    if (view ? !view.endOfTextblock(\"backward\", state) : $head.parentOffset > 0) { return false }\n    $cut = findCutBefore($head);\n  }\n  var node = $cut && $cut.nodeBefore;\n  if (!node || !NodeSelection.isSelectable(node)) { return false }\n  if (dispatch)\n    { dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView()); }\n  return true\n}\n\nfunction findCutBefore($pos) {\n  if (!$pos.parent.type.spec.isolating) { for (var i = $pos.depth - 1; i >= 0; i--) {\n    if ($pos.index(i) > 0) { return $pos.doc.resolve($pos.before(i + 1)) }\n    if ($pos.node(i).type.spec.isolating) { break }\n  } }\n  return null\n}\n\n// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool\n// If the selection is empty and the cursor is at the end of a\n// textblock, try to reduce or remove the boundary between that block\n// and the one after it, either by joining them or by moving the other\n// block closer to this one in the tree structure. Will use the view\n// for accurate start-of-textblock detection if given.\nfunction joinForward(state, dispatch, view) {\n  var ref = state.selection;\n  var $cursor = ref.$cursor;\n  if (!$cursor || (view ? !view.endOfTextblock(\"forward\", state)\n                        : $cursor.parentOffset < $cursor.parent.content.size))\n    { return false }\n\n  var $cut = findCutAfter($cursor);\n\n  // If there is no node after this, there's nothing to do\n  if (!$cut) { return false }\n\n  var after = $cut.nodeAfter;\n  // Try the joining algorithm\n  if (deleteBarrier(state, $cut, dispatch)) { return true }\n\n  // If the node above has no content and the node below is\n  // selectable, delete the node above and select the one below.\n  if ($cursor.parent.content.size == 0 &&\n      (textblockAt(after, \"start\") || NodeSelection.isSelectable(after))) {\n    var delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n    if (delStep.slice.size < delStep.to - delStep.from) {\n      if (dispatch) {\n        var tr = state.tr.step(delStep);\n        tr.setSelection(textblockAt(after, \"start\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)\n                        : NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));\n        dispatch(tr.scrollIntoView());\n      }\n      return true\n    }\n  }\n\n  // If the next node is an atom, delete it\n  if (after.isAtom && $cut.depth == $cursor.depth - 1) {\n    if (dispatch) { dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView()); }\n    return true\n  }\n\n  return false\n}\n\n// :: (EditorState, ?(tr: Transaction), ?EditorView) → bool\n// When the selection is empty and at the end of a textblock, select\n// the node coming after that textblock, if possible. This is intended\n// to be bound to keys like delete, after\n// [`joinForward`](#commands.joinForward) and similar deleting\n// commands, to provide a fall-back behavior when the schema doesn't\n// allow deletion at the selected point.\nfunction selectNodeForward(state, dispatch, view) {\n  var ref = state.selection;\n  var $head = ref.$head;\n  var empty = ref.empty;\n  var $cut = $head;\n  if (!empty) { return false }\n  if ($head.parent.isTextblock) {\n    if (view ? !view.endOfTextblock(\"forward\", state) : $head.parentOffset < $head.parent.content.size)\n      { return false }\n    $cut = findCutAfter($head);\n  }\n  var node = $cut && $cut.nodeAfter;\n  if (!node || !NodeSelection.isSelectable(node)) { return false }\n  if (dispatch)\n    { dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos)).scrollIntoView()); }\n  return true\n}\n\nfunction findCutAfter($pos) {\n  if (!$pos.parent.type.spec.isolating) { for (var i = $pos.depth - 1; i >= 0; i--) {\n    var parent = $pos.node(i);\n    if ($pos.index(i) + 1 < parent.childCount) { return $pos.doc.resolve($pos.after(i + 1)) }\n    if (parent.type.spec.isolating) { break }\n  } }\n  return null\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Join the selected block or, if there is a text selection, the\n// closest ancestor block of the selection that can be joined, with\n// the sibling above it.\nfunction joinUp(state, dispatch) {\n  var sel = state.selection, nodeSel = sel instanceof NodeSelection, point;\n  if (nodeSel) {\n    if (sel.node.isTextblock || !canJoin(state.doc, sel.from)) { return false }\n    point = sel.from;\n  } else {\n    point = joinPoint(state.doc, sel.from, -1);\n    if (point == null) { return false }\n  }\n  if (dispatch) {\n    var tr = state.tr.join(point);\n    if (nodeSel) { tr.setSelection(NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize)); }\n    dispatch(tr.scrollIntoView());\n  }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Join the selected block, or the closest ancestor of the selection\n// that can be joined, with the sibling after it.\nfunction joinDown(state, dispatch) {\n  var sel = state.selection, point;\n  if (sel instanceof NodeSelection) {\n    if (sel.node.isTextblock || !canJoin(state.doc, sel.to)) { return false }\n    point = sel.to;\n  } else {\n    point = joinPoint(state.doc, sel.to, 1);\n    if (point == null) { return false }\n  }\n  if (dispatch)\n    { dispatch(state.tr.join(point).scrollIntoView()); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Lift the selected block, or the closest ancestor block of the\n// selection that can be lifted, out of its parent node.\nfunction lift(state, dispatch) {\n  var ref = state.selection;\n  var $from = ref.$from;\n  var $to = ref.$to;\n  var range = $from.blockRange($to), target = range && liftTarget(range);\n  if (target == null) { return false }\n  if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// If the selection is in a node whose type has a truthy\n// [`code`](#model.NodeSpec.code) property in its spec, replace the\n// selection with a newline character.\nfunction newlineInCode(state, dispatch) {\n  var ref = state.selection;\n  var $head = ref.$head;\n  var $anchor = ref.$anchor;\n  if (!$head.parent.type.spec.code || !$head.sameParent($anchor)) { return false }\n  if (dispatch) { dispatch(state.tr.insertText(\"\\n\").scrollIntoView()); }\n  return true\n}\n\nfunction defaultBlockAt(match) {\n  for (var i = 0; i < match.edgeCount; i++) {\n    var ref = match.edge(i);\n    var type = ref.type;\n    if (type.isTextblock && !type.hasRequiredAttrs()) { return type }\n  }\n  return null\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// When the selection is in a node with a truthy\n// [`code`](#model.NodeSpec.code) property in its spec, create a\n// default block after the code block, and move the cursor there.\nfunction exitCode(state, dispatch) {\n  var ref = state.selection;\n  var $head = ref.$head;\n  var $anchor = ref.$anchor;\n  if (!$head.parent.type.spec.code || !$head.sameParent($anchor)) { return false }\n  var above = $head.node(-1), after = $head.indexAfter(-1), type = defaultBlockAt(above.contentMatchAt(after));\n  if (!above.canReplaceWith(after, after, type)) { return false }\n  if (dispatch) {\n    var pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());\n    tr.setSelection(Selection.near(tr.doc.resolve(pos), 1));\n    dispatch(tr.scrollIntoView());\n  }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// If a block node is selected, create an empty paragraph before (if\n// it is its parent's first child) or after it.\nfunction createParagraphNear(state, dispatch) {\n  var sel = state.selection;\n  var $from = sel.$from;\n  var $to = sel.$to;\n  if (sel instanceof AllSelection || $from.parent.inlineContent || $to.parent.inlineContent) { return false }\n  var type = defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));\n  if (!type || !type.isTextblock) { return false }\n  if (dispatch) {\n    var side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;\n    var tr = state.tr.insert(side, type.createAndFill());\n    tr.setSelection(TextSelection.create(tr.doc, side + 1));\n    dispatch(tr.scrollIntoView());\n  }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// If the cursor is in an empty textblock that can be lifted, lift the\n// block.\nfunction liftEmptyBlock(state, dispatch) {\n  var ref = state.selection;\n  var $cursor = ref.$cursor;\n  if (!$cursor || $cursor.parent.content.size) { return false }\n  if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {\n    var before = $cursor.before();\n    if (canSplit(state.doc, before)) {\n      if (dispatch) { dispatch(state.tr.split(before).scrollIntoView()); }\n      return true\n    }\n  }\n  var range = $cursor.blockRange(), target = range && liftTarget(range);\n  if (target == null) { return false }\n  if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Split the parent block of the selection. If the selection is a text\n// selection, also delete its content.\nfunction splitBlock(state, dispatch) {\n  var ref = state.selection;\n  var $from = ref.$from;\n  var $to = ref.$to;\n  if (state.selection instanceof NodeSelection && state.selection.node.isBlock) {\n    if (!$from.parentOffset || !canSplit(state.doc, $from.pos)) { return false }\n    if (dispatch) { dispatch(state.tr.split($from.pos).scrollIntoView()); }\n    return true\n  }\n\n  if (!$from.parent.isBlock) { return false }\n\n  if (dispatch) {\n    var atEnd = $to.parentOffset == $to.parent.content.size;\n    var tr = state.tr;\n    if (state.selection instanceof TextSelection || state.selection instanceof AllSelection) { tr.deleteSelection(); }\n    var deflt = $from.depth == 0 ? null : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n    var types = atEnd && deflt ? [{type: deflt}] : null;\n    var can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types);\n    if (!types && !can && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt && [{type: deflt}])) {\n      types = [{type: deflt}];\n      can = true;\n    }\n    if (can) {\n      tr.split(tr.mapping.map($from.pos), 1, types);\n      if (!atEnd && !$from.parentOffset && $from.parent.type != deflt) {\n        var first = tr.mapping.map($from.before()), $first = tr.doc.resolve(first);\n        if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt))\n          { tr.setNodeMarkup(tr.mapping.map($from.before()), deflt); }\n      }\n    }\n    dispatch(tr.scrollIntoView());\n  }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Acts like [`splitBlock`](#commands.splitBlock), but without\n// resetting the set of active marks at the cursor.\nfunction splitBlockKeepMarks(state, dispatch) {\n  return splitBlock(state, dispatch && (function (tr) {\n    var marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n    if (marks) { tr.ensureMarks(marks); }\n    dispatch(tr);\n  }))\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Move the selection to the node wrapping the current selection, if\n// any. (Will not select the document node.)\nfunction selectParentNode(state, dispatch) {\n  var ref = state.selection;\n  var $from = ref.$from;\n  var to = ref.to;\n  var pos;\n  var same = $from.sharedDepth(to);\n  if (same == 0) { return false }\n  pos = $from.before(same);\n  if (dispatch) { dispatch(state.tr.setSelection(NodeSelection.create(state.doc, pos))); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Select the whole document.\nfunction selectAll(state, dispatch) {\n  if (dispatch) { dispatch(state.tr.setSelection(new AllSelection(state.doc))); }\n  return true\n}\n\nfunction joinMaybeClear(state, $pos, dispatch) {\n  var before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();\n  if (!before || !after || !before.type.compatibleContent(after.type)) { return false }\n  if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {\n    if (dispatch) { dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView()); }\n    return true\n  }\n  if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || canJoin(state.doc, $pos.pos)))\n    { return false }\n  if (dispatch)\n    { dispatch(state.tr\n             .clearIncompatible($pos.pos, before.type, before.contentMatchAt(before.childCount))\n             .join($pos.pos)\n             .scrollIntoView()); }\n  return true\n}\n\nfunction deleteBarrier(state, $cut, dispatch) {\n  var before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;\n  if (before.type.spec.isolating || after.type.spec.isolating) { return false }\n  if (joinMaybeClear(state, $cut, dispatch)) { return true }\n\n  var canDelAfter = $cut.parent.canReplace($cut.index(), $cut.index() + 1);\n  if (canDelAfter &&\n      (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&\n      match.matchType(conn[0] || after.type).validEnd) {\n    if (dispatch) {\n      var end = $cut.pos + after.nodeSize, wrap = Fragment.empty;\n      for (var i = conn.length - 1; i >= 0; i--)\n        { wrap = Fragment.from(conn[i].create(null, wrap)); }\n      wrap = Fragment.from(before.copy(wrap));\n      var tr = state.tr.step(new ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new Slice(wrap, 1, 0), conn.length, true));\n      var joinAt = end + 2 * conn.length;\n      if (canJoin(tr.doc, joinAt)) { tr.join(joinAt); }\n      dispatch(tr.scrollIntoView());\n    }\n    return true\n  }\n\n  var selAfter = Selection.findFrom($cut, 1);\n  var range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && liftTarget(range);\n  if (target != null && target >= $cut.depth) {\n    if (dispatch) { dispatch(state.tr.lift(range, target).scrollIntoView()); }\n    return true\n  }\n\n  if (canDelAfter && textblockAt(after, \"start\", true) && textblockAt(before, \"end\")) {\n    var at = before, wrap$1 = [];\n    for (;;) {\n      wrap$1.push(at);\n      if (at.isTextblock) { break }\n      at = at.lastChild;\n    }\n    var afterText = after, afterDepth = 1;\n    for (; !afterText.isTextblock; afterText = afterText.firstChild) { afterDepth++; }\n    if (at.canReplace(at.childCount, at.childCount, afterText.content)) {\n      if (dispatch) {\n        var end$1 = Fragment.empty;\n        for (var i$1 = wrap$1.length - 1; i$1 >= 0; i$1--) { end$1 = Fragment.from(wrap$1[i$1].copy(end$1)); }\n        var tr$1 = state.tr.step(new ReplaceAroundStep($cut.pos - wrap$1.length, $cut.pos + after.nodeSize,\n                                                     $cut.pos + afterDepth, $cut.pos + after.nodeSize - afterDepth,\n                                                     new Slice(end$1, wrap$1.length, 0), 0, true));\n        dispatch(tr$1.scrollIntoView());\n      }\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction selectTextblockSide(side) {\n  return function(state, dispatch) {\n    var sel = state.selection, $pos = side < 0 ? sel.$from : sel.$to;\n    var depth = $pos.depth;\n    while ($pos.node(depth).isInline) {\n      if (!depth) { return false }\n      depth--;\n    }\n    if (!$pos.node(depth).isTextblock) { return false }\n    if (dispatch)\n      { dispatch(state.tr.setSelection(TextSelection.create(\n        state.doc, side < 0 ? $pos.start(depth) : $pos.end(depth)))); }\n    return true\n  }\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Moves the cursor to the start of current text block.\nvar selectTextblockStart = selectTextblockSide(-1);\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Moves the cursor to the end of current text block.\nvar selectTextblockEnd = selectTextblockSide(1);\n\n// Parameterized commands\n\n// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Wrap the selection in a node of the given type with the given\n// attributes.\nfunction wrapIn(nodeType, attrs) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var range = $from.blockRange($to), wrapping = range && findWrapping(range, nodeType, attrs);\n    if (!wrapping) { return false }\n    if (dispatch) { dispatch(state.tr.wrap(range, wrapping).scrollIntoView()); }\n    return true\n  }\n}\n\n// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Returns a command that tries to set the selected textblocks to the\n// given node type with the given attributes.\nfunction setBlockType(nodeType, attrs) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var from = ref.from;\n    var to = ref.to;\n    var applicable = false;\n    state.doc.nodesBetween(from, to, function (node, pos) {\n      if (applicable) { return false }\n      if (!node.isTextblock || node.hasMarkup(nodeType, attrs)) { return }\n      if (node.type == nodeType) {\n        applicable = true;\n      } else {\n        var $pos = state.doc.resolve(pos), index = $pos.index();\n        applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);\n      }\n    });\n    if (!applicable) { return false }\n    if (dispatch) { dispatch(state.tr.setBlockType(from, to, nodeType, attrs).scrollIntoView()); }\n    return true\n  }\n}\n\nfunction markApplies(doc, ranges, type) {\n  var loop = function ( i ) {\n    var ref = ranges[i];\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var can = $from.depth == 0 ? doc.type.allowsMarkType(type) : false;\n    doc.nodesBetween($from.pos, $to.pos, function (node) {\n      if (can) { return false }\n      can = node.inlineContent && node.type.allowsMarkType(type);\n    });\n    if (can) { return { v: true } }\n  };\n\n  for (var i = 0; i < ranges.length; i++) {\n    var returned = loop( i );\n\n    if ( returned ) return returned.v;\n  }\n  return false\n}\n\n// :: (MarkType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Create a command function that toggles the given mark with the\n// given attributes. Will return `false` when the current selection\n// doesn't support that mark. This will remove the mark if any marks\n// of that type exist in the selection, or add it otherwise. If the\n// selection is empty, this applies to the [stored\n// marks](#state.EditorState.storedMarks) instead of a range of the\n// document.\nfunction toggleMark(markType, attrs) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var empty = ref.empty;\n    var $cursor = ref.$cursor;\n    var ranges = ref.ranges;\n    if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType)) { return false }\n    if (dispatch) {\n      if ($cursor) {\n        if (markType.isInSet(state.storedMarks || $cursor.marks()))\n          { dispatch(state.tr.removeStoredMark(markType)); }\n        else\n          { dispatch(state.tr.addStoredMark(markType.create(attrs))); }\n      } else {\n        var has = false, tr = state.tr;\n        for (var i = 0; !has && i < ranges.length; i++) {\n          var ref$1 = ranges[i];\n          var $from = ref$1.$from;\n          var $to = ref$1.$to;\n          has = state.doc.rangeHasMark($from.pos, $to.pos, markType);\n        }\n        for (var i$1 = 0; i$1 < ranges.length; i$1++) {\n          var ref$2 = ranges[i$1];\n          var $from$1 = ref$2.$from;\n          var $to$1 = ref$2.$to;\n          if (has) {\n            tr.removeMark($from$1.pos, $to$1.pos, markType);\n          } else {\n            var from = $from$1.pos, to = $to$1.pos, start = $from$1.nodeAfter, end = $to$1.nodeBefore;\n            var spaceStart = start && start.isText ? /^\\s*/.exec(start.text)[0].length : 0;\n            var spaceEnd = end && end.isText ? /\\s*$/.exec(end.text)[0].length : 0;\n            if (from + spaceStart < to) { from += spaceStart; to -= spaceEnd; }\n            tr.addMark(from, to, markType.create(attrs));\n          }\n        }\n        dispatch(tr.scrollIntoView());\n      }\n    }\n    return true\n  }\n}\n\nfunction wrapDispatchForJoin(dispatch, isJoinable) {\n  return function (tr) {\n    if (!tr.isGeneric) { return dispatch(tr) }\n\n    var ranges = [];\n    for (var i = 0; i < tr.mapping.maps.length; i++) {\n      var map = tr.mapping.maps[i];\n      for (var j = 0; j < ranges.length; j++)\n        { ranges[j] = map.map(ranges[j]); }\n      map.forEach(function (_s, _e, from, to) { return ranges.push(from, to); });\n    }\n\n    // Figure out which joinable points exist inside those ranges,\n    // by checking all node boundaries in their parent nodes.\n    var joinable = [];\n    for (var i$1 = 0; i$1 < ranges.length; i$1 += 2) {\n      var from = ranges[i$1], to = ranges[i$1 + 1];\n      var $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);\n      for (var index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {\n        var after = parent.maybeChild(index);\n        if (!after) { break }\n        if (index && joinable.indexOf(pos) == -1) {\n          var before = parent.child(index - 1);\n          if (before.type == after.type && isJoinable(before, after))\n            { joinable.push(pos); }\n        }\n        pos += after.nodeSize;\n      }\n    }\n    // Join the joinable points\n    joinable.sort(function (a, b) { return a - b; });\n    for (var i$2 = joinable.length - 1; i$2 >= 0; i$2--) {\n      if (canJoin(tr.doc, joinable[i$2])) { tr.join(joinable[i$2]); }\n    }\n    dispatch(tr);\n  }\n}\n\n// :: ((state: EditorState, ?(tr: Transaction)) → bool, union<(before: Node, after: Node) → bool, [string]>) → (state: EditorState, ?(tr: Transaction)) → bool\n// Wrap a command so that, when it produces a transform that causes\n// two joinable nodes to end up next to each other, those are joined.\n// Nodes are considered joinable when they are of the same type and\n// when the `isJoinable` predicate returns true for them or, if an\n// array of strings was passed, if their node type name is in that\n// array.\nfunction autoJoin(command, isJoinable) {\n  if (Array.isArray(isJoinable)) {\n    var types = isJoinable;\n    isJoinable = function (node) { return types.indexOf(node.type.name) > -1; };\n  }\n  return function (state, dispatch, view) { return command(state, dispatch && wrapDispatchForJoin(dispatch, isJoinable), view); }\n}\n\n// :: (...[(EditorState, ?(tr: Transaction), ?EditorView) → bool]) → (EditorState, ?(tr: Transaction), ?EditorView) → bool\n// Combine a number of command functions into a single function (which\n// calls them one by one until one returns true).\nfunction chainCommands() {\n  var commands = [], len = arguments.length;\n  while ( len-- ) commands[ len ] = arguments[ len ];\n\n  return function(state, dispatch, view) {\n    for (var i = 0; i < commands.length; i++)\n      { if (commands[i](state, dispatch, view)) { return true } }\n    return false\n  }\n}\n\nvar backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);\nvar del = chainCommands(deleteSelection, joinForward, selectNodeForward);\n\n// :: Object\n// A basic keymap containing bindings not specific to any schema.\n// Binds the following keys (when multiple commands are listed, they\n// are chained with [`chainCommands`](#commands.chainCommands)):\n//\n// * **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`\n// * **Mod-Enter** to `exitCode`\n// * **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`\n// * **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n// * **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n// * **Mod-a** to `selectAll`\nvar pcBaseKeymap = {\n  \"Enter\": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),\n  \"Mod-Enter\": exitCode,\n  \"Backspace\": backspace,\n  \"Mod-Backspace\": backspace,\n  \"Shift-Backspace\": backspace,\n  \"Delete\": del,\n  \"Mod-Delete\": del,\n  \"Mod-a\": selectAll\n};\n\n// :: Object\n// A copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,\n// **Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and\n// **Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like\n// Ctrl-Delete.\nvar macBaseKeymap = {\n  \"Ctrl-h\": pcBaseKeymap[\"Backspace\"],\n  \"Alt-Backspace\": pcBaseKeymap[\"Mod-Backspace\"],\n  \"Ctrl-d\": pcBaseKeymap[\"Delete\"],\n  \"Ctrl-Alt-Backspace\": pcBaseKeymap[\"Mod-Delete\"],\n  \"Alt-Delete\": pcBaseKeymap[\"Mod-Delete\"],\n  \"Alt-d\": pcBaseKeymap[\"Mod-Delete\"],\n  \"Ctrl-a\": selectTextblockStart,\n  \"Ctrl-e\": selectTextblockEnd\n};\nfor (var key in pcBaseKeymap) { macBaseKeymap[key] = pcBaseKeymap[key]; }\n\npcBaseKeymap.Home = selectTextblockStart;\npcBaseKeymap.End = selectTextblockEnd;\n\n// declare global: os, navigator\nvar mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform)\n          : typeof os != \"undefined\" ? os.platform() == \"darwin\" : false;\n\n// :: Object\n// Depending on the detected platform, this will hold\n// [`pcBasekeymap`](#commands.pcBaseKeymap) or\n// [`macBaseKeymap`](#commands.macBaseKeymap).\nvar baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;\n\nexport { autoJoin, baseKeymap, chainCommands, createParagraphNear, deleteSelection, exitCode, joinBackward, joinDown, joinForward, joinUp, lift, liftEmptyBlock, macBaseKeymap, newlineInCode, pcBaseKeymap, selectAll, selectNodeBackward, selectNodeForward, selectParentNode, selectTextblockEnd, selectTextblockStart, setBlockType, splitBlock, splitBlockKeepMarks, toggleMark, wrapIn };\n//# sourceMappingURL=index.es.js.map\n","'use strict';\n\nmodule.exports = function emoji_html(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","'use strict'\n\nmodule.exports = java\njava.displayName = 'java'\njava.aliases = []\nfunction java(Prism) {\n  ;(function (Prism) {\n    var keywords =\n      /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/ // full package (optional) + parent classes (optional)\n    var classNamePrefix = /(^|[^\\w.])(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/\n      .source // based on the java naming conventions\n    var className = {\n      pattern: RegExp(classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n      lookbehind: true,\n      inside: {\n        namespace: {\n          pattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n          inside: {\n            punctuation: /\\./\n          }\n        },\n        punctuation: /\\./\n      }\n    }\n    Prism.languages.java = Prism.languages.extend('clike', {\n      'class-name': [\n        className,\n        {\n          // variables and parameters\n          // this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n          pattern: RegExp(\n            classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()])/.source\n          ),\n          lookbehind: true,\n          inside: className.inside\n        }\n      ],\n      keyword: keywords,\n      function: [\n        Prism.languages.clike.function,\n        {\n          pattern: /(::\\s*)[a-z_]\\w*/,\n          lookbehind: true\n        }\n      ],\n      number:\n        /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n      operator: {\n        pattern:\n          /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n        lookbehind: true\n      }\n    })\n    Prism.languages.insertBefore('java', 'string', {\n      'triple-quoted-string': {\n        // http://openjdk.java.net/jeps/355#Description\n        pattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n        greedy: true,\n        alias: 'string'\n      }\n    })\n    Prism.languages.insertBefore('java', 'class-name', {\n      annotation: {\n        pattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n        lookbehind: true,\n        alias: 'punctuation'\n      },\n      generics: {\n        pattern:\n          /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n        inside: {\n          'class-name': className,\n          keyword: keywords,\n          punctuation: /[<>(),.:]/,\n          operator: /[?&|]/\n        }\n      },\n      namespace: {\n        pattern: RegExp(\n          /(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/.source.replace(\n            /<keyword>/g,\n            function () {\n              return keywords.source\n            }\n          )\n        ),\n        lookbehind: true,\n        inside: {\n          punctuation: /\\./\n        }\n      }\n    })\n  })(Prism)\n}\n","'use strict'\n\nvar normalize = require('../../normalize')\nvar Schema = require('./schema')\nvar DefinedInfo = require('./defined-info')\n\nmodule.exports = create\n\nfunction create(definition) {\n  var space = definition.space\n  var mustUseProperty = definition.mustUseProperty || []\n  var attributes = definition.attributes || {}\n  var props = definition.properties\n  var transform = definition.transform\n  var property = {}\n  var normal = {}\n  var prop\n  var info\n\n  for (prop in props) {\n    info = new DefinedInfo(\n      prop,\n      transform(attributes, prop),\n      props[prop],\n      space\n    )\n\n    if (mustUseProperty.indexOf(prop) !== -1) {\n      info.mustUseProperty = true\n    }\n\n    property[prop] = info\n\n    normal[normalize(prop)] = prop\n    normal[normalize(info.attribute)] = prop\n  }\n\n  return new Schema(property, normal, space)\n}\n","'use strict'\n\nmodule.exports = csharp\ncsharp.displayName = 'csharp'\ncsharp.aliases = ['dotnet', 'cs']\nfunction csharp(Prism) {\n  ;(function (Prism) {\n    /**\n     * Replaces all placeholders \"<<n>>\" of given pattern with the n-th replacement (zero based).\n     *\n     * Note: This is a simple text based replacement. Be careful when using backreferences!\n     *\n     * @param {string} pattern the given pattern.\n     * @param {string[]} replacements a list of replacement which can be inserted into the given pattern.\n     * @returns {string} the pattern with all placeholders replaced with their corresponding replacements.\n     * @example replace(/a<<0>>a/.source, [/b+/.source]) === /a(?:b+)a/.source\n     */\n    function replace(pattern, replacements) {\n      return pattern.replace(/<<(\\d+)>>/g, function (m, index) {\n        return '(?:' + replacements[+index] + ')'\n      })\n    }\n    /**\n     * @param {string} pattern\n     * @param {string[]} replacements\n     * @param {string} [flags]\n     * @returns {RegExp}\n     */\n    function re(pattern, replacements, flags) {\n      return RegExp(replace(pattern, replacements), flags || '')\n    }\n    /**\n     * Creates a nested pattern where all occurrences of the string `<<self>>` are replaced with the pattern itself.\n     *\n     * @param {string} pattern\n     * @param {number} depthLog2\n     * @returns {string}\n     */\n    function nested(pattern, depthLog2) {\n      for (var i = 0; i < depthLog2; i++) {\n        pattern = pattern.replace(/<<self>>/g, function () {\n          return '(?:' + pattern + ')'\n        })\n      }\n      return pattern.replace(/<<self>>/g, '[^\\\\s\\\\S]')\n    } // https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/\n    var keywordKinds = {\n      // keywords which represent a return or variable type\n      type: 'bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void',\n      // keywords which are used to declare a type\n      typeDeclaration: 'class enum interface record struct',\n      // contextual keywords\n      // (\"var\" and \"dynamic\" are missing because they are used like types)\n      contextual:\n        'add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)',\n      // all other keywords\n      other:\n        'abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield'\n    } // keywords\n    function keywordsToPattern(words) {\n      return '\\\\b(?:' + words.trim().replace(/ /g, '|') + ')\\\\b'\n    }\n    var typeDeclarationKeywords = keywordsToPattern(\n      keywordKinds.typeDeclaration\n    )\n    var keywords = RegExp(\n      keywordsToPattern(\n        keywordKinds.type +\n          ' ' +\n          keywordKinds.typeDeclaration +\n          ' ' +\n          keywordKinds.contextual +\n          ' ' +\n          keywordKinds.other\n      )\n    )\n    var nonTypeKeywords = keywordsToPattern(\n      keywordKinds.typeDeclaration +\n        ' ' +\n        keywordKinds.contextual +\n        ' ' +\n        keywordKinds.other\n    )\n    var nonContextualKeywords = keywordsToPattern(\n      keywordKinds.type +\n        ' ' +\n        keywordKinds.typeDeclaration +\n        ' ' +\n        keywordKinds.other\n    ) // types\n    var generic = nested(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source, 2) // the idea behind the other forbidden characters is to prevent false positives. Same for tupleElement.\n    var nestedRound = nested(/\\((?:[^()]|<<self>>)*\\)/.source, 2)\n    var name = /@?\\b[A-Za-z_]\\w*\\b/.source\n    var genericName = replace(/<<0>>(?:\\s*<<1>>)?/.source, [name, generic])\n    var identifier = replace(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source, [\n      nonTypeKeywords,\n      genericName\n    ])\n    var array = /\\[\\s*(?:,\\s*)*\\]/.source\n    var typeExpressionWithoutTuple = replace(\n      /<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source,\n      [identifier, array]\n    )\n    var tupleElement = replace(\n      /[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,\n      [generic, nestedRound, array]\n    )\n    var tuple = replace(/\\(<<0>>+(?:,<<0>>+)+\\)/.source, [tupleElement])\n    var typeExpression = replace(\n      /(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source,\n      [tuple, identifier, array]\n    )\n    var typeInside = {\n      keyword: keywords,\n      punctuation: /[<>()?,.:[\\]]/\n    } // strings & characters\n    // https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#character-literals\n    // https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#string-literals\n    var character = /'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source // simplified pattern\n    var regularString = /\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source\n    var verbatimString = /@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source\n    Prism.languages.csharp = Prism.languages.extend('clike', {\n      string: [\n        {\n          pattern: re(/(^|[^$\\\\])<<0>>/.source, [verbatimString]),\n          lookbehind: true,\n          greedy: true\n        },\n        {\n          pattern: re(/(^|[^@$\\\\])<<0>>/.source, [regularString]),\n          lookbehind: true,\n          greedy: true\n        },\n        {\n          pattern: RegExp(character),\n          greedy: true,\n          alias: 'character'\n        }\n      ],\n      'class-name': [\n        {\n          // Using static\n          // using static System.Math;\n          pattern: re(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source, [\n            identifier\n          ]),\n          lookbehind: true,\n          inside: typeInside\n        },\n        {\n          // Using alias (type)\n          // using Project = PC.MyCompany.Project;\n          pattern: re(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source, [\n            name,\n            typeExpression\n          ]),\n          lookbehind: true,\n          inside: typeInside\n        },\n        {\n          // Using alias (alias)\n          // using Project = PC.MyCompany.Project;\n          pattern: re(/(\\busing\\s+)<<0>>(?=\\s*=)/.source, [name]),\n          lookbehind: true\n        },\n        {\n          // Type declarations\n          // class Foo<A, B>\n          // interface Foo<out A, B>\n          pattern: re(/(\\b<<0>>\\s+)<<1>>/.source, [\n            typeDeclarationKeywords,\n            genericName\n          ]),\n          lookbehind: true,\n          inside: typeInside\n        },\n        {\n          // Single catch exception declaration\n          // catch(Foo)\n          // (things like catch(Foo e) is covered by variable declaration)\n          pattern: re(/(\\bcatch\\s*\\(\\s*)<<0>>/.source, [identifier]),\n          lookbehind: true,\n          inside: typeInside\n        },\n        {\n          // Name of the type parameter of generic constraints\n          // where Foo : class\n          pattern: re(/(\\bwhere\\s+)<<0>>/.source, [name]),\n          lookbehind: true\n        },\n        {\n          // Casts and checks via as and is.\n          // as Foo<A>, is Bar<B>\n          // (things like if(a is Foo b) is covered by variable declaration)\n          pattern: re(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source, [\n            typeExpressionWithoutTuple\n          ]),\n          lookbehind: true,\n          inside: typeInside\n        },\n        {\n          // Variable, field and parameter declaration\n          // (Foo bar, Bar baz, Foo[,,] bay, Foo<Bar, FooBar<Bar>> bax)\n          pattern: re(\n            /\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/\n              .source,\n            [typeExpression, nonContextualKeywords, name]\n          ),\n          inside: typeInside\n        }\n      ],\n      keyword: keywords,\n      // https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#literals\n      number:\n        /(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:ul|lu|[dflmu])?\\b/i,\n      operator: />>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,\n      punctuation: /\\?\\.?|::|[{}[\\];(),.:]/\n    })\n    Prism.languages.insertBefore('csharp', 'number', {\n      range: {\n        pattern: /\\.\\./,\n        alias: 'operator'\n      }\n    })\n    Prism.languages.insertBefore('csharp', 'punctuation', {\n      'named-parameter': {\n        pattern: re(/([(,]\\s*)<<0>>(?=\\s*:)/.source, [name]),\n        lookbehind: true,\n        alias: 'punctuation'\n      }\n    })\n    Prism.languages.insertBefore('csharp', 'class-name', {\n      namespace: {\n        // namespace Foo.Bar {}\n        // using Foo.Bar;\n        pattern: re(\n          /(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source,\n          [name]\n        ),\n        lookbehind: true,\n        inside: {\n          punctuation: /\\./\n        }\n      },\n      'type-expression': {\n        // default(Foo), typeof(Foo<Bar>), sizeof(int)\n        pattern: re(\n          /(\\b(?:default|typeof|sizeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/\n            .source,\n          [nestedRound]\n        ),\n        lookbehind: true,\n        alias: 'class-name',\n        inside: typeInside\n      },\n      'return-type': {\n        // Foo<Bar> ForBar(); Foo IFoo.Bar() => 0\n        // int this[int index] => 0; T IReadOnlyList<T>.this[int index] => this[index];\n        // int Foo => 0; int Foo { get; set } = 0;\n        pattern: re(\n          /<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source,\n          [typeExpression, identifier]\n        ),\n        inside: typeInside,\n        alias: 'class-name'\n      },\n      'constructor-invocation': {\n        // new List<Foo<Bar[]>> { }\n        pattern: re(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source, [typeExpression]),\n        lookbehind: true,\n        inside: typeInside,\n        alias: 'class-name'\n      },\n      /*'explicit-implementation': {\n// int IFoo<Foo>.Bar => 0; void IFoo<Foo<Foo>>.Foo<T>();\npattern: replace(/\\b<<0>>(?=\\.<<1>>)/, className, methodOrPropertyDeclaration),\ninside: classNameInside,\nalias: 'class-name'\n},*/\n      'generic-method': {\n        // foo<Bar>()\n        pattern: re(/<<0>>\\s*<<1>>(?=\\s*\\()/.source, [name, generic]),\n        inside: {\n          function: re(/^<<0>>/.source, [name]),\n          generic: {\n            pattern: RegExp(generic),\n            alias: 'class-name',\n            inside: typeInside\n          }\n        }\n      },\n      'type-list': {\n        // The list of types inherited or of generic constraints\n        // class Foo<F> : Bar, IList<FooBar>\n        // where F : Bar, IList<int>\n        pattern: re(\n          /\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/\n            .source,\n          [\n            typeDeclarationKeywords,\n            genericName,\n            name,\n            typeExpression,\n            keywords.source,\n            nestedRound,\n            /\\bnew\\s*\\(\\s*\\)/.source\n          ]\n        ),\n        lookbehind: true,\n        inside: {\n          'record-arguments': {\n            pattern: re(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source, [\n              genericName,\n              nestedRound\n            ]),\n            lookbehind: true,\n            greedy: true,\n            inside: Prism.languages.csharp\n          },\n          keyword: keywords,\n          'class-name': {\n            pattern: RegExp(typeExpression),\n            greedy: true,\n            inside: typeInside\n          },\n          punctuation: /[,()]/\n        }\n      },\n      preprocessor: {\n        pattern: /(^[\\t ]*)#.*/m,\n        lookbehind: true,\n        alias: 'property',\n        inside: {\n          // highlight preprocessor directives as keywords\n          directive: {\n            pattern:\n              /(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,\n            lookbehind: true,\n            alias: 'keyword'\n          }\n        }\n      }\n    }) // attributes\n    var regularStringOrCharacter = regularString + '|' + character\n    var regularStringCharacterOrComment = replace(\n      /\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source,\n      [regularStringOrCharacter]\n    )\n    var roundExpression = nested(\n      replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [\n        regularStringCharacterOrComment\n      ]),\n      2\n    ) // https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/#attribute-targets\n    var attrTarget =\n      /\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/\n        .source\n    var attr = replace(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source, [\n      identifier,\n      roundExpression\n    ])\n    Prism.languages.insertBefore('csharp', 'class-name', {\n      attribute: {\n        // Attributes\n        // [Foo], [Foo(1), Bar(2, Prop = \"foo\")], [return: Foo(1), Bar(2)], [assembly: Foo(Bar)]\n        pattern: re(\n          /((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/\n            .source,\n          [attrTarget, attr]\n        ),\n        lookbehind: true,\n        greedy: true,\n        inside: {\n          target: {\n            pattern: re(/^<<0>>(?=\\s*:)/.source, [attrTarget]),\n            alias: 'keyword'\n          },\n          'attribute-arguments': {\n            pattern: re(/\\(<<0>>*\\)/.source, [roundExpression]),\n            inside: Prism.languages.csharp\n          },\n          'class-name': {\n            pattern: RegExp(identifier),\n            inside: {\n              punctuation: /\\./\n            }\n          },\n          punctuation: /[:,]/\n        }\n      }\n    }) // string interpolation\n    var formatString = /:[^}\\r\\n]+/.source // multi line\n    var mInterpolationRound = nested(\n      replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [\n        regularStringCharacterOrComment\n      ]),\n      2\n    )\n    var mInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n      mInterpolationRound,\n      formatString\n    ]) // single line\n    var sInterpolationRound = nested(\n      replace(\n        /[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/\n          .source,\n        [regularStringOrCharacter]\n      ),\n      2\n    )\n    var sInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [\n      sInterpolationRound,\n      formatString\n    ])\n    function createInterpolationInside(interpolation, interpolationRound) {\n      return {\n        interpolation: {\n          pattern: re(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source, [interpolation]),\n          lookbehind: true,\n          inside: {\n            'format-string': {\n              pattern: re(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source, [\n                interpolationRound,\n                formatString\n              ]),\n              lookbehind: true,\n              inside: {\n                punctuation: /^:/\n              }\n            },\n            punctuation: /^\\{|\\}$/,\n            expression: {\n              pattern: /[\\s\\S]+/,\n              alias: 'language-csharp',\n              inside: Prism.languages.csharp\n            }\n          }\n        },\n        string: /[\\s\\S]+/\n      }\n    }\n    Prism.languages.insertBefore('csharp', 'string', {\n      'interpolation-string': [\n        {\n          pattern: re(\n            /(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source,\n            [mInterpolation]\n          ),\n          lookbehind: true,\n          greedy: true,\n          inside: createInterpolationInside(mInterpolation, mInterpolationRound)\n        },\n        {\n          pattern: re(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source, [\n            sInterpolation\n          ]),\n          lookbehind: true,\n          greedy: true,\n          inside: createInterpolationInside(sInterpolation, sInterpolationRound)\n        }\n      ]\n    })\n  })(Prism)\n  Prism.languages.dotnet = Prism.languages.cs = Prism.languages.csharp\n}\n","'use strict'\n\nvar normalize = require('./normalize')\nvar DefinedInfo = require('./lib/util/defined-info')\nvar Info = require('./lib/util/info')\n\nvar data = 'data'\n\nmodule.exports = find\n\nvar valid = /^data[-\\w.:]+$/i\nvar dash = /-[a-z]/g\nvar cap = /[A-Z]/g\n\nfunction find(schema, value) {\n  var normal = normalize(value)\n  var prop = value\n  var Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === data && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      prop = datasetToProperty(value)\n    } else {\n      value = datasetToAttribute(value)\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\nfunction datasetToProperty(attribute) {\n  var value = attribute.slice(5).replace(dash, camelcase)\n  return data + value.charAt(0).toUpperCase() + value.slice(1)\n}\n\nfunction datasetToAttribute(property) {\n  var value = property.slice(4)\n\n  if (dash.test(value)) {\n    return property\n  }\n\n  value = value.replace(cap, kebab)\n\n  if (value.charAt(0) !== '-') {\n    value = '-' + value\n  }\n\n  return data + value\n}\n\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","'use strict'\n\nvar powers = 0\n\nexports.boolean = increment()\nexports.booleanish = increment()\nexports.overloadedBoolean = increment()\nexports.number = increment()\nexports.spaceSeparated = increment()\nexports.commaSeparated = increment()\nexports.commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return Math.pow(2, ++powers)\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.es/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","import { keydownHandler } from 'prosemirror-keymap';\nimport { NodeSelection, Selection, Plugin, TextSelection } from 'prosemirror-state';\nimport { DecorationSet, Decoration } from 'prosemirror-view';\nimport { Slice } from 'prosemirror-model';\n\n// ::- Gap cursor selections are represented using this class. Its\n// `$anchor` and `$head` properties both point at the cursor position.\nvar GapCursor = /*@__PURE__*/(function (Selection) {\n  function GapCursor($pos) {\n    Selection.call(this, $pos, $pos);\n  }\n\n  if ( Selection ) GapCursor.__proto__ = Selection;\n  GapCursor.prototype = Object.create( Selection && Selection.prototype );\n  GapCursor.prototype.constructor = GapCursor;\n\n  GapCursor.prototype.map = function map (doc, mapping) {\n    var $pos = doc.resolve(mapping.map(this.head));\n    return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos)\n  };\n\n  GapCursor.prototype.content = function content () { return Slice.empty };\n\n  GapCursor.prototype.eq = function eq (other) {\n    return other instanceof GapCursor && other.head == this.head\n  };\n\n  GapCursor.prototype.toJSON = function toJSON () {\n    return {type: \"gapcursor\", pos: this.head}\n  };\n\n  GapCursor.fromJSON = function fromJSON (doc, json) {\n    if (typeof json.pos != \"number\") { throw new RangeError(\"Invalid input for GapCursor.fromJSON\") }\n    return new GapCursor(doc.resolve(json.pos))\n  };\n\n  GapCursor.prototype.getBookmark = function getBookmark () { return new GapBookmark(this.anchor) };\n\n  GapCursor.valid = function valid ($pos) {\n    var parent = $pos.parent;\n    if (parent.isTextblock || !closedBefore($pos) || !closedAfter($pos)) { return false }\n    var override = parent.type.spec.allowGapCursor;\n    if (override != null) { return override }\n    var deflt = parent.contentMatchAt($pos.index()).defaultType;\n    return deflt && deflt.isTextblock\n  };\n\n  GapCursor.findFrom = function findFrom ($pos, dir, mustMove) {\n    search: for (;;) {\n      if (!mustMove && GapCursor.valid($pos)) { return $pos }\n      var pos = $pos.pos, next = null;\n      // Scan up from this position\n      for (var d = $pos.depth;; d--) {\n        var parent = $pos.node(d);\n        if (dir > 0 ? $pos.indexAfter(d) < parent.childCount : $pos.index(d) > 0) {\n          next = parent.child(dir > 0 ? $pos.indexAfter(d) : $pos.index(d) - 1);\n          break\n        } else if (d == 0) {\n          return null\n        }\n        pos += dir;\n        var $cur = $pos.doc.resolve(pos);\n        if (GapCursor.valid($cur)) { return $cur }\n      }\n\n      // And then down into the next node\n      for (;;) {\n        var inside = dir > 0 ? next.firstChild : next.lastChild;\n        if (!inside) {\n          if (next.isAtom && !next.isText && !NodeSelection.isSelectable(next)) {\n            $pos = $pos.doc.resolve(pos + next.nodeSize * dir);\n            mustMove = false;\n            continue search\n          }\n          break\n        }\n        next = inside;\n        pos += dir;\n        var $cur$1 = $pos.doc.resolve(pos);\n        if (GapCursor.valid($cur$1)) { return $cur$1 }\n      }\n\n      return null\n    }\n  };\n\n  return GapCursor;\n}(Selection));\n\nGapCursor.prototype.visible = false;\n\nSelection.jsonID(\"gapcursor\", GapCursor);\n\nvar GapBookmark = function GapBookmark(pos) {\n  this.pos = pos;\n};\nGapBookmark.prototype.map = function map (mapping) {\n  return new GapBookmark(mapping.map(this.pos))\n};\nGapBookmark.prototype.resolve = function resolve (doc) {\n  var $pos = doc.resolve(this.pos);\n  return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos)\n};\n\nfunction closedBefore($pos) {\n  for (var d = $pos.depth; d >= 0; d--) {\n    var index = $pos.index(d), parent = $pos.node(d);\n    // At the start of this parent, look at next one\n    if (index == 0) {\n      if (parent.type.spec.isolating) { return true }\n      continue\n    }\n    // See if the node before (or its first ancestor) is closed\n    for (var before = parent.child(index - 1);; before = before.lastChild) {\n      if ((before.childCount == 0 && !before.inlineContent) || before.isAtom || before.type.spec.isolating) { return true }\n      if (before.inlineContent) { return false }\n    }\n  }\n  // Hit start of document\n  return true\n}\n\nfunction closedAfter($pos) {\n  for (var d = $pos.depth; d >= 0; d--) {\n    var index = $pos.indexAfter(d), parent = $pos.node(d);\n    if (index == parent.childCount) {\n      if (parent.type.spec.isolating) { return true }\n      continue\n    }\n    for (var after = parent.child(index);; after = after.firstChild) {\n      if ((after.childCount == 0 && !after.inlineContent) || after.isAtom || after.type.spec.isolating) { return true }\n      if (after.inlineContent) { return false }\n    }\n  }\n  return true\n}\n\n// :: () → Plugin\n// Create a gap cursor plugin. When enabled, this will capture clicks\n// near and arrow-key-motion past places that don't have a normally\n// selectable position nearby, and create a gap cursor selection for\n// them. The cursor is drawn as an element with class\n// `ProseMirror-gapcursor`. You can either include\n// `style/gapcursor.css` from the package's directory or add your own\n// styles to make it visible.\nvar gapCursor = function() {\n  return new Plugin({\n    props: {\n      decorations: drawGapCursor,\n\n      createSelectionBetween: function createSelectionBetween(_view, $anchor, $head) {\n        if ($anchor.pos == $head.pos && GapCursor.valid($head)) { return new GapCursor($head) }\n      },\n\n      handleClick: handleClick,\n      handleKeyDown: handleKeyDown\n    }\n  })\n};\n\nvar handleKeyDown = keydownHandler({\n  \"ArrowLeft\": arrow(\"horiz\", -1),\n  \"ArrowRight\": arrow(\"horiz\", 1),\n  \"ArrowUp\": arrow(\"vert\", -1),\n  \"ArrowDown\": arrow(\"vert\", 1)\n});\n\nfunction arrow(axis, dir) {\n  var dirStr = axis == \"vert\" ? (dir > 0 ? \"down\" : \"up\") : (dir > 0 ? \"right\" : \"left\");\n  return function(state, dispatch, view) {\n    var sel = state.selection;\n    var $start = dir > 0 ? sel.$to : sel.$from, mustMove = sel.empty;\n    if (sel instanceof TextSelection) {\n      if (!view.endOfTextblock(dirStr) || $start.depth == 0) { return false }\n      mustMove = false;\n      $start = state.doc.resolve(dir > 0 ? $start.after() : $start.before());\n    }\n    var $found = GapCursor.findFrom($start, dir, mustMove);\n    if (!$found) { return false }\n    if (dispatch) { dispatch(state.tr.setSelection(new GapCursor($found))); }\n    return true\n  }\n}\n\nfunction handleClick(view, pos, event) {\n  if (!view.editable) { return false }\n  var $pos = view.state.doc.resolve(pos);\n  if (!GapCursor.valid($pos)) { return false }\n  var ref = view.posAtCoords({left: event.clientX, top: event.clientY});\n  var inside = ref.inside;\n  if (inside > -1 && NodeSelection.isSelectable(view.state.doc.nodeAt(inside))) { return false }\n  view.dispatch(view.state.tr.setSelection(new GapCursor($pos)));\n  return true\n}\n\nfunction drawGapCursor(state) {\n  if (!(state.selection instanceof GapCursor)) { return null }\n  var node = document.createElement(\"div\");\n  node.className = \"ProseMirror-gapcursor\";\n  return DecorationSet.create(state.doc, [Decoration.widget(state.selection.head, node, {key: \"gapcursor\"})])\n}\n\nexport { GapCursor, gapCursor };\n//# sourceMappingURL=index.es.js.map\n","'use strict'\n\nmodule.exports = javascript\njavascript.displayName = 'javascript'\njavascript.aliases = ['js']\nfunction javascript(Prism) {\n  Prism.languages.javascript = Prism.languages.extend('clike', {\n    'class-name': [\n      Prism.languages.clike['class-name'],\n      {\n        pattern:\n          /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:prototype|constructor))/,\n        lookbehind: true\n      }\n    ],\n    keyword: [\n      {\n        pattern: /((?:^|\\})\\s*)catch\\b/,\n        lookbehind: true\n      },\n      {\n        pattern:\n          /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n        lookbehind: true\n      }\n    ],\n    // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n    function:\n      /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n    number:\n      /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n    operator:\n      /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n  })\n  Prism.languages.javascript['class-name'][0].pattern =\n    /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/\n  Prism.languages.insertBefore('javascript', 'keyword', {\n    regex: {\n      // eslint-disable-next-line regexp/no-dupe-characters-character-class\n      pattern:\n        /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n      lookbehind: true,\n      greedy: true,\n      inside: {\n        'regex-source': {\n          pattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n          lookbehind: true,\n          alias: 'language-regex',\n          inside: Prism.languages.regex\n        },\n        'regex-delimiter': /^\\/|\\/$/,\n        'regex-flags': /^[a-z]+$/\n      }\n    },\n    // This must be declared before keyword because we use \"function\" inside the look-forward\n    'function-variable': {\n      pattern:\n        /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n      alias: 'function'\n    },\n    parameter: [\n      {\n        pattern:\n          /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n        lookbehind: true,\n        inside: Prism.languages.javascript\n      },\n      {\n        pattern:\n          /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n        lookbehind: true,\n        inside: Prism.languages.javascript\n      },\n      {\n        pattern:\n          /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n        lookbehind: true,\n        inside: Prism.languages.javascript\n      },\n      {\n        pattern:\n          /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n        lookbehind: true,\n        inside: Prism.languages.javascript\n      }\n    ],\n    constant: /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n  })\n  Prism.languages.insertBefore('javascript', 'string', {\n    hashbang: {\n      pattern: /^#!.*/,\n      greedy: true,\n      alias: 'comment'\n    },\n    'template-string': {\n      pattern:\n        /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n      greedy: true,\n      inside: {\n        'template-punctuation': {\n          pattern: /^`|`$/,\n          alias: 'string'\n        },\n        interpolation: {\n          pattern:\n            /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n          lookbehind: true,\n          inside: {\n            'interpolation-punctuation': {\n              pattern: /^\\$\\{|\\}$/,\n              alias: 'punctuation'\n            },\n            rest: Prism.languages.javascript\n          }\n        },\n        string: /[\\s\\S]+/\n      }\n    }\n  })\n  if (Prism.languages.markup) {\n    Prism.languages.markup.tag.addInlined('script', 'javascript') // add attribute support for all DOM events.\n    // https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n    Prism.languages.markup.tag.addAttribute(\n      /on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/\n        .source,\n      'javascript'\n    )\n  }\n  Prism.languages.js = Prism.languages.javascript\n}\n","'use strict'\n\nvar alphabetical = require('is-alphabetical')\nvar decimal = require('is-decimal')\n\nmodule.exports = alphanumerical\n\n// Check if the given character code, or the character code at the first\n// character, is alphanumerical.\nfunction alphanumerical(character) {\n  return alphabetical(character) || decimal(character)\n}\n","'use strict'\n\nmodule.exports = require('./html')\n","'use strict';\n\n\nvar emojies_defs      = require('./lib/data/full.json');\nvar emojies_shortcuts = require('./lib/data/shortcuts');\nvar bare_emoji_plugin = require('./bare');\n\n\nmodule.exports = function emoji_plugin(md, options) {\n  var defaults = {\n    defs: emojies_defs,\n    shortcuts: emojies_shortcuts,\n    enabled: []\n  };\n\n  var opts = md.utils.assign({}, defaults, options || {});\n\n  bare_emoji_plugin(md, opts);\n};\n","\n;(function (name, root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory()\n    module.exports['default'] = factory()\n  }\n  /* istanbul ignore next */\n  else if (typeof define === 'function' && define.amd) {\n    define(factory)\n  }\n  else {\n    root[name] = factory()\n  }\n}('slugify', this, function () {\n  var charMap = JSON.parse('{\"$\":\"dollar\",\"%\":\"percent\",\"&\":\"and\",\"<\":\"less\",\">\":\"greater\",\"|\":\"or\",\"¢\":\"cent\",\"£\":\"pound\",\"¤\":\"currency\",\"¥\":\"yen\",\"©\":\"(c)\",\"ª\":\"a\",\"®\":\"(r)\",\"º\":\"o\",\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Æ\":\"AE\",\"Ç\":\"C\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ð\":\"D\",\"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\"Þ\":\"TH\",\"ß\":\"ss\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"æ\":\"ae\",\"ç\":\"c\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ð\":\"d\",\"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"þ\":\"th\",\"ÿ\":\"y\",\"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\"Ć\":\"C\",\"ć\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\"Đ\":\"DJ\",\"đ\":\"dj\",\"Ē\":\"E\",\"ē\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\"Ę\":\"e\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"i\",\"ī\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\"ı\":\"i\",\"Ķ\":\"k\",\"ķ\":\"k\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\"Ł\":\"L\",\"ł\":\"l\",\"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\"Ō\":\"O\",\"ō\":\"o\",\"Ő\":\"O\",\"ő\":\"o\",\"Œ\":\"OE\",\"œ\":\"oe\",\"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\"Ś\":\"S\",\"ś\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"u\",\"ū\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\",\"Ə\":\"E\",\"ƒ\":\"f\",\"Ơ\":\"O\",\"ơ\":\"o\",\"Ư\":\"U\",\"ư\":\"u\",\"ǈ\":\"LJ\",\"ǉ\":\"lj\",\"ǋ\":\"NJ\",\"ǌ\":\"nj\",\"Ș\":\"S\",\"ș\":\"s\",\"Ț\":\"T\",\"ț\":\"t\",\"ə\":\"e\",\"˚\":\"o\",\"Ά\":\"A\",\"Έ\":\"E\",\"Ή\":\"H\",\"Ί\":\"I\",\"Ό\":\"O\",\"Ύ\":\"Y\",\"Ώ\":\"W\",\"ΐ\":\"i\",\"Α\":\"A\",\"Β\":\"B\",\"Γ\":\"G\",\"Δ\":\"D\",\"Ε\":\"E\",\"Ζ\":\"Z\",\"Η\":\"H\",\"Θ\":\"8\",\"Ι\":\"I\",\"Κ\":\"K\",\"Λ\":\"L\",\"Μ\":\"M\",\"Ν\":\"N\",\"Ξ\":\"3\",\"Ο\":\"O\",\"Π\":\"P\",\"Ρ\":\"R\",\"Σ\":\"S\",\"Τ\":\"T\",\"Υ\":\"Y\",\"Φ\":\"F\",\"Χ\":\"X\",\"Ψ\":\"PS\",\"Ω\":\"W\",\"Ϊ\":\"I\",\"Ϋ\":\"Y\",\"ά\":\"a\",\"έ\":\"e\",\"ή\":\"h\",\"ί\":\"i\",\"ΰ\":\"y\",\"α\":\"a\",\"β\":\"b\",\"γ\":\"g\",\"δ\":\"d\",\"ε\":\"e\",\"ζ\":\"z\",\"η\":\"h\",\"θ\":\"8\",\"ι\":\"i\",\"κ\":\"k\",\"λ\":\"l\",\"μ\":\"m\",\"ν\":\"n\",\"ξ\":\"3\",\"ο\":\"o\",\"π\":\"p\",\"ρ\":\"r\",\"ς\":\"s\",\"σ\":\"s\",\"τ\":\"t\",\"υ\":\"y\",\"φ\":\"f\",\"χ\":\"x\",\"ψ\":\"ps\",\"ω\":\"w\",\"ϊ\":\"i\",\"ϋ\":\"y\",\"ό\":\"o\",\"ύ\":\"y\",\"ώ\":\"w\",\"Ё\":\"Yo\",\"Ђ\":\"DJ\",\"Є\":\"Ye\",\"І\":\"I\",\"Ї\":\"Yi\",\"Ј\":\"J\",\"Љ\":\"LJ\",\"Њ\":\"NJ\",\"Ћ\":\"C\",\"Џ\":\"DZ\",\"А\":\"A\",\"Б\":\"B\",\"В\":\"V\",\"Г\":\"G\",\"Д\":\"D\",\"Е\":\"E\",\"Ж\":\"Zh\",\"З\":\"Z\",\"И\":\"I\",\"Й\":\"J\",\"К\":\"K\",\"Л\":\"L\",\"М\":\"M\",\"Н\":\"N\",\"О\":\"O\",\"П\":\"P\",\"Р\":\"R\",\"С\":\"S\",\"Т\":\"T\",\"У\":\"U\",\"Ф\":\"F\",\"Х\":\"H\",\"Ц\":\"C\",\"Ч\":\"Ch\",\"Ш\":\"Sh\",\"Щ\":\"Sh\",\"Ъ\":\"U\",\"Ы\":\"Y\",\"Ь\":\"\",\"Э\":\"E\",\"Ю\":\"Yu\",\"Я\":\"Ya\",\"а\":\"a\",\"б\":\"b\",\"в\":\"v\",\"г\":\"g\",\"д\":\"d\",\"е\":\"e\",\"ж\":\"zh\",\"з\":\"z\",\"и\":\"i\",\"й\":\"j\",\"к\":\"k\",\"л\":\"l\",\"м\":\"m\",\"н\":\"n\",\"о\":\"o\",\"п\":\"p\",\"р\":\"r\",\"с\":\"s\",\"т\":\"t\",\"у\":\"u\",\"ф\":\"f\",\"х\":\"h\",\"ц\":\"c\",\"ч\":\"ch\",\"ш\":\"sh\",\"щ\":\"sh\",\"ъ\":\"u\",\"ы\":\"y\",\"ь\":\"\",\"э\":\"e\",\"ю\":\"yu\",\"я\":\"ya\",\"ё\":\"yo\",\"ђ\":\"dj\",\"є\":\"ye\",\"і\":\"i\",\"ї\":\"yi\",\"ј\":\"j\",\"љ\":\"lj\",\"њ\":\"nj\",\"ћ\":\"c\",\"ѝ\":\"u\",\"џ\":\"dz\",\"Ґ\":\"G\",\"ґ\":\"g\",\"Ғ\":\"GH\",\"ғ\":\"gh\",\"Қ\":\"KH\",\"қ\":\"kh\",\"Ң\":\"NG\",\"ң\":\"ng\",\"Ү\":\"UE\",\"ү\":\"ue\",\"Ұ\":\"U\",\"ұ\":\"u\",\"Һ\":\"H\",\"һ\":\"h\",\"Ә\":\"AE\",\"ә\":\"ae\",\"Ө\":\"OE\",\"ө\":\"oe\",\"Ա\":\"A\",\"Բ\":\"B\",\"Գ\":\"G\",\"Դ\":\"D\",\"Ե\":\"E\",\"Զ\":\"Z\",\"Է\":\"E\\'\",\"Ը\":\"Y\\'\",\"Թ\":\"T\\'\",\"Ժ\":\"JH\",\"Ի\":\"I\",\"Լ\":\"L\",\"Խ\":\"X\",\"Ծ\":\"C\\'\",\"Կ\":\"K\",\"Հ\":\"H\",\"Ձ\":\"D\\'\",\"Ղ\":\"GH\",\"Ճ\":\"TW\",\"Մ\":\"M\",\"Յ\":\"Y\",\"Ն\":\"N\",\"Շ\":\"SH\",\"Չ\":\"CH\",\"Պ\":\"P\",\"Ջ\":\"J\",\"Ռ\":\"R\\'\",\"Ս\":\"S\",\"Վ\":\"V\",\"Տ\":\"T\",\"Ր\":\"R\",\"Ց\":\"C\",\"Փ\":\"P\\'\",\"Ք\":\"Q\\'\",\"Օ\":\"O\\'\\'\",\"Ֆ\":\"F\",\"և\":\"EV\",\"ء\":\"a\",\"آ\":\"aa\",\"أ\":\"a\",\"ؤ\":\"u\",\"إ\":\"i\",\"ئ\":\"e\",\"ا\":\"a\",\"ب\":\"b\",\"ة\":\"h\",\"ت\":\"t\",\"ث\":\"th\",\"ج\":\"j\",\"ح\":\"h\",\"خ\":\"kh\",\"د\":\"d\",\"ذ\":\"th\",\"ر\":\"r\",\"ز\":\"z\",\"س\":\"s\",\"ش\":\"sh\",\"ص\":\"s\",\"ض\":\"dh\",\"ط\":\"t\",\"ظ\":\"z\",\"ع\":\"a\",\"غ\":\"gh\",\"ف\":\"f\",\"ق\":\"q\",\"ك\":\"k\",\"ل\":\"l\",\"م\":\"m\",\"ن\":\"n\",\"ه\":\"h\",\"و\":\"w\",\"ى\":\"a\",\"ي\":\"y\",\"ً\":\"an\",\"ٌ\":\"on\",\"ٍ\":\"en\",\"َ\":\"a\",\"ُ\":\"u\",\"ِ\":\"e\",\"ْ\":\"\",\"٠\":\"0\",\"١\":\"1\",\"٢\":\"2\",\"٣\":\"3\",\"٤\":\"4\",\"٥\":\"5\",\"٦\":\"6\",\"٧\":\"7\",\"٨\":\"8\",\"٩\":\"9\",\"پ\":\"p\",\"چ\":\"ch\",\"ژ\":\"zh\",\"ک\":\"k\",\"گ\":\"g\",\"ی\":\"y\",\"۰\":\"0\",\"۱\":\"1\",\"۲\":\"2\",\"۳\":\"3\",\"۴\":\"4\",\"۵\":\"5\",\"۶\":\"6\",\"۷\":\"7\",\"۸\":\"8\",\"۹\":\"9\",\"฿\":\"baht\",\"ა\":\"a\",\"ბ\":\"b\",\"გ\":\"g\",\"დ\":\"d\",\"ე\":\"e\",\"ვ\":\"v\",\"ზ\":\"z\",\"თ\":\"t\",\"ი\":\"i\",\"კ\":\"k\",\"ლ\":\"l\",\"მ\":\"m\",\"ნ\":\"n\",\"ო\":\"o\",\"პ\":\"p\",\"ჟ\":\"zh\",\"რ\":\"r\",\"ს\":\"s\",\"ტ\":\"t\",\"უ\":\"u\",\"ფ\":\"f\",\"ქ\":\"k\",\"ღ\":\"gh\",\"ყ\":\"q\",\"შ\":\"sh\",\"ჩ\":\"ch\",\"ც\":\"ts\",\"ძ\":\"dz\",\"წ\":\"ts\",\"ჭ\":\"ch\",\"ხ\":\"kh\",\"ჯ\":\"j\",\"ჰ\":\"h\",\"Ṣ\":\"S\",\"ṣ\":\"s\",\"Ẁ\":\"W\",\"ẁ\":\"w\",\"Ẃ\":\"W\",\"ẃ\":\"w\",\"Ẅ\":\"W\",\"ẅ\":\"w\",\"ẞ\":\"SS\",\"Ạ\":\"A\",\"ạ\":\"a\",\"Ả\":\"A\",\"ả\":\"a\",\"Ấ\":\"A\",\"ấ\":\"a\",\"Ầ\":\"A\",\"ầ\":\"a\",\"Ẩ\":\"A\",\"ẩ\":\"a\",\"Ẫ\":\"A\",\"ẫ\":\"a\",\"Ậ\":\"A\",\"ậ\":\"a\",\"Ắ\":\"A\",\"ắ\":\"a\",\"Ằ\":\"A\",\"ằ\":\"a\",\"Ẳ\":\"A\",\"ẳ\":\"a\",\"Ẵ\":\"A\",\"ẵ\":\"a\",\"Ặ\":\"A\",\"ặ\":\"a\",\"Ẹ\":\"E\",\"ẹ\":\"e\",\"Ẻ\":\"E\",\"ẻ\":\"e\",\"Ẽ\":\"E\",\"ẽ\":\"e\",\"Ế\":\"E\",\"ế\":\"e\",\"Ề\":\"E\",\"ề\":\"e\",\"Ể\":\"E\",\"ể\":\"e\",\"Ễ\":\"E\",\"ễ\":\"e\",\"Ệ\":\"E\",\"ệ\":\"e\",\"Ỉ\":\"I\",\"ỉ\":\"i\",\"Ị\":\"I\",\"ị\":\"i\",\"Ọ\":\"O\",\"ọ\":\"o\",\"Ỏ\":\"O\",\"ỏ\":\"o\",\"Ố\":\"O\",\"ố\":\"o\",\"Ồ\":\"O\",\"ồ\":\"o\",\"Ổ\":\"O\",\"ổ\":\"o\",\"Ỗ\":\"O\",\"ỗ\":\"o\",\"Ộ\":\"O\",\"ộ\":\"o\",\"Ớ\":\"O\",\"ớ\":\"o\",\"Ờ\":\"O\",\"ờ\":\"o\",\"Ở\":\"O\",\"ở\":\"o\",\"Ỡ\":\"O\",\"ỡ\":\"o\",\"Ợ\":\"O\",\"ợ\":\"o\",\"Ụ\":\"U\",\"ụ\":\"u\",\"Ủ\":\"U\",\"ủ\":\"u\",\"Ứ\":\"U\",\"ứ\":\"u\",\"Ừ\":\"U\",\"ừ\":\"u\",\"Ử\":\"U\",\"ử\":\"u\",\"Ữ\":\"U\",\"ữ\":\"u\",\"Ự\":\"U\",\"ự\":\"u\",\"Ỳ\":\"Y\",\"ỳ\":\"y\",\"Ỵ\":\"Y\",\"ỵ\":\"y\",\"Ỷ\":\"Y\",\"ỷ\":\"y\",\"Ỹ\":\"Y\",\"ỹ\":\"y\",\"–\":\"-\",\"‘\":\"\\'\",\"’\":\"\\'\",\"“\":\"\\\\\\\"\",\"”\":\"\\\\\\\"\",\"„\":\"\\\\\\\"\",\"†\":\"+\",\"•\":\"*\",\"…\":\"...\",\"₠\":\"ecu\",\"₢\":\"cruzeiro\",\"₣\":\"french franc\",\"₤\":\"lira\",\"₥\":\"mill\",\"₦\":\"naira\",\"₧\":\"peseta\",\"₨\":\"rupee\",\"₩\":\"won\",\"₪\":\"new shequel\",\"₫\":\"dong\",\"€\":\"euro\",\"₭\":\"kip\",\"₮\":\"tugrik\",\"₯\":\"drachma\",\"₰\":\"penny\",\"₱\":\"peso\",\"₲\":\"guarani\",\"₳\":\"austral\",\"₴\":\"hryvnia\",\"₵\":\"cedi\",\"₸\":\"kazakhstani tenge\",\"₹\":\"indian rupee\",\"₺\":\"turkish lira\",\"₽\":\"russian ruble\",\"₿\":\"bitcoin\",\"℠\":\"sm\",\"™\":\"tm\",\"∂\":\"d\",\"∆\":\"delta\",\"∑\":\"sum\",\"∞\":\"infinity\",\"♥\":\"love\",\"元\":\"yuan\",\"円\":\"yen\",\"﷼\":\"rial\",\"ﻵ\":\"laa\",\"ﻷ\":\"laa\",\"ﻹ\":\"lai\",\"ﻻ\":\"la\"}')\n  var locales = JSON.parse('{\"bg\":{\"Й\":\"Y\",\"Ц\":\"Ts\",\"Щ\":\"Sht\",\"Ъ\":\"A\",\"Ь\":\"Y\",\"й\":\"y\",\"ц\":\"ts\",\"щ\":\"sht\",\"ъ\":\"a\",\"ь\":\"y\"},\"de\":{\"Ä\":\"AE\",\"ä\":\"ae\",\"Ö\":\"OE\",\"ö\":\"oe\",\"Ü\":\"UE\",\"ü\":\"ue\",\"ß\":\"ss\",\"%\":\"prozent\",\"&\":\"und\",\"|\":\"oder\",\"∑\":\"summe\",\"∞\":\"unendlich\",\"♥\":\"liebe\"},\"es\":{\"%\":\"por ciento\",\"&\":\"y\",\"<\":\"menor que\",\">\":\"mayor que\",\"|\":\"o\",\"¢\":\"centavos\",\"£\":\"libras\",\"¤\":\"moneda\",\"₣\":\"francos\",\"∑\":\"suma\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"fr\":{\"%\":\"pourcent\",\"&\":\"et\",\"<\":\"plus petit\",\">\":\"plus grand\",\"|\":\"ou\",\"¢\":\"centime\",\"£\":\"livre\",\"¤\":\"devise\",\"₣\":\"franc\",\"∑\":\"somme\",\"∞\":\"infini\",\"♥\":\"amour\"},\"pt\":{\"%\":\"porcento\",\"&\":\"e\",\"<\":\"menor\",\">\":\"maior\",\"|\":\"ou\",\"¢\":\"centavo\",\"∑\":\"soma\",\"£\":\"libra\",\"∞\":\"infinito\",\"♥\":\"amor\"},\"uk\":{\"И\":\"Y\",\"и\":\"y\",\"Й\":\"Y\",\"й\":\"y\",\"Ц\":\"Ts\",\"ц\":\"ts\",\"Х\":\"Kh\",\"х\":\"kh\",\"Щ\":\"Shch\",\"щ\":\"shch\",\"Г\":\"H\",\"г\":\"h\"},\"vi\":{\"Đ\":\"D\",\"đ\":\"d\"},\"da\":{\"Ø\":\"OE\",\"ø\":\"oe\",\"Å\":\"AA\",\"å\":\"aa\",\"%\":\"procent\",\"&\":\"og\",\"|\":\"eller\",\"$\":\"dollar\",\"<\":\"mindre end\",\">\":\"større end\"},\"nb\":{\"&\":\"og\",\"Å\":\"AA\",\"Æ\":\"AE\",\"Ø\":\"OE\",\"å\":\"aa\",\"æ\":\"ae\",\"ø\":\"oe\"},\"it\":{\"&\":\"e\"},\"nl\":{\"&\":\"en\"},\"sv\":{\"&\":\"och\",\"Å\":\"AA\",\"Ä\":\"AE\",\"Ö\":\"OE\",\"å\":\"aa\",\"ä\":\"ae\",\"ö\":\"oe\"}}')\n\n  function replace (string, options) {\n    if (typeof string !== 'string') {\n      throw new Error('slugify: string argument expected')\n    }\n\n    options = (typeof options === 'string')\n      ? {replacement: options}\n      : options || {}\n\n    var locale = locales[options.locale] || {}\n\n    var replacement = options.replacement === undefined ? '-' : options.replacement\n\n    var trim = options.trim === undefined ? true : options.trim\n\n    var slug = string.normalize().split('')\n      // replace characters based on charMap\n      .reduce(function (result, ch) {\n        var appendChar = locale[ch] || charMap[ch] || ch;\n        if (appendChar === replacement) {\n          appendChar = ' ';\n        }\n        return result + appendChar\n          // remove not allowed characters\n          .replace(options.remove || /[^\\w\\s$*_+~.()'\"!\\-:@]+/g, '')\n      }, '');\n\n    if (options.strict) {\n      slug = slug.replace(/[^A-Za-z0-9\\s]/g, '');\n    }\n\n    if (trim) {\n      slug = slug.trim()\n    }\n\n    // Replace spaces with replacement character, treating multiple consecutive\n    // spaces as a single space.\n    slug = slug.replace(/\\s+/g, replacement);\n\n    if (options.lower) {\n      slug = slug.toLowerCase()\n    }\n\n    return slug\n  }\n\n  replace.extend = function (customMap) {\n    Object.assign(charMap, customMap)\n  }\n\n  return replace\n}))\n","// Convert input options to more useable format\n// and compile search regexp\n\n'use strict';\n\n\nfunction quoteRE(str) {\n  return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&');\n}\n\n\nmodule.exports = function normalize_opts(options) {\n  var emojies = options.defs,\n      shortcuts;\n\n  // Filter emojies by whitelist, if needed\n  if (options.enabled.length) {\n    emojies = Object.keys(emojies).reduce(function (acc, key) {\n      if (options.enabled.indexOf(key) >= 0) {\n        acc[key] = emojies[key];\n      }\n      return acc;\n    }, {});\n  }\n\n  // Flatten shortcuts to simple object: { alias: emoji_name }\n  shortcuts = Object.keys(options.shortcuts).reduce(function (acc, key) {\n    // Skip aliases for filtered emojies, to reduce regexp\n    if (!emojies[key]) { return acc; }\n\n    if (Array.isArray(options.shortcuts[key])) {\n      options.shortcuts[key].forEach(function (alias) {\n        acc[alias] = key;\n      });\n      return acc;\n    }\n\n    acc[options.shortcuts[key]] = key;\n    return acc;\n  }, {});\n\n  var keys = Object.keys(emojies),\n      names;\n\n  // If no definitions are given, return empty regex to avoid replacements with 'undefined'.\n  if (keys.length === 0) {\n    names = '^$';\n  } else {\n    // Compile regexp\n    names = keys\n      .map(function (name) { return ':' + name + ':'; })\n      .concat(Object.keys(shortcuts))\n      .sort()\n      .reverse()\n      .map(function (name) { return quoteRE(name); })\n      .join('|');\n  }\n  var scanRE = RegExp(names);\n  var replaceRE = RegExp(names, 'g');\n\n  return {\n    defs: emojies,\n    shortcuts: shortcuts,\n    scanRE: scanRE,\n    replaceRE: replaceRE\n  };\n};\n","'use strict'\n\nmodule.exports = markup\nmarkup.displayName = 'markup'\nmarkup.aliases = ['html', 'mathml', 'svg', 'xml', 'ssml', 'atom', 'rss']\nfunction markup(Prism) {\n  Prism.languages.markup = {\n    comment: {\n      pattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n      greedy: true\n    },\n    prolog: {\n      pattern: /<\\?[\\s\\S]+?\\?>/,\n      greedy: true\n    },\n    doctype: {\n      // https://www.w3.org/TR/xml/#NT-doctypedecl\n      pattern:\n        /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n      greedy: true,\n      inside: {\n        'internal-subset': {\n          pattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n          lookbehind: true,\n          greedy: true,\n          inside: null // see below\n        },\n        string: {\n          pattern: /\"[^\"]*\"|'[^']*'/,\n          greedy: true\n        },\n        punctuation: /^<!|>$|[[\\]]/,\n        'doctype-tag': /^DOCTYPE/i,\n        name: /[^\\s<>'\"]+/\n      }\n    },\n    cdata: {\n      pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n      greedy: true\n    },\n    tag: {\n      pattern:\n        /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n      greedy: true,\n      inside: {\n        tag: {\n          pattern: /^<\\/?[^\\s>\\/]+/,\n          inside: {\n            punctuation: /^<\\/?/,\n            namespace: /^[^\\s>\\/:]+:/\n          }\n        },\n        'special-attr': [],\n        'attr-value': {\n          pattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n          inside: {\n            punctuation: [\n              {\n                pattern: /^=/,\n                alias: 'attr-equals'\n              },\n              /\"|'/\n            ]\n          }\n        },\n        punctuation: /\\/?>/,\n        'attr-name': {\n          pattern: /[^\\s>\\/]+/,\n          inside: {\n            namespace: /^[^\\s>\\/:]+:/\n          }\n        }\n      }\n    },\n    entity: [\n      {\n        pattern: /&[\\da-z]{1,8};/i,\n        alias: 'named-entity'\n      },\n      /&#x?[\\da-f]{1,8};/i\n    ]\n  }\n  Prism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n    Prism.languages.markup['entity']\n  Prism.languages.markup['doctype'].inside['internal-subset'].inside =\n    Prism.languages.markup // Plugin to make entity title show the real entity, idea by Roman Komarov\n  Prism.hooks.add('wrap', function (env) {\n    if (env.type === 'entity') {\n      env.attributes['title'] = env.content.value.replace(/&amp;/, '&')\n    }\n  })\n  Object.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n    /**\n     * Adds an inlined language to markup.\n     *\n     * An example of an inlined language is CSS with `<style>` tags.\n     *\n     * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n     * case insensitive.\n     * @param {string} lang The language key.\n     * @example\n     * addInlined('style', 'css');\n     */\n    value: function addInlined(tagName, lang) {\n      var includedCdataInside = {}\n      includedCdataInside['language-' + lang] = {\n        pattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n        lookbehind: true,\n        inside: Prism.languages[lang]\n      }\n      includedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i\n      var inside = {\n        'included-cdata': {\n          pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n          inside: includedCdataInside\n        }\n      }\n      inside['language-' + lang] = {\n        pattern: /[\\s\\S]+/,\n        inside: Prism.languages[lang]\n      }\n      var def = {}\n      def[tagName] = {\n        pattern: RegExp(\n          /(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(\n            /__/g,\n            function () {\n              return tagName\n            }\n          ),\n          'i'\n        ),\n        lookbehind: true,\n        greedy: true,\n        inside: inside\n      }\n      Prism.languages.insertBefore('markup', 'cdata', def)\n    }\n  })\n  Object.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n    /**\n     * Adds an pattern to highlight languages embedded in HTML attributes.\n     *\n     * An example of an inlined language is CSS with `style` attributes.\n     *\n     * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n     * case insensitive.\n     * @param {string} lang The language key.\n     * @example\n     * addAttribute('style', 'css');\n     */\n    value: function (attrName, lang) {\n      Prism.languages.markup.tag.inside['special-attr'].push({\n        pattern: RegExp(\n          /(^|[\"'\\s])/.source +\n            '(?:' +\n            attrName +\n            ')' +\n            /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n          'i'\n        ),\n        lookbehind: true,\n        inside: {\n          'attr-name': /^[^\\s=]+/,\n          'attr-value': {\n            pattern: /=[\\s\\S]+/,\n            inside: {\n              value: {\n                pattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n                lookbehind: true,\n                alias: [lang, 'language-' + lang],\n                inside: Prism.languages[lang]\n              },\n              punctuation: [\n                {\n                  pattern: /^=/,\n                  alias: 'attr-equals'\n                },\n                /\"|'/\n              ]\n            }\n          }\n        }\n      })\n    }\n  })\n  Prism.languages.html = Prism.languages.markup\n  Prism.languages.mathml = Prism.languages.markup\n  Prism.languages.svg = Prism.languages.markup\n  Prism.languages.xml = Prism.languages.extend('markup', {})\n  Prism.languages.ssml = Prism.languages.xml\n  Prism.languages.atom = Prism.languages.xml\n  Prism.languages.rss = Prism.languages.xml\n}\n","'use strict'\n\nmodule.exports = json\njson.displayName = 'json'\njson.aliases = ['webmanifest']\nfunction json(Prism) {\n  // https://www.json.org/json-en.html\n  Prism.languages.json = {\n    property: {\n      pattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n      lookbehind: true,\n      greedy: true\n    },\n    string: {\n      pattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n      lookbehind: true,\n      greedy: true\n    },\n    comment: {\n      pattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n      greedy: true\n    },\n    number: /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n    punctuation: /[{}[\\],]/,\n    operator: /:/,\n    boolean: /\\b(?:true|false)\\b/,\n    null: {\n      pattern: /\\bnull\\b/,\n      alias: 'keyword'\n    }\n  }\n  Prism.languages.webmanifest = Prism.languages.json\n}\n","'use strict'\n\nmodule.exports = perl\nperl.displayName = 'perl'\nperl.aliases = []\nfunction perl(Prism) {\n  Prism.languages.perl = {\n    comment: [\n      {\n        // POD\n        pattern: /(^\\s*)=\\w[\\s\\S]*?=cut.*/m,\n        lookbehind: true\n      },\n      {\n        pattern: /(^|[^\\\\$])#.*/,\n        lookbehind: true\n      }\n    ],\n    // TODO Could be nice to handle Heredoc too.\n    string: [\n      // q/.../\n      {\n        pattern:\n          /\\b(?:q|qq|qx|qw)\\s*([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/,\n        greedy: true\n      }, // q a...a\n      {\n        pattern: /\\b(?:q|qq|qx|qw)\\s+([a-zA-Z0-9])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/,\n        greedy: true\n      }, // q(...)\n      {\n        pattern: /\\b(?:q|qq|qx|qw)\\s*\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/,\n        greedy: true\n      }, // q{...}\n      {\n        pattern: /\\b(?:q|qq|qx|qw)\\s*\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\}/,\n        greedy: true\n      }, // q[...]\n      {\n        pattern: /\\b(?:q|qq|qx|qw)\\s*\\[(?:[^[\\]\\\\]|\\\\[\\s\\S])*\\]/,\n        greedy: true\n      }, // q<...>\n      {\n        pattern: /\\b(?:q|qq|qx|qw)\\s*<(?:[^<>\\\\]|\\\\[\\s\\S])*>/,\n        greedy: true\n      }, // \"...\", `...`\n      {\n        pattern: /(\"|`)(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/,\n        greedy: true\n      }, // '...'\n      // FIXME Multi-line single-quoted strings are not supported as they would break variables containing '\n      {\n        pattern: /'(?:[^'\\\\\\r\\n]|\\\\.)*'/,\n        greedy: true\n      }\n    ],\n    regex: [\n      // m/.../\n      {\n        pattern:\n          /\\b(?:m|qr)\\s*([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1[msixpodualngc]*/,\n        greedy: true\n      }, // m a...a\n      {\n        pattern:\n          /\\b(?:m|qr)\\s+([a-zA-Z0-9])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1[msixpodualngc]*/,\n        greedy: true\n      }, // m(...)\n      {\n        pattern: /\\b(?:m|qr)\\s*\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)[msixpodualngc]*/,\n        greedy: true\n      }, // m{...}\n      {\n        pattern: /\\b(?:m|qr)\\s*\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\}[msixpodualngc]*/,\n        greedy: true\n      }, // m[...]\n      {\n        pattern: /\\b(?:m|qr)\\s*\\[(?:[^[\\]\\\\]|\\\\[\\s\\S])*\\][msixpodualngc]*/,\n        greedy: true\n      }, // m<...>\n      {\n        pattern: /\\b(?:m|qr)\\s*<(?:[^<>\\\\]|\\\\[\\s\\S])*>[msixpodualngc]*/,\n        greedy: true\n      }, // The lookbehinds prevent -s from breaking\n      // FIXME We don't handle change of separator like s(...)[...]\n      // s/.../.../\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s*([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2[msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // s a...a...a\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s+([a-zA-Z0-9])(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2(?:(?!\\2)[^\\\\]|\\\\[\\s\\S])*\\2[msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // s(...)(...)\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s*\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)\\s*\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)[msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // s{...}{...}\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s*\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\}\\s*\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\}[msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // s[...][...]\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s*\\[(?:[^[\\]\\\\]|\\\\[\\s\\S])*\\]\\s*\\[(?:[^[\\]\\\\]|\\\\[\\s\\S])*\\][msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // s<...><...>\n      {\n        pattern:\n          /(^|[^-]\\b)(?:s|tr|y)\\s*<(?:[^<>\\\\]|\\\\[\\s\\S])*>\\s*<(?:[^<>\\\\]|\\\\[\\s\\S])*>[msixpodualngcer]*/,\n        lookbehind: true,\n        greedy: true\n      }, // /.../\n      // The look-ahead tries to prevent two divisions on\n      // the same line from being highlighted as regex.\n      // This does not support multi-line regex.\n      {\n        pattern:\n          /\\/(?:[^\\/\\\\\\r\\n]|\\\\.)*\\/[msixpodualngc]*(?=\\s*(?:$|[\\r\\n,.;})&|\\-+*~<>!?^]|(?:lt|gt|le|ge|eq|ne|cmp|not|and|or|xor|x)\\b))/,\n        greedy: true\n      }\n    ],\n    // FIXME Not sure about the handling of ::, ', and #\n    variable: [\n      // ${^POSTMATCH}\n      /[&*$@%]\\{\\^[A-Z]+\\}/, // $^V\n      /[&*$@%]\\^[A-Z_]/, // ${...}\n      /[&*$@%]#?(?=\\{)/, // $foo\n      /[&*$@%]#?(?:(?:::)*'?(?!\\d)[\\w$]+(?![\\w$]))+(?:::)*/i, // $1\n      /[&*$@%]\\d+/, // $_, @_, %!\n      // The negative lookahead prevents from breaking the %= operator\n      /(?!%=)[$@%][!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~]/\n    ],\n    filehandle: {\n      // <>, <FOO>, _\n      pattern: /<(?![<=])\\S*>|\\b_\\b/,\n      alias: 'symbol'\n    },\n    vstring: {\n      // v1.2, 1.2.3\n      pattern: /v\\d+(?:\\.\\d+)*|\\d+(?:\\.\\d+){2,}/,\n      alias: 'string'\n    },\n    function: {\n      pattern: /sub \\w+/i,\n      inside: {\n        keyword: /sub/\n      }\n    },\n    keyword:\n      /\\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\\b/,\n    number:\n      /\\b(?:0x[\\dA-Fa-f](?:_?[\\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\\d(?:_?\\d)*)?\\.)?\\d(?:_?\\d)*(?:[Ee][+-]?\\d+)?)\\b/,\n    operator:\n      /-[rwxoRWXOezsfdlpSbctugkTBMAC]\\b|\\+[+=]?|-[-=>]?|\\*\\*?=?|\\/\\/?=?|=[=~>]?|~[~=]?|\\|\\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\\.(?:=|\\.\\.?)?|[\\\\?]|\\bx(?:=|\\b)|\\b(?:lt|gt|le|ge|eq|ne|cmp|not|and|or|xor)\\b/,\n    punctuation: /[{}[\\];(),:]/\n  }\n}\n","'use strict'\n\nvar types = require('./util/types')\nvar create = require('./util/create')\nvar caseInsensitiveTransform = require('./util/case-insensitive-transform')\n\nvar boolean = types.boolean\nvar overloadedBoolean = types.overloadedBoolean\nvar booleanish = types.booleanish\nvar number = types.number\nvar spaceSeparated = types.spaceSeparated\nvar commaSeparated = types.commaSeparated\n\nmodule.exports = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    capture: boolean,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: commaSeparated,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforePrint: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextMenu: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: commaSeparated,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","'use strict'\n\nmodule.exports = bash\nbash.displayName = 'bash'\nbash.aliases = ['shell']\nfunction bash(Prism) {\n  ;(function (Prism) {\n    // $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n    // + LC_ALL, RANDOM, REPLY, SECONDS.\n    // + make sure PS1..4 are here as they are not always set,\n    // - some useless things.\n    var envVars =\n      '\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b'\n    var commandAfterHeredoc = {\n      pattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n      lookbehind: true,\n      alias: 'punctuation',\n      // this looks reasonably well in all themes\n      inside: null // see below\n    }\n    var insideString = {\n      bash: commandAfterHeredoc,\n      environment: {\n        pattern: RegExp('\\\\$' + envVars),\n        alias: 'constant'\n      },\n      variable: [\n        // [0]: Arithmetic Environment\n        {\n          pattern: /\\$?\\(\\([\\s\\S]+?\\)\\)/,\n          greedy: true,\n          inside: {\n            // If there is a $ sign at the beginning highlight $(( and )) as variable\n            variable: [\n              {\n                pattern: /(^\\$\\(\\([\\s\\S]+)\\)\\)/,\n                lookbehind: true\n              },\n              /^\\$\\(\\(/\n            ],\n            number:\n              /\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n            // Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n            operator:\n              /--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,\n            // If there is no $ sign at the beginning highlight (( and )) as punctuation\n            punctuation: /\\(\\(?|\\)\\)?|,|;/\n          }\n        }, // [1]: Command Substitution\n        {\n          pattern: /\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,\n          greedy: true,\n          inside: {\n            variable: /^\\$\\(|^`|\\)$|`$/\n          }\n        }, // [2]: Brace expansion\n        {\n          pattern: /\\$\\{[^}]+\\}/,\n          greedy: true,\n          inside: {\n            operator: /:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,\n            punctuation: /[\\[\\]]/,\n            environment: {\n              pattern: RegExp('(\\\\{)' + envVars),\n              lookbehind: true,\n              alias: 'constant'\n            }\n          }\n        },\n        /\\$(?:\\w+|[#?*!@$])/\n      ],\n      // Escape sequences from echo and printf's manuals, and escaped quotes.\n      entity:\n        /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/\n    }\n    Prism.languages.bash = {\n      shebang: {\n        pattern: /^#!\\s*\\/.*/,\n        alias: 'important'\n      },\n      comment: {\n        pattern: /(^|[^\"{\\\\$])#.*/,\n        lookbehind: true\n      },\n      'function-name': [\n        // a) function foo {\n        // b) foo() {\n        // c) function foo() {\n        // but not “foo {”\n        {\n          // a) and c)\n          pattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n          lookbehind: true,\n          alias: 'function'\n        },\n        {\n          // b)\n          pattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n          alias: 'function'\n        }\n      ],\n      // Highlight variable names as variables in for and select beginnings.\n      'for-or-select': {\n        pattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n        alias: 'variable',\n        lookbehind: true\n      },\n      // Highlight variable names as variables in the left-hand part\n      // of assignments (“=” and “+=”).\n      'assign-left': {\n        pattern: /(^|[\\s;|&]|[<>]\\()\\w+(?=\\+?=)/,\n        inside: {\n          environment: {\n            pattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n            lookbehind: true,\n            alias: 'constant'\n          }\n        },\n        alias: 'variable',\n        lookbehind: true\n      },\n      string: [\n        // Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n        {\n          pattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,\n          lookbehind: true,\n          greedy: true,\n          inside: insideString\n        }, // Here-document with quotes around the tag\n        // → No expansion (so no “inside”).\n        {\n          pattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,\n          lookbehind: true,\n          greedy: true,\n          inside: {\n            bash: commandAfterHeredoc\n          }\n        }, // “Normal” string\n        {\n          // https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n          pattern:\n            /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,\n          lookbehind: true,\n          greedy: true,\n          inside: insideString\n        },\n        {\n          // https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n          pattern: /(^|[^$\\\\])'[^']*'/,\n          lookbehind: true,\n          greedy: true\n        },\n        {\n          // https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n          pattern: /\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,\n          greedy: true,\n          inside: {\n            entity: insideString.entity\n          }\n        }\n      ],\n      environment: {\n        pattern: RegExp('\\\\$?' + envVars),\n        alias: 'constant'\n      },\n      variable: insideString.variable,\n      function: {\n        pattern:\n          /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,\n        lookbehind: true\n      },\n      keyword: {\n        pattern:\n          /(^|[\\s;|&]|[<>]\\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\\s;|&])/,\n        lookbehind: true\n      },\n      // https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n      builtin: {\n        pattern:\n          /(^|[\\s;|&]|[<>]\\()(?:\\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\\s;|&])/,\n        lookbehind: true,\n        // Alias added to make those easier to distinguish from strings.\n        alias: 'class-name'\n      },\n      boolean: {\n        pattern: /(^|[\\s;|&]|[<>]\\()(?:true|false)(?=$|[)\\s;|&])/,\n        lookbehind: true\n      },\n      'file-descriptor': {\n        pattern: /\\B&\\d\\b/,\n        alias: 'important'\n      },\n      operator: {\n        // Lots of redirections here, but not just that.\n        pattern:\n          /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n        inside: {\n          'file-descriptor': {\n            pattern: /^\\d/,\n            alias: 'important'\n          }\n        }\n      },\n      punctuation: /\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,\n      number: {\n        pattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n        lookbehind: true\n      }\n    }\n    commandAfterHeredoc.inside = Prism.languages.bash\n    /* Patterns in command substitution. */\n    var toBeCopied = [\n      'comment',\n      'function-name',\n      'for-or-select',\n      'assign-left',\n      'string',\n      'environment',\n      'function',\n      'keyword',\n      'builtin',\n      'boolean',\n      'file-descriptor',\n      'operator',\n      'punctuation',\n      'number'\n    ]\n    var inside = insideString.variable[1].inside\n    for (var i = 0; i < toBeCopied.length; i++) {\n      inside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]]\n    }\n    Prism.languages.shell = Prism.languages.bash\n  })(Prism)\n}\n","// Emojies & shortcuts replacement logic.\n//\n// Note: In theory, it could be faster to parse :smile: in inline chain and\n// leave only shortcuts here. But, who care...\n//\n\n'use strict';\n\n\nmodule.exports = function create_rule(md, emojies, shortcuts, scanRE, replaceRE) {\n  var arrayReplaceAt = md.utils.arrayReplaceAt,\n      ucm = md.utils.lib.ucmicro,\n      ZPCc = new RegExp([ ucm.Z.source, ucm.P.source, ucm.Cc.source ].join('|'));\n\n  function splitTextToken(text, level, Token) {\n    var token, last_pos = 0, nodes = [];\n\n    text.replace(replaceRE, function (match, offset, src) {\n      var emoji_name;\n      // Validate emoji name\n      if (shortcuts.hasOwnProperty(match)) {\n        // replace shortcut with full name\n        emoji_name = shortcuts[match];\n\n        // Don't allow letters before any shortcut (as in no \":/\" in http://)\n        if (offset > 0 && !ZPCc.test(src[offset - 1])) {\n          return;\n        }\n\n        // Don't allow letters after any shortcut\n        if (offset + match.length < src.length && !ZPCc.test(src[offset + match.length])) {\n          return;\n        }\n      } else {\n        emoji_name = match.slice(1, -1);\n      }\n\n      // Add new tokens to pending list\n      if (offset > last_pos) {\n        token         = new Token('text', '', 0);\n        token.content = text.slice(last_pos, offset);\n        nodes.push(token);\n      }\n\n      token         = new Token('emoji', '', 0);\n      token.markup  = emoji_name;\n      token.content = emojies[emoji_name];\n      nodes.push(token);\n\n      last_pos = offset + match.length;\n    });\n\n    if (last_pos < text.length) {\n      token         = new Token('text', '', 0);\n      token.content = text.slice(last_pos);\n      nodes.push(token);\n    }\n\n    return nodes;\n  }\n\n  return function emoji_replace(state) {\n    var i, j, l, tokens, token,\n        blockTokens = state.tokens,\n        autolinkLevel = 0;\n\n    for (j = 0, l = blockTokens.length; j < l; j++) {\n      if (blockTokens[j].type !== 'inline') { continue; }\n      tokens = blockTokens[j].children;\n\n      // We scan from the end, to keep position when new tags added.\n      // Use reversed logic in links start/end match\n      for (i = tokens.length - 1; i >= 0; i--) {\n        token = tokens[i];\n\n        if (token.type === 'link_open' || token.type === 'link_close') {\n          if (token.info === 'auto') { autolinkLevel -= token.nesting; }\n        }\n\n        if (token.type === 'text' && autolinkLevel === 0 && scanRE.test(token.content)) {\n          // replace current node\n          blockTokens[j].children = tokens = arrayReplaceAt(\n            tokens, i, splitTextToken(token.content, token.level, state.Token)\n          );\n        }\n      }\n    }\n  };\n};\n","'use strict'\n\nmodule.exports = ruby\nruby.displayName = 'ruby'\nruby.aliases = ['rb']\nfunction ruby(Prism) {\n  /**\n   * Original by Samuel Flores\n   *\n   * Adds the following new token classes:\n   *     constant, builtin, variable, symbol, regex\n   */\n  ;(function (Prism) {\n    Prism.languages.ruby = Prism.languages.extend('clike', {\n      comment: [\n        /#.*/,\n        {\n          pattern: /^=begin\\s[\\s\\S]*?^=end/m,\n          greedy: true\n        }\n      ],\n      'class-name': {\n        pattern: /(\\b(?:class)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n        lookbehind: true,\n        inside: {\n          punctuation: /[.\\\\]/\n        }\n      },\n      keyword:\n        /\\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\\b/\n    })\n    var interpolation = {\n      pattern: /#\\{[^}]+\\}/,\n      inside: {\n        delimiter: {\n          pattern: /^#\\{|\\}$/,\n          alias: 'tag'\n        },\n        rest: Prism.languages.ruby\n      }\n    }\n    delete Prism.languages.ruby.function\n    Prism.languages.insertBefore('ruby', 'keyword', {\n      regex: [\n        {\n          pattern: RegExp(\n            /%r/.source +\n              '(?:' +\n              [\n                /([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n                /\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source, // Here we need to specifically allow interpolation\n                /\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,\n                /\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,\n                /<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source\n              ].join('|') +\n              ')' +\n              /[egimnosux]{0,6}/.source\n          ),\n          greedy: true,\n          inside: {\n            interpolation: interpolation\n          }\n        },\n        {\n          pattern:\n            /(^|[^/])\\/(?!\\/)(?:\\[[^\\r\\n\\]]+\\]|\\\\.|[^[/\\\\\\r\\n])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\r\\n,.;})#]))/,\n          lookbehind: true,\n          greedy: true,\n          inside: {\n            interpolation: interpolation\n          }\n        }\n      ],\n      variable: /[@$]+[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n      symbol: {\n        pattern: /(^|[^:]):[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n        lookbehind: true\n      },\n      'method-definition': {\n        pattern: /(\\bdef\\s+)[\\w.]+/,\n        lookbehind: true,\n        inside: {\n          function: /\\w+$/,\n          rest: Prism.languages.ruby\n        }\n      }\n    })\n    Prism.languages.insertBefore('ruby', 'number', {\n      builtin:\n        /\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,\n      constant: /\\b[A-Z]\\w*(?:[?!]|\\b)/\n    })\n    Prism.languages.ruby.string = [\n      {\n        pattern: RegExp(\n          /%[qQiIwWxs]?/.source +\n            '(?:' +\n            [\n              /([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n              /\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source, // Here we need to specifically allow interpolation\n              /\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,\n              /\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,\n              /<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source\n            ].join('|') +\n            ')'\n        ),\n        greedy: true,\n        inside: {\n          interpolation: interpolation\n        }\n      },\n      {\n        pattern:\n          /(\"|')(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\#\\r\\n])*\\1/,\n        greedy: true,\n        inside: {\n          interpolation: interpolation\n        }\n      },\n      {\n        pattern: /<<[-~]?([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n        alias: 'heredoc-string',\n        greedy: true,\n        inside: {\n          delimiter: {\n            pattern: /^<<[-~]?[a-z_]\\w*|[a-z_]\\w*$/i,\n            alias: 'symbol',\n            inside: {\n              punctuation: /^<<[-~]?/\n            }\n          },\n          interpolation: interpolation\n        }\n      },\n      {\n        pattern: /<<[-~]?'([a-z_]\\w*)'[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n        alias: 'heredoc-string',\n        greedy: true,\n        inside: {\n          delimiter: {\n            pattern: /^<<[-~]?'[a-z_]\\w*'|[a-z_]\\w*$/i,\n            alias: 'symbol',\n            inside: {\n              punctuation: /^<<[-~]?'|'$/\n            }\n          }\n        }\n      }\n    ]\n    Prism.languages.rb = Prism.languages.ruby\n  })(Prism)\n}\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","'use strict'\n\nexports.parse = parse\nexports.stringify = stringify\n\nvar empty = ''\nvar space = ' '\nvar whiteSpace = /[ \\t\\n\\r\\f]+/g\n\nfunction parse(value) {\n  var input = String(value || empty).trim()\n  return input === empty ? [] : input.split(whiteSpace)\n}\n\nfunction stringify(values) {\n  return values.join(space).trim()\n}\n","var escapeHtmlChar = require('./_escapeHtmlChar'),\n    toString = require('./toString');\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nmodule.exports = Info\n\nvar proto = Info.prototype\n\nproto.space = null\nproto.attribute = null\nproto.property = null\nproto.boolean = false\nproto.booleanish = false\nproto.overloadedBoolean = false\nproto.number = false\nproto.commaSeparated = false\nproto.spaceSeparated = false\nproto.commaOrSpaceSeparated = false\nproto.mustUseProperty = false\nproto.defined = false\n\nfunction Info(property, attribute) {\n  this.property = property\n  this.attribute = attribute\n}\n","import { PluginKey, TextSelection, Selection, SelectionRange, NodeSelection, Plugin } from 'prosemirror-state';\nimport { Fragment, Slice } from 'prosemirror-model';\nimport { keydownHandler } from 'prosemirror-keymap';\nimport { Decoration, DecorationSet } from 'prosemirror-view';\nimport { Transform } from 'prosemirror-transform';\n\n// Because working with row and column-spanning cells is not quite\n// trivial, this code builds up a descriptive structure for a given\n// table node. The structures are cached with the (persistent) table\n// nodes as key, so that they only have to be recomputed when the\n// content of the table changes.\n//\n// This does mean that they have to store table-relative, not\n// document-relative positions. So code that uses them will typically\n// compute the start position of the table and offset positions passed\n// to or gotten from this structure by that amount.\n\nvar readFromCache, addToCache;\n// Prefer using a weak map to cache table maps. Fall back on a\n// fixed-size cache if that's not supported.\nif (typeof WeakMap != \"undefined\") {\n  var cache = new WeakMap;\n  readFromCache = function (key) { return cache.get(key); };\n  addToCache = function (key, value) {\n    cache.set(key, value);\n    return value\n  };\n} else {\n  var cache$1 = [], cacheSize = 10, cachePos = 0;\n  readFromCache = function (key) {\n    for (var i = 0; i < cache$1.length; i += 2)\n      { if (cache$1[i] == key) { return cache$1[i + 1] } }\n  };\n  addToCache = function (key, value) {\n    if (cachePos == cacheSize) { cachePos = 0; }\n    cache$1[cachePos++] = key;\n    return cache$1[cachePos++] = value\n  };\n}\n\nvar Rect = function Rect(left, top, right, bottom) {\n  this.left = left; this.top = top; this.right = right; this.bottom = bottom;\n};\n\n// ::- A table map describes the structore of a given table. To avoid\n// recomputing them all the time, they are cached per table node. To\n// be able to do that, positions saved in the map are relative to the\n// start of the table, rather than the start of the document.\nvar TableMap = function TableMap(width, height, map, problems) {\n  // :: number The width of the table\n  this.width = width;\n  // :: number The table's height\n  this.height = height;\n  // :: [number] A width * height array with the start position of\n  // the cell covering that part of the table in each slot\n  this.map = map;\n  // An optional array of problems (cell overlap or non-rectangular\n  // shape) for the table, used by the table normalizer.\n  this.problems = problems;\n};\n\n// :: (number) → Rect\n// Find the dimensions of the cell at the given position.\nTableMap.prototype.findCell = function findCell (pos) {\n  for (var i = 0; i < this.map.length; i++) {\n    var curPos = this.map[i];\n    if (curPos != pos) { continue }\n    var left = i % this.width, top = (i / this.width) | 0;\n    var right = left + 1, bottom = top + 1;\n    for (var j = 1; right < this.width && this.map[i + j] == curPos; j++) { right++; }\n    for (var j$1 = 1; bottom < this.height && this.map[i + (this.width * j$1)] == curPos; j$1++) { bottom++; }\n    return new Rect(left, top, right, bottom)\n  }\n  throw new RangeError(\"No cell with offset \" + pos + \" found\")\n};\n\n// :: (number) → number\n// Find the left side of the cell at the given position.\nTableMap.prototype.colCount = function colCount (pos) {\n  for (var i = 0; i < this.map.length; i++)\n    { if (this.map[i] == pos) { return i % this.width } }\n  throw new RangeError(\"No cell with offset \" + pos + \" found\")\n};\n\n// :: (number, string, number) → ?number\n// Find the next cell in the given direction, starting from the cell\n// at `pos`, if any.\nTableMap.prototype.nextCell = function nextCell (pos, axis, dir) {\n  var ref = this.findCell(pos);\n    var left = ref.left;\n    var right = ref.right;\n    var top = ref.top;\n    var bottom = ref.bottom;\n  if (axis == \"horiz\") {\n    if (dir < 0 ? left == 0 : right == this.width) { return null }\n    return this.map[top * this.width + (dir < 0 ? left - 1 : right)]\n  } else {\n    if (dir < 0 ? top == 0 : bottom == this.height) { return null }\n    return this.map[left + this.width * (dir < 0 ? top - 1 : bottom)]\n  }\n};\n\n// :: (number, number) → Rect\n// Get the rectangle spanning the two given cells.\nTableMap.prototype.rectBetween = function rectBetween (a, b) {\n  var ref = this.findCell(a);\n    var leftA = ref.left;\n    var rightA = ref.right;\n    var topA = ref.top;\n    var bottomA = ref.bottom;\n  var ref$1 = this.findCell(b);\n    var leftB = ref$1.left;\n    var rightB = ref$1.right;\n    var topB = ref$1.top;\n    var bottomB = ref$1.bottom;\n  return new Rect(Math.min(leftA, leftB), Math.min(topA, topB),\n                  Math.max(rightA, rightB), Math.max(bottomA, bottomB))\n};\n\n// :: (Rect) → [number]\n// Return the position of all cells that have the top left corner in\n// the given rectangle.\nTableMap.prototype.cellsInRect = function cellsInRect (rect) {\n  var result = [], seen = {};\n  for (var row = rect.top; row < rect.bottom; row++) {\n    for (var col = rect.left; col < rect.right; col++) {\n      var index = row * this.width + col, pos = this.map[index];\n      if (seen[pos]) { continue }\n      seen[pos] = true;\n      if ((col != rect.left || !col || this.map[index - 1] != pos) &&\n          (row != rect.top || !row || this.map[index - this.width] != pos))\n        { result.push(pos); }\n    }\n  }\n  return result\n};\n\n// :: (number, number, Node) → number\n// Return the position at which the cell at the given row and column\n// starts, or would start, if a cell started there.\nTableMap.prototype.positionAt = function positionAt (row, col, table) {\n  for (var i = 0, rowStart = 0;; i++) {\n    var rowEnd = rowStart + table.child(i).nodeSize;\n    if (i == row) {\n      var index = col + row * this.width, rowEndIndex = (row + 1) * this.width;\n      // Skip past cells from previous rows (via rowspan)\n      while (index < rowEndIndex && this.map[index] < rowStart) { index++; }\n      return index == rowEndIndex ? rowEnd - 1 : this.map[index]\n    }\n    rowStart = rowEnd;\n  }\n};\n\n// :: (Node) → TableMap\n// Find the table map for the given table node.\nTableMap.get = function get (table) {\n  return readFromCache(table) || addToCache(table, computeMap(table))\n};\n\n// Compute a table map.\nfunction computeMap(table) {\n  if (table.type.spec.tableRole != \"table\") { throw new RangeError(\"Not a table node: \" + table.type.name) }\n  var width = findWidth(table), height = table.childCount;\n  var map = [], mapPos = 0, problems = null, colWidths = [];\n  for (var i = 0, e = width * height; i < e; i++) { map[i] = 0; }\n\n  for (var row = 0, pos = 0; row < height; row++) {\n    var rowNode = table.child(row);\n    pos++;\n    for (var i$1 = 0;; i$1++) {\n      while (mapPos < map.length && map[mapPos] != 0) { mapPos++; }\n      if (i$1 == rowNode.childCount) { break }\n      var cellNode = rowNode.child(i$1);\n      var ref = cellNode.attrs;\n      var colspan = ref.colspan;\n      var rowspan = ref.rowspan;\n      var colwidth = ref.colwidth;\n      for (var h = 0; h < rowspan; h++) {\n        if (h + row >= height) {\n          (problems || (problems = [])).push({type: \"overlong_rowspan\", pos: pos, n: rowspan - h});\n          break\n        }\n        var start = mapPos + (h * width);\n        for (var w = 0; w < colspan; w++) {\n          if (map[start + w] == 0)\n            { map[start + w] = pos; }\n          else\n            { (problems || (problems = [])).push({type: \"collision\", row: row, pos: pos, n: colspan - w}); }\n          var colW = colwidth && colwidth[w];\n          if (colW) {\n            var widthIndex = ((start + w) % width) * 2, prev = colWidths[widthIndex];\n            if (prev == null || (prev != colW && colWidths[widthIndex + 1] == 1)) {\n              colWidths[widthIndex] = colW;\n              colWidths[widthIndex + 1] = 1;\n            } else if (prev == colW) {\n              colWidths[widthIndex + 1]++;\n            }\n          }\n        }\n      }\n      mapPos += colspan;\n      pos += cellNode.nodeSize;\n    }\n    var expectedPos = (row + 1) * width, missing = 0;\n    while (mapPos < expectedPos) { if (map[mapPos++] == 0) { missing++; } }\n    if (missing) { (problems || (problems = [])).push({type: \"missing\", row: row, n: missing}); }\n    pos++;\n  }\n\n  var tableMap = new TableMap(width, height, map, problems), badWidths = false;\n\n  // For columns that have defined widths, but whose widths disagree\n  // between rows, fix up the cells whose width doesn't match the\n  // computed one.\n  for (var i$2 = 0; !badWidths && i$2 < colWidths.length; i$2 += 2)\n    { if (colWidths[i$2] != null && colWidths[i$2 + 1] < height) { badWidths = true; } }\n  if (badWidths) { findBadColWidths(tableMap, colWidths, table); }\n\n  return tableMap\n}\n\nfunction findWidth(table) {\n  var width = -1, hasRowSpan = false;\n  for (var row = 0; row < table.childCount; row++) {\n    var rowNode = table.child(row), rowWidth = 0;\n    if (hasRowSpan) { for (var j = 0; j < row; j++) {\n      var prevRow = table.child(j);\n      for (var i = 0; i < prevRow.childCount; i++) {\n        var cell = prevRow.child(i);\n        if (j + cell.attrs.rowspan > row) { rowWidth += cell.attrs.colspan; }\n      }\n    } }\n    for (var i$1 = 0; i$1 < rowNode.childCount; i$1++) {\n      var cell$1 = rowNode.child(i$1);\n      rowWidth += cell$1.attrs.colspan;\n      if (cell$1.attrs.rowspan > 1) { hasRowSpan = true; }\n    }\n    if (width == -1)\n      { width = rowWidth; }\n    else if (width != rowWidth)\n      { width = Math.max(width, rowWidth); }\n  }\n  return width\n}\n\nfunction findBadColWidths(map, colWidths, table) {\n  if (!map.problems) { map.problems = []; }\n  for (var i = 0, seen = {}; i < map.map.length; i++) {\n    var pos = map.map[i];\n    if (seen[pos]) { continue }\n    seen[pos] = true;\n    var node = table.nodeAt(pos), updated = null;\n    for (var j = 0; j < node.attrs.colspan; j++) {\n      var col = (i + j) % map.width, colWidth = colWidths[col * 2];\n      if (colWidth != null && (!node.attrs.colwidth || node.attrs.colwidth[j] != colWidth))\n        { (updated || (updated = freshColWidth(node.attrs)))[j] = colWidth; }\n    }\n    if (updated) { map.problems.unshift({type: \"colwidth mismatch\", pos: pos, colwidth: updated}); }\n  }\n}\n\nfunction freshColWidth(attrs) {\n  if (attrs.colwidth) { return attrs.colwidth.slice() }\n  var result = [];\n  for (var i = 0; i < attrs.colspan; i++) { result.push(0); }\n  return result\n}\n\n// Helper for creating a schema that supports tables.\n\nfunction getCellAttrs(dom, extraAttrs) {\n  var widthAttr = dom.getAttribute(\"data-colwidth\");\n  var widths = widthAttr && /^\\d+(,\\d+)*$/.test(widthAttr) ? widthAttr.split(\",\").map(function (s) { return Number(s); }) : null;\n  var colspan = Number(dom.getAttribute(\"colspan\") || 1);\n  var result = {\n    colspan: colspan,\n    rowspan: Number(dom.getAttribute(\"rowspan\") || 1),\n    colwidth: widths && widths.length == colspan ? widths : null\n  };\n  for (var prop in extraAttrs) {\n    var getter = extraAttrs[prop].getFromDOM;\n    var value = getter && getter(dom);\n    if (value != null) { result[prop] = value; }\n  }\n  return result\n}\n\nfunction setCellAttrs(node, extraAttrs) {\n  var attrs = {};\n  if (node.attrs.colspan != 1) { attrs.colspan = node.attrs.colspan; }\n  if (node.attrs.rowspan != 1) { attrs.rowspan = node.attrs.rowspan; }\n  if (node.attrs.colwidth)\n    { attrs[\"data-colwidth\"] = node.attrs.colwidth.join(\",\"); }\n  for (var prop in extraAttrs) {\n    var setter = extraAttrs[prop].setDOMAttr;\n    if (setter) { setter(node.attrs[prop], attrs); }\n  }\n  return attrs\n}\n\n// :: (Object) → Object\n//\n// This function creates a set of [node\n// specs](http://prosemirror.net/docs/ref/#model.SchemaSpec.nodes) for\n// `table`, `table_row`, and `table_cell` nodes types as used by this\n// module. The result can then be added to the set of nodes when\n// creating a a schema.\n//\n//   options::- The following options are understood:\n//\n//     tableGroup:: ?string\n//     A group name (something like `\"block\"`) to add to the table\n//     node type.\n//\n//     cellContent:: string\n//     The content expression for table cells.\n//\n//     cellAttributes:: ?Object\n//     Additional attributes to add to cells. Maps attribute names to\n//     objects with the following properties:\n//\n//       default:: any\n//       The attribute's default value.\n//\n//       getFromDOM:: ?(dom.Node) → any\n//       A function to read the attribute's value from a DOM node.\n//\n//       setDOMAttr:: ?(value: any, attrs: Object)\n//       A function to add the attribute's value to an attribute\n//       object that's used to render the cell's DOM.\nfunction tableNodes(options) {\n  var extraAttrs = options.cellAttributes || {};\n  var cellAttrs = {\n    colspan: {default: 1},\n    rowspan: {default: 1},\n    colwidth: {default: null}\n  };\n  for (var prop in extraAttrs)\n    { cellAttrs[prop] = {default: extraAttrs[prop].default}; }\n\n  return {\n    table: {\n      content: \"table_row+\",\n      tableRole: \"table\",\n      isolating: true,\n      group: options.tableGroup,\n      parseDOM: [{tag: \"table\"}],\n      toDOM: function toDOM() { return [\"table\", [\"tbody\", 0]] }\n    },\n    table_row: {\n      content: \"(table_cell | table_header)*\",\n      tableRole: \"row\",\n      parseDOM: [{tag: \"tr\"}],\n      toDOM: function toDOM() { return [\"tr\", 0] }\n    },\n    table_cell: {\n      content: options.cellContent,\n      attrs: cellAttrs,\n      tableRole: \"cell\",\n      isolating: true,\n      parseDOM: [{tag: \"td\", getAttrs: function (dom) { return getCellAttrs(dom, extraAttrs); }}],\n      toDOM: function toDOM(node) { return [\"td\", setCellAttrs(node, extraAttrs), 0] }\n    },\n    table_header: {\n      content: options.cellContent,\n      attrs: cellAttrs,\n      tableRole: \"header_cell\",\n      isolating: true,\n      parseDOM: [{tag: \"th\", getAttrs: function (dom) { return getCellAttrs(dom, extraAttrs); }}],\n      toDOM: function toDOM(node) { return [\"th\", setCellAttrs(node, extraAttrs), 0] }\n    }\n  }\n}\n\nfunction tableNodeTypes(schema) {\n  var result = schema.cached.tableNodeTypes;\n  if (!result) {\n    result = schema.cached.tableNodeTypes = {};\n    for (var name in schema.nodes) {\n      var type = schema.nodes[name], role = type.spec.tableRole;\n      if (role) { result[role] = type; }\n    }\n  }\n  return result\n}\n\n// Various helper function for working with tables\n\nvar key = new PluginKey(\"selectingCells\");\n\nfunction cellAround($pos) {\n  for (var d = $pos.depth - 1; d > 0; d--)\n    { if ($pos.node(d).type.spec.tableRole == \"row\") { return $pos.node(0).resolve($pos.before(d + 1)) } }\n  return null\n}\n\nfunction cellWrapping($pos) {\n  for (var d = $pos.depth; d > 0; d--) { // Sometimes the cell can be in the same depth.\n    var role = $pos.node(d).type.spec.tableRole;\n    if (role === \"cell\" || role === 'header_cell') { return $pos.node(d) }\n  }\n  return null\n}\n\nfunction isInTable(state) {\n  var $head = state.selection.$head;\n  for (var d = $head.depth; d > 0; d--) { if ($head.node(d).type.spec.tableRole == \"row\") { return true } }\n  return false\n}\n\nfunction selectionCell(state) {\n  var sel = state.selection;\n  if (sel.$anchorCell) {\n    return sel.$anchorCell.pos > sel.$headCell.pos ? sel.$anchorCell : sel.$headCell;\n  } else if (sel.node && sel.node.type.spec.tableRole == \"cell\") {\n    return sel.$anchor\n  }\n  return cellAround(sel.$head) || cellNear(sel.$head)\n}\n\nfunction cellNear($pos) {\n  for (var after = $pos.nodeAfter, pos = $pos.pos; after; after = after.firstChild, pos++) {\n    var role = after.type.spec.tableRole;\n    if (role == \"cell\" || role == \"header_cell\") { return $pos.doc.resolve(pos) }\n  }\n  for (var before = $pos.nodeBefore, pos$1 = $pos.pos; before; before = before.lastChild, pos$1--) {\n    var role$1 = before.type.spec.tableRole;\n    if (role$1 == \"cell\" || role$1 == \"header_cell\") { return $pos.doc.resolve(pos$1 - before.nodeSize) }\n  }\n}\n\nfunction pointsAtCell($pos) {\n  return $pos.parent.type.spec.tableRole == \"row\" && $pos.nodeAfter\n}\n\nfunction moveCellForward($pos) {\n  return $pos.node(0).resolve($pos.pos + $pos.nodeAfter.nodeSize)\n}\n\nfunction inSameTable($a, $b) {\n  return $a.depth == $b.depth && $a.pos >= $b.start(-1) && $a.pos <= $b.end(-1)\n}\n\nfunction findCell($pos) {\n  return TableMap.get($pos.node(-1)).findCell($pos.pos - $pos.start(-1))\n}\n\nfunction colCount($pos) {\n  return TableMap.get($pos.node(-1)).colCount($pos.pos - $pos.start(-1))\n}\n\nfunction nextCell($pos, axis, dir) {\n  var start = $pos.start(-1), map = TableMap.get($pos.node(-1));\n  var moved = map.nextCell($pos.pos - start, axis, dir);\n  return moved == null ? null : $pos.node(0).resolve(start + moved)\n}\n\nfunction setAttr(attrs, name, value) {\n  var result = {};\n  for (var prop in attrs) { result[prop] = attrs[prop]; }\n  result[name] = value;\n  return result\n}\n\nfunction removeColSpan(attrs, pos, n) {\n  if ( n === void 0 ) n=1;\n\n  var result = setAttr(attrs, \"colspan\", attrs.colspan - n);\n  if (result.colwidth) {\n    result.colwidth = result.colwidth.slice();\n    result.colwidth.splice(pos, n);\n    if (!result.colwidth.some(function (w) { return w > 0; })) { result.colwidth = null; }\n  }\n  return result\n}\n\nfunction addColSpan(attrs, pos, n) {\n  if ( n === void 0 ) n=1;\n\n  var result = setAttr(attrs, \"colspan\", attrs.colspan + n);\n  if (result.colwidth) {\n    result.colwidth = result.colwidth.slice();\n    for (var i = 0; i < n; i++) { result.colwidth.splice(pos, 0, 0); }\n  }\n  return result\n}\n\nfunction columnIsHeader(map, table, col) {\n  var headerCell = tableNodeTypes(table.type.schema).header_cell;\n  for (var row = 0; row < map.height; row++)\n    { if (table.nodeAt(map.map[col + row * map.width]).type != headerCell)\n      { return false } }\n  return true\n}\n\n// This file defines a ProseMirror selection subclass that models\n\n// ::- A [`Selection`](http://prosemirror.net/docs/ref/#state.Selection)\n// subclass that represents a cell selection spanning part of a table.\n// With the plugin enabled, these will be created when the user\n// selects across cells, and will be drawn by giving selected cells a\n// `selectedCell` CSS class.\nvar CellSelection = /*@__PURE__*/(function (Selection) {\n  function CellSelection($anchorCell, $headCell) {\n    if ( $headCell === void 0 ) $headCell = $anchorCell;\n\n    var table = $anchorCell.node(-1), map = TableMap.get(table), start = $anchorCell.start(-1);\n    var rect = map.rectBetween($anchorCell.pos - start, $headCell.pos - start);\n    var doc = $anchorCell.node(0);\n    var cells = map.cellsInRect(rect).filter(function (p) { return p != $headCell.pos - start; });\n    // Make the head cell the first range, so that it counts as the\n    // primary part of the selection\n    cells.unshift($headCell.pos - start);\n    var ranges = cells.map(function (pos) {\n      var cell = table.nodeAt(pos), from = pos + start + 1;\n      return new SelectionRange(doc.resolve(from), doc.resolve(from + cell.content.size))\n    });\n    Selection.call(this, ranges[0].$from, ranges[0].$to, ranges);\n    // :: ResolvedPos\n    // A resolved position pointing _in front of_ the anchor cell (the one\n    // that doesn't move when extending the selection).\n    this.$anchorCell = $anchorCell;\n    // :: ResolvedPos\n    // A resolved position pointing in front of the head cell (the one\n    // moves when extending the selection).\n    this.$headCell = $headCell;\n  }\n\n  if ( Selection ) CellSelection.__proto__ = Selection;\n  CellSelection.prototype = Object.create( Selection && Selection.prototype );\n  CellSelection.prototype.constructor = CellSelection;\n\n  CellSelection.prototype.map = function map (doc, mapping) {\n    var $anchorCell = doc.resolve(mapping.map(this.$anchorCell.pos));\n    var $headCell = doc.resolve(mapping.map(this.$headCell.pos));\n    if (pointsAtCell($anchorCell) && pointsAtCell($headCell) && inSameTable($anchorCell, $headCell)) {\n      var tableChanged = this.$anchorCell.node(-1) != $anchorCell.node(-1);\n      if (tableChanged && this.isRowSelection())\n        { return CellSelection.rowSelection($anchorCell, $headCell) }\n      else if (tableChanged && this.isColSelection())\n        { return CellSelection.colSelection($anchorCell, $headCell) }\n      else\n        { return new CellSelection($anchorCell, $headCell) }\n    }\n    return TextSelection.between($anchorCell, $headCell)\n  };\n\n  // :: () → Slice\n  // Returns a rectangular slice of table rows containing the selected\n  // cells.\n  CellSelection.prototype.content = function content () {\n    var table = this.$anchorCell.node(-1), map = TableMap.get(table), start = this.$anchorCell.start(-1);\n    var rect = map.rectBetween(this.$anchorCell.pos - start, this.$headCell.pos - start);\n    var seen = {}, rows = [];\n    for (var row = rect.top; row < rect.bottom; row++) {\n      var rowContent = [];\n      for (var index = row * map.width + rect.left, col = rect.left; col < rect.right; col++, index++) {\n        var pos = map.map[index];\n        if (!seen[pos]) {\n          seen[pos] = true;\n          var cellRect = map.findCell(pos), cell = table.nodeAt(pos);\n          var extraLeft = rect.left - cellRect.left, extraRight = cellRect.right - rect.right;\n          if (extraLeft > 0 || extraRight > 0) {\n            var attrs = cell.attrs;\n            if (extraLeft > 0) { attrs = removeColSpan(attrs, 0, extraLeft); }\n            if (extraRight > 0) { attrs = removeColSpan(attrs, attrs.colspan - extraRight, extraRight); }\n            if (cellRect.left < rect.left) { cell = cell.type.createAndFill(attrs); }\n            else { cell = cell.type.create(attrs, cell.content); }\n          }\n          if (cellRect.top < rect.top || cellRect.bottom > rect.bottom) {\n            var attrs$1 = setAttr(cell.attrs, \"rowspan\", Math.min(cellRect.bottom, rect.bottom) - Math.max(cellRect.top, rect.top));\n            if (cellRect.top < rect.top) { cell = cell.type.createAndFill(attrs$1); }\n            else { cell = cell.type.create(attrs$1, cell.content); }\n          }\n          rowContent.push(cell);\n        }\n      }\n      rows.push(table.child(row).copy(Fragment.from(rowContent)));\n    }\n\n    var fragment = this.isColSelection() && this.isRowSelection() ? table : rows;\n    return new Slice(Fragment.from(fragment), 1, 1)\n  };\n\n  CellSelection.prototype.replace = function replace (tr, content) {\n    if ( content === void 0 ) content = Slice.empty;\n\n    var mapFrom = tr.steps.length, ranges = this.ranges;\n    for (var i = 0; i < ranges.length; i++) {\n      var ref = ranges[i];\n      var $from = ref.$from;\n      var $to = ref.$to;\n      var mapping = tr.mapping.slice(mapFrom);\n      tr.replace(mapping.map($from.pos), mapping.map($to.pos), i ? Slice.empty : content);\n    }\n    var sel = Selection.findFrom(tr.doc.resolve(tr.mapping.slice(mapFrom).map(this.to)), -1);\n    if (sel) { tr.setSelection(sel); }\n  };\n\n  CellSelection.prototype.replaceWith = function replaceWith (tr, node) {\n    this.replace(tr, new Slice(Fragment.from(node), 0, 0));\n  };\n\n  CellSelection.prototype.forEachCell = function forEachCell (f) {\n    var table = this.$anchorCell.node(-1), map = TableMap.get(table), start = this.$anchorCell.start(-1);\n    var cells = map.cellsInRect(map.rectBetween(this.$anchorCell.pos - start, this.$headCell.pos - start));\n    for (var i = 0; i < cells.length; i++)\n      { f(table.nodeAt(cells[i]), start + cells[i]); }\n  };\n\n  // :: () → bool\n  // True if this selection goes all the way from the top to the\n  // bottom of the table.\n  CellSelection.prototype.isColSelection = function isColSelection () {\n    var anchorTop = this.$anchorCell.index(-1), headTop = this.$headCell.index(-1);\n    if (Math.min(anchorTop, headTop) > 0) { return false }\n    var anchorBot = anchorTop + this.$anchorCell.nodeAfter.attrs.rowspan,\n        headBot = headTop + this.$headCell.nodeAfter.attrs.rowspan;\n    return Math.max(anchorBot, headBot) == this.$headCell.node(-1).childCount\n  };\n\n  // :: (ResolvedPos, ?ResolvedPos) → CellSelection\n  // Returns the smallest column selection that covers the given anchor\n  // and head cell.\n  CellSelection.colSelection = function colSelection ($anchorCell, $headCell) {\n    if ( $headCell === void 0 ) $headCell = $anchorCell;\n\n    var map = TableMap.get($anchorCell.node(-1)), start = $anchorCell.start(-1);\n    var anchorRect = map.findCell($anchorCell.pos - start), headRect = map.findCell($headCell.pos - start);\n    var doc = $anchorCell.node(0);\n    if (anchorRect.top <= headRect.top) {\n      if (anchorRect.top > 0)\n        { $anchorCell = doc.resolve(start + map.map[anchorRect.left]); }\n      if (headRect.bottom < map.height)\n        { $headCell = doc.resolve(start + map.map[map.width * (map.height - 1) + headRect.right - 1]); }\n    } else {\n      if (headRect.top > 0)\n        { $headCell = doc.resolve(start + map.map[headRect.left]); }\n      if (anchorRect.bottom < map.height)\n        { $anchorCell = doc.resolve(start + map.map[map.width * (map.height - 1) + anchorRect.right - 1]); }\n    }\n    return new CellSelection($anchorCell, $headCell)\n  };\n\n  // :: () → bool\n  // True if this selection goes all the way from the left to the\n  // right of the table.\n  CellSelection.prototype.isRowSelection = function isRowSelection () {\n    var map = TableMap.get(this.$anchorCell.node(-1)), start = this.$anchorCell.start(-1);\n    var anchorLeft = map.colCount(this.$anchorCell.pos - start),\n        headLeft = map.colCount(this.$headCell.pos - start);\n    if (Math.min(anchorLeft, headLeft) > 0) { return false }\n    var anchorRight = anchorLeft + this.$anchorCell.nodeAfter.attrs.colspan,\n        headRight = headLeft + this.$headCell.nodeAfter.attrs.colspan;\n    return Math.max(anchorRight, headRight) == map.width\n  };\n\n  CellSelection.prototype.eq = function eq (other) {\n    return other instanceof CellSelection && other.$anchorCell.pos == this.$anchorCell.pos &&\n      other.$headCell.pos == this.$headCell.pos\n  };\n\n  // :: (ResolvedPos, ?ResolvedPos) → CellSelection\n  // Returns the smallest row selection that covers the given anchor\n  // and head cell.\n  CellSelection.rowSelection = function rowSelection ($anchorCell, $headCell) {\n    if ( $headCell === void 0 ) $headCell = $anchorCell;\n\n    var map = TableMap.get($anchorCell.node(-1)), start = $anchorCell.start(-1);\n    var anchorRect = map.findCell($anchorCell.pos - start), headRect = map.findCell($headCell.pos - start);\n    var doc = $anchorCell.node(0);\n    if (anchorRect.left <= headRect.left) {\n      if (anchorRect.left > 0)\n        { $anchorCell = doc.resolve(start + map.map[anchorRect.top * map.width]); }\n      if (headRect.right < map.width)\n        { $headCell = doc.resolve(start + map.map[map.width * (headRect.top + 1) - 1]); }\n    } else {\n      if (headRect.left > 0)\n        { $headCell = doc.resolve(start + map.map[headRect.top * map.width]); }\n      if (anchorRect.right < map.width)\n        { $anchorCell = doc.resolve(start + map.map[map.width * (anchorRect.top + 1) - 1]); }\n    }\n    return new CellSelection($anchorCell, $headCell)\n  };\n\n  CellSelection.prototype.toJSON = function toJSON () {\n    return {type: \"cell\", anchor: this.$anchorCell.pos, head: this.$headCell.pos}\n  };\n\n  CellSelection.fromJSON = function fromJSON (doc, json) {\n    return new CellSelection(doc.resolve(json.anchor), doc.resolve(json.head))\n  };\n\n  // :: (Node, number, ?number) → CellSelection\n  CellSelection.create = function create (doc, anchorCell, headCell) {\n    if ( headCell === void 0 ) headCell = anchorCell;\n\n    return new CellSelection(doc.resolve(anchorCell), doc.resolve(headCell))\n  };\n\n  CellSelection.prototype.getBookmark = function getBookmark () { return new CellBookmark(this.$anchorCell.pos, this.$headCell.pos) };\n\n  return CellSelection;\n}(Selection));\n\nCellSelection.prototype.visible = false;\n\nSelection.jsonID(\"cell\", CellSelection);\n\nvar CellBookmark = function CellBookmark(anchor, head) {\n  this.anchor = anchor;\n  this.head = head;\n};\nCellBookmark.prototype.map = function map (mapping) {\n  return new CellBookmark(mapping.map(this.anchor), mapping.map(this.head))\n};\nCellBookmark.prototype.resolve = function resolve (doc) {\n  var $anchorCell = doc.resolve(this.anchor), $headCell = doc.resolve(this.head);\n  if ($anchorCell.parent.type.spec.tableRole == \"row\" &&\n      $headCell.parent.type.spec.tableRole == \"row\" &&\n      $anchorCell.index() < $anchorCell.parent.childCount &&\n      $headCell.index() < $headCell.parent.childCount &&\n      inSameTable($anchorCell, $headCell))\n    { return new CellSelection($anchorCell, $headCell) }\n  else\n    { return Selection.near($headCell, 1) }\n};\n\nfunction drawCellSelection(state) {\n  if (!(state.selection instanceof CellSelection)) { return null }\n  var cells = [];\n  state.selection.forEachCell(function (node, pos) {\n    cells.push(Decoration.node(pos, pos + node.nodeSize, {class: \"selectedCell\"}));\n  });\n  return DecorationSet.create(state.doc, cells)\n}\n\nfunction isCellBoundarySelection(ref) {\n  var $from = ref.$from;\n  var $to = ref.$to;\n\n  if ($from.pos == $to.pos || $from.pos < $from.pos - 6) { return false } // Cheap elimination\n  var afterFrom = $from.pos, beforeTo = $to.pos, depth = $from.depth;\n  for (; depth >= 0; depth--, afterFrom++)\n    { if ($from.after(depth + 1) < $from.end(depth)) { break } }\n  for (var d = $to.depth; d >= 0; d--, beforeTo--)\n    { if ($to.before(d + 1) > $to.start(d)) { break } }\n  return afterFrom == beforeTo && /row|table/.test($from.node(depth).type.spec.tableRole)\n}\n\nfunction isTextSelectionAcrossCells(ref) {\n  var $from = ref.$from;\n  var $to = ref.$to;\n\n  var fromCellBoundaryNode;\n  var toCellBoundaryNode;\n\n  for (var i = $from.depth; i > 0; i--) {\n    var node = $from.node(i);\n    if (node.type.spec.tableRole === 'cell' || node.type.spec.tableRole === 'header_cell') {\n      fromCellBoundaryNode = node;\n      break;\n    }\n  }\n\n  for (var i$1 = $to.depth; i$1 > 0; i$1--) {\n    var node$1 = $to.node(i$1);\n    if (node$1.type.spec.tableRole === 'cell' || node$1.type.spec.tableRole === 'header_cell') {\n      toCellBoundaryNode = node$1;\n      break;\n    }\n  }\n\n  return fromCellBoundaryNode !== toCellBoundaryNode && $to.parentOffset === 0\n}\n\nfunction normalizeSelection(state, tr, allowTableNodeSelection) {\n  var sel = (tr || state).selection, doc = (tr || state).doc, normalize, role;\n  if (sel instanceof NodeSelection && (role = sel.node.type.spec.tableRole)) {\n    if (role == \"cell\" || role == \"header_cell\") {\n      normalize = CellSelection.create(doc, sel.from);\n    } else if (role == \"row\") {\n      var $cell = doc.resolve(sel.from + 1);\n      normalize = CellSelection.rowSelection($cell, $cell);\n    } else if (!allowTableNodeSelection) {\n      var map = TableMap.get(sel.node), start = sel.from + 1;\n      var lastCell = start + map.map[map.width * map.height - 1];\n      normalize = CellSelection.create(doc, start + 1, lastCell);\n    }\n  } else if (sel instanceof TextSelection && isCellBoundarySelection(sel)) {\n    normalize = TextSelection.create(doc, sel.from);\n  } else if (sel instanceof TextSelection && isTextSelectionAcrossCells(sel)) {\n    normalize = TextSelection.create(doc, sel.$from.start(), sel.$from.end());\n  }\n  if (normalize)\n    { (tr || (tr = state.tr)).setSelection(normalize); }\n  return tr\n}\n\n// Utilities used for copy/paste handling.\n\n// Utilities to help with copying and pasting table cells\n\n// : (Slice) → ?{width: number, height: number, rows: [Fragment]}\n// Get a rectangular area of cells from a slice, or null if the outer\n// nodes of the slice aren't table cells or rows.\nfunction pastedCells(slice) {\n  if (!slice.size) { return null }\n  var content = slice.content;\n  var openStart = slice.openStart;\n  var openEnd = slice.openEnd;\n  while (content.childCount == 1 && (openStart > 0 && openEnd > 0 || content.firstChild.type.spec.tableRole == \"table\")) {\n    openStart--;\n    openEnd--;\n    content = content.firstChild.content;\n  }\n  var first = content.firstChild, role = first.type.spec.tableRole;\n  var schema = first.type.schema, rows = [];\n  if (role == \"row\") {\n    for (var i = 0; i < content.childCount; i++) {\n      var cells = content.child(i).content;\n      var left = i ? 0 : Math.max(0, openStart - 1);\n      var right = i < content.childCount - 1 ? 0 : Math.max(0, openEnd - 1);\n      if (left || right) { cells = fitSlice(tableNodeTypes(schema).row, new Slice(cells, left, right)).content; }\n      rows.push(cells);\n    }\n  } else if (role == \"cell\" || role == \"header_cell\") {\n    rows.push(openStart || openEnd ? fitSlice(tableNodeTypes(schema).row, new Slice(content, openStart, openEnd)).content : content);\n  } else {\n    return null\n  }\n  return ensureRectangular(schema, rows)\n}\n\n// : (Schema, [Fragment]) → {width: number, height: number, rows: [Fragment]}\n// Compute the width and height of a set of cells, and make sure each\n// row has the same number of cells.\nfunction ensureRectangular(schema, rows) {\n  var widths = [];\n  for (var i = 0; i < rows.length; i++) {\n    var row = rows[i];\n    for (var j = row.childCount - 1; j >= 0; j--) {\n      var ref = row.child(j).attrs;\n      var rowspan = ref.rowspan;\n      var colspan = ref.colspan;\n      for (var r = i; r < i + rowspan; r++)\n        { widths[r] = (widths[r] || 0) + colspan; }\n    }\n  }\n  var width = 0;\n  for (var r$1 = 0; r$1 < widths.length; r$1++) { width = Math.max(width, widths[r$1]); }\n  for (var r$2 = 0; r$2 < widths.length; r$2++) {\n    if (r$2 >= rows.length) { rows.push(Fragment.empty); }\n    if (widths[r$2] < width) {\n      var empty = tableNodeTypes(schema).cell.createAndFill(), cells = [];\n      for (var i$1 = widths[r$2]; i$1 < width; i$1++) { cells.push(empty); }\n      rows[r$2] = rows[r$2].append(Fragment.from(cells));\n    }\n  }\n  return {height: rows.length, width: width, rows: rows}\n}\n\nfunction fitSlice(nodeType, slice) {\n  var node = nodeType.createAndFill();\n  var tr = new Transform(node).replace(0, node.content.size, slice);\n  return tr.doc\n}\n\n// : ({width: number, height: number, rows: [Fragment]}, number, number) → {width: number, height: number, rows: [Fragment]}\n// Clip or extend (repeat) the given set of cells to cover the given\n// width and height. Will clip rowspan/colspan cells at the edges when\n// they stick out.\nfunction clipCells(ref, newWidth, newHeight) {\n  var width = ref.width;\n  var height = ref.height;\n  var rows = ref.rows;\n\n  if (width != newWidth) {\n    var added = [], newRows = [];\n    for (var row = 0; row < rows.length; row++) {\n      var frag = rows[row], cells = [];\n      for (var col = added[row] || 0, i = 0; col < newWidth; i++) {\n        var cell = frag.child(i % frag.childCount);\n        if (col + cell.attrs.colspan > newWidth)\n          { cell = cell.type.create(removeColSpan(cell.attrs, cell.attrs.colspan, col + cell.attrs.colspan - newWidth), cell.content); }\n        cells.push(cell);\n        col += cell.attrs.colspan;\n        for (var j = 1; j < cell.attrs.rowspan; j++)\n          { added[row + j] = (added[row + j] || 0) + cell.attrs.colspan; }\n      }\n      newRows.push(Fragment.from(cells));\n    }\n    rows = newRows;\n    width = newWidth;\n  }\n\n  if (height != newHeight) {\n    var newRows$1 = [];\n    for (var row$1 = 0, i$1 = 0; row$1 < newHeight; row$1++, i$1++) {\n      var cells$1 = [], source = rows[i$1 % height];\n      for (var j$1 = 0; j$1 < source.childCount; j$1++) {\n        var cell$1 = source.child(j$1);\n        if (row$1 + cell$1.attrs.rowspan > newHeight)\n          { cell$1 = cell$1.type.create(setAttr(cell$1.attrs, \"rowspan\", Math.max(1, newHeight - cell$1.attrs.rowspan)), cell$1.content); }\n        cells$1.push(cell$1);\n      }\n      newRows$1.push(Fragment.from(cells$1));\n    }\n    rows = newRows$1;\n    height = newHeight;\n  }\n\n  return {width: width, height: height, rows: rows}\n}\n\n// Make sure a table has at least the given width and height. Return\n// true if something was changed.\nfunction growTable(tr, map, table, start, width, height, mapFrom) {\n  var schema = tr.doc.type.schema, types = tableNodeTypes(schema), empty, emptyHead;\n  if (width > map.width) {\n    for (var row = 0, rowEnd = 0; row < map.height; row++) {\n      var rowNode = table.child(row);\n      rowEnd += rowNode.nodeSize;\n      var cells = [], add = (void 0);\n      if (rowNode.lastChild == null || rowNode.lastChild.type == types.cell)\n        { add = empty || (empty = types.cell.createAndFill()); }\n      else\n        { add = emptyHead || (emptyHead = types.header_cell.createAndFill()); }\n      for (var i = map.width; i < width; i++) { cells.push(add); }\n      tr.insert(tr.mapping.slice(mapFrom).map(rowEnd - 1 + start), cells);\n    }\n  }\n  if (height > map.height) {\n    var cells$1 = [];\n    for (var i$1 = 0, start$1 = (map.height - 1) * map.width; i$1 < Math.max(map.width, width); i$1++) {\n      var header = i$1 >= map.width ? false :\n          table.nodeAt(map.map[start$1 + i$1]).type == types.header_cell;\n      cells$1.push(header\n                 ? (emptyHead || (emptyHead = types.header_cell.createAndFill()))\n                 : (empty || (empty = types.cell.createAndFill())));\n    }\n\n    var emptyRow = types.row.create(null, Fragment.from(cells$1)), rows = [];\n    for (var i$2 = map.height; i$2 < height; i$2++) { rows.push(emptyRow); }\n    tr.insert(tr.mapping.slice(mapFrom).map(start + table.nodeSize - 2), rows);\n  }\n  return !!(empty || emptyHead)\n}\n\n// Make sure the given line (left, top) to (right, top) doesn't cross\n// any rowspan cells by splitting cells that cross it. Return true if\n// something changed.\nfunction isolateHorizontal(tr, map, table, start, left, right, top, mapFrom) {\n  if (top == 0 || top == map.height) { return false }\n  var found = false;\n  for (var col = left; col < right; col++) {\n    var index = top * map.width + col, pos = map.map[index];\n    if (map.map[index - map.width] == pos) {\n      found = true;\n      var cell = table.nodeAt(pos);\n      var ref = map.findCell(pos);\n      var cellTop = ref.top;\n      var cellLeft = ref.left;\n      tr.setNodeMarkup(tr.mapping.slice(mapFrom).map(pos + start), null, setAttr(cell.attrs, \"rowspan\", top - cellTop));\n      tr.insert(tr.mapping.slice(mapFrom).map(map.positionAt(top, cellLeft, table)),\n                cell.type.createAndFill(setAttr(cell.attrs, \"rowspan\", (cellTop + cell.attrs.rowspan) - top)));\n      col += cell.attrs.colspan - 1;\n    }\n  }\n  return found\n}\n\n// Make sure the given line (left, top) to (left, bottom) doesn't\n// cross any colspan cells by splitting cells that cross it. Return\n// true if something changed.\nfunction isolateVertical(tr, map, table, start, top, bottom, left, mapFrom) {\n  if (left == 0 || left == map.width) { return false }\n  var found = false;\n  for (var row = top; row < bottom; row++) {\n    var index = row * map.width + left, pos = map.map[index];\n    if (map.map[index - 1] == pos) {\n      found = true;\n      var cell = table.nodeAt(pos), cellLeft = map.colCount(pos);\n      var updatePos = tr.mapping.slice(mapFrom).map(pos + start);\n      tr.setNodeMarkup(updatePos, null, removeColSpan(cell.attrs, left - cellLeft, cell.attrs.colspan - (left - cellLeft)));\n      tr.insert(updatePos + cell.nodeSize, cell.type.createAndFill(removeColSpan(cell.attrs, 0, left - cellLeft)));\n      row += cell.attrs.rowspan - 1;\n    }\n  }\n  return found\n}\n\n// Insert the given set of cells (as returned by `pastedCells`) into a\n// table, at the position pointed at by rect.\nfunction insertCells(state, dispatch, tableStart, rect, cells) {\n  var table = tableStart ? state.doc.nodeAt(tableStart - 1) : state.doc, map = TableMap.get(table);\n  var top = rect.top;\n  var left = rect.left;\n  var right = left + cells.width, bottom = top + cells.height;\n  var tr = state.tr, mapFrom = 0;\n  function recomp() {\n    table = tableStart ? tr.doc.nodeAt(tableStart - 1) : tr.doc;\n    map = TableMap.get(table);\n    mapFrom = tr.mapping.maps.length;\n  }\n  // Prepare the table to be large enough and not have any cells\n  // crossing the boundaries of the rectangle that we want to\n  // insert into. If anything about it changes, recompute the table\n  // map so that subsequent operations can see the current shape.\n  if (growTable(tr, map, table, tableStart, right, bottom, mapFrom)) { recomp(); }\n  if (isolateHorizontal(tr, map, table, tableStart, left, right, top, mapFrom)) { recomp(); }\n  if (isolateHorizontal(tr, map, table, tableStart, left, right, bottom, mapFrom)) { recomp(); }\n  if (isolateVertical(tr, map, table, tableStart, top, bottom, left, mapFrom)) { recomp(); }\n  if (isolateVertical(tr, map, table, tableStart, top, bottom, right, mapFrom)) { recomp(); }\n\n  for (var row = top; row < bottom; row++) {\n    var from = map.positionAt(row, left, table), to = map.positionAt(row, right, table);\n    tr.replace(tr.mapping.slice(mapFrom).map(from + tableStart), tr.mapping.slice(mapFrom).map(to + tableStart),\n               new Slice(cells.rows[row - top], 0, 0));\n  }\n  recomp();\n  tr.setSelection(new CellSelection(tr.doc.resolve(tableStart + map.positionAt(top, left, table)),\n                                    tr.doc.resolve(tableStart + map.positionAt(bottom - 1, right - 1, table))));\n  dispatch(tr);\n}\n\n// This file defines a number of helpers for wiring up user input to\n\nvar handleKeyDown = keydownHandler({\n  \"ArrowLeft\": arrow(\"horiz\", -1),\n  \"ArrowRight\": arrow(\"horiz\", 1),\n  \"ArrowUp\": arrow(\"vert\", -1),\n  \"ArrowDown\": arrow(\"vert\", 1),\n\n  \"Shift-ArrowLeft\": shiftArrow(\"horiz\", -1),\n  \"Shift-ArrowRight\": shiftArrow(\"horiz\", 1),\n  \"Shift-ArrowUp\": shiftArrow(\"vert\", -1),\n  \"Shift-ArrowDown\": shiftArrow(\"vert\", 1),\n\n  \"Backspace\": deleteCellSelection,\n  \"Mod-Backspace\": deleteCellSelection,\n  \"Delete\": deleteCellSelection,\n  \"Mod-Delete\": deleteCellSelection\n});\n\nfunction maybeSetSelection(state, dispatch, selection) {\n  if (selection.eq(state.selection)) { return false }\n  if (dispatch) { dispatch(state.tr.setSelection(selection).scrollIntoView()); }\n  return true\n}\n\nfunction arrow(axis, dir) {\n  return function (state, dispatch, view) {\n    var sel = state.selection;\n    if (sel instanceof CellSelection) {\n      return maybeSetSelection(state, dispatch, Selection.near(sel.$headCell, dir))\n    }\n    if (axis != \"horiz\" && !sel.empty) { return false }\n    var end = atEndOfCell(view, axis, dir);\n    if (end == null) { return false }\n    if (axis == \"horiz\") {\n      return maybeSetSelection(state, dispatch, Selection.near(state.doc.resolve(sel.head + dir), dir))\n    } else {\n      var $cell = state.doc.resolve(end), $next = nextCell($cell, axis, dir), newSel;\n      if ($next) { newSel = Selection.near($next, 1); }\n      else if (dir < 0) { newSel = Selection.near(state.doc.resolve($cell.before(-1)), -1); }\n      else { newSel = Selection.near(state.doc.resolve($cell.after(-1)), 1); }\n      return maybeSetSelection(state, dispatch, newSel)\n    }\n  }\n}\n\nfunction shiftArrow(axis, dir) {\n  return function (state, dispatch, view) {\n    var sel = state.selection;\n    if (!(sel instanceof CellSelection)) {\n      var end = atEndOfCell(view, axis, dir);\n      if (end == null) { return false }\n      sel = new CellSelection(state.doc.resolve(end));\n    }\n    var $head = nextCell(sel.$headCell, axis, dir);\n    if (!$head) { return false }\n    return maybeSetSelection(state, dispatch, new CellSelection(sel.$anchorCell, $head))\n  }\n}\n\nfunction deleteCellSelection(state, dispatch) {\n  var sel = state.selection;\n  if (!(sel instanceof CellSelection)) { return false }\n  if (dispatch) {\n    var tr = state.tr, baseContent = tableNodeTypes(state.schema).cell.createAndFill().content;\n    sel.forEachCell(function (cell, pos) {\n      if (!cell.content.eq(baseContent))\n        { tr.replace(tr.mapping.map(pos + 1), tr.mapping.map(pos + cell.nodeSize - 1),\n                   new Slice(baseContent, 0, 0)); }\n    });\n    if (tr.docChanged) { dispatch(tr); }\n  }\n  return true\n}\n\nfunction handleTripleClick(view, pos) {\n  var doc = view.state.doc, $cell = cellAround(doc.resolve(pos));\n  if (!$cell) { return false }\n  view.dispatch(view.state.tr.setSelection(new CellSelection($cell)));\n  return true\n}\n\nfunction handlePaste(view, _, slice) {\n  if (!isInTable(view.state)) { return false }\n  var cells = pastedCells(slice), sel = view.state.selection;\n  if (sel instanceof CellSelection) {\n    if (!cells) { cells = {width: 1, height: 1, rows: [Fragment.from(fitSlice(tableNodeTypes(view.state.schema).cell, slice))]}; }\n    var table = sel.$anchorCell.node(-1), start = sel.$anchorCell.start(-1);\n    var rect = TableMap.get(table).rectBetween(sel.$anchorCell.pos - start, sel.$headCell.pos - start);\n    cells = clipCells(cells, rect.right - rect.left, rect.bottom - rect.top);\n    insertCells(view.state, view.dispatch, start, rect, cells);\n    return true\n  } else if (cells) {\n    var $cell = selectionCell(view.state), start$1 = $cell.start(-1);\n    insertCells(view.state, view.dispatch, start$1, TableMap.get($cell.node(-1)).findCell($cell.pos - start$1), cells);\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction handleMouseDown(view, startEvent) {\n  if (startEvent.ctrlKey || startEvent.metaKey) { return }\n\n  var startDOMCell = domInCell(view, startEvent.target), $anchor;\n  if (startEvent.shiftKey && (view.state.selection instanceof CellSelection)) {\n    // Adding to an existing cell selection\n    setCellSelection(view.state.selection.$anchorCell, startEvent);\n    startEvent.preventDefault();\n  } else if (startEvent.shiftKey && startDOMCell &&\n             ($anchor = cellAround(view.state.selection.$anchor)) != null &&\n             cellUnderMouse(view, startEvent).pos != $anchor.pos) {\n    // Adding to a selection that starts in another cell (causing a\n    // cell selection to be created).\n    setCellSelection($anchor, startEvent);\n    startEvent.preventDefault();\n  } else if (!startDOMCell) {\n    // Not in a cell, let the default behavior happen.\n    return\n  }\n\n  // Create and dispatch a cell selection between the given anchor and\n  // the position under the mouse.\n  function setCellSelection($anchor, event) {\n    var $head = cellUnderMouse(view, event);\n    var starting = key.getState(view.state) == null;\n    if (!$head || !inSameTable($anchor, $head)) {\n      if (starting) { $head = $anchor; }\n      else { return }\n    }\n    var selection = new CellSelection($anchor, $head);\n    if (starting || !view.state.selection.eq(selection)) {\n      var tr = view.state.tr.setSelection(selection);\n      if (starting) { tr.setMeta(key, $anchor.pos); }\n      view.dispatch(tr);\n    }\n  }\n\n  // Stop listening to mouse motion events.\n  function stop() {\n    view.root.removeEventListener(\"mouseup\", stop);\n    view.root.removeEventListener(\"dragstart\", stop);\n    view.root.removeEventListener(\"mousemove\", move);\n    if (key.getState(view.state) != null) { view.dispatch(view.state.tr.setMeta(key, -1)); }\n  }\n\n  function move(event) {\n    var anchor = key.getState(view.state), $anchor;\n    if (anchor != null) {\n      // Continuing an existing cross-cell selection\n      $anchor = view.state.doc.resolve(anchor);\n    } else if (domInCell(view, event.target) != startDOMCell) {\n      // Moving out of the initial cell -- start a new cell selection\n      $anchor = cellUnderMouse(view, startEvent);\n      if (!$anchor) { return stop() }\n    }\n    if ($anchor) { setCellSelection($anchor, event); }\n  }\n  view.root.addEventListener(\"mouseup\", stop);\n  view.root.addEventListener(\"dragstart\", stop);\n  view.root.addEventListener(\"mousemove\", move);\n}\n\n// Check whether the cursor is at the end of a cell (so that further\n// motion would move out of the cell)\nfunction atEndOfCell(view, axis, dir) {\n  if (!(view.state.selection instanceof TextSelection)) { return null }\n  var ref = view.state.selection;\n  var $head = ref.$head;\n  for (var d = $head.depth - 1; d >= 0; d--) {\n    var parent = $head.node(d), index = dir < 0 ? $head.index(d) : $head.indexAfter(d);\n    if (index != (dir < 0 ? 0 : parent.childCount)) { return null }\n    if (parent.type.spec.tableRole == \"cell\" || parent.type.spec.tableRole == \"header_cell\") {\n      var cellPos = $head.before(d);\n      var dirStr = axis == \"vert\" ? (dir > 0 ? \"down\" : \"up\") : (dir > 0 ? \"right\" : \"left\");\n      return view.endOfTextblock(dirStr) ? cellPos : null\n    }\n  }\n  return null\n}\n\nfunction domInCell(view, dom) {\n  for (; dom && dom != view.dom; dom = dom.parentNode)\n    { if (dom.nodeName == \"TD\" || dom.nodeName == \"TH\") { return dom } }\n}\n\nfunction cellUnderMouse(view, event) {\n  var mousePos = view.posAtCoords({left: event.clientX, top: event.clientY});\n  if (!mousePos) { return null }\n  return mousePos ? cellAround(view.state.doc.resolve(mousePos.pos)) : null\n}\n\n// This file defines helpers for normalizing tables, making sure no\n\nvar fixTablesKey = new PluginKey(\"fix-tables\");\n\n// Helper for iterating through the nodes in a document that changed\n// compared to the given previous document. Useful for avoiding\n// duplicate work on each transaction.\nfunction changedDescendants(old, cur, offset, f) {\n  var oldSize = old.childCount, curSize = cur.childCount;\n  outer: for (var i = 0, j = 0; i < curSize; i++) {\n    var child = cur.child(i);\n    for (var scan = j, e = Math.min(oldSize, i + 3); scan < e; scan++) {\n      if (old.child(scan) == child) {\n        j = scan + 1;\n        offset += child.nodeSize;\n        continue outer\n      }\n    }\n    f(child, offset);\n    if (j < oldSize && old.child(j).sameMarkup(child))\n      { changedDescendants(old.child(j), child, offset + 1, f); }\n    else\n      { child.nodesBetween(0, child.content.size, f, offset + 1); }\n    offset += child.nodeSize;\n  }\n}\n\n// :: (EditorState, ?EditorState) → ?Transaction\n// Inspect all tables in the given state's document and return a\n// transaction that fixes them, if necessary. If `oldState` was\n// provided, that is assumed to hold a previous, known-good state,\n// which will be used to avoid re-scanning unchanged parts of the\n// document.\nfunction fixTables(state, oldState) {\n  var tr, check = function (node, pos) {\n    if (node.type.spec.tableRole == \"table\") { tr = fixTable(state, node, pos, tr); }\n  };\n  if (!oldState) { state.doc.descendants(check); }\n  else if (oldState.doc != state.doc) { changedDescendants(oldState.doc, state.doc, 0, check); }\n  return tr\n}\n\n// : (EditorState, Node, number, ?Transaction) → ?Transaction\n// Fix the given table, if necessary. Will append to the transaction\n// it was given, if non-null, or create a new one if necessary.\nfunction fixTable(state, table, tablePos, tr) {\n  var map = TableMap.get(table);\n  if (!map.problems) { return tr }\n  if (!tr) { tr = state.tr; }\n\n  // Track which rows we must add cells to, so that we can adjust that\n  // when fixing collisions.\n  var mustAdd = [];\n  for (var i = 0; i < map.height; i++) { mustAdd.push(0); }\n  for (var i$1 = 0; i$1 < map.problems.length; i$1++) {\n    var prob = map.problems[i$1];\n    if (prob.type == \"collision\") {\n      var cell = table.nodeAt(prob.pos);\n      for (var j = 0; j < cell.attrs.rowspan; j++) { mustAdd[prob.row + j] += prob.n; }\n      tr.setNodeMarkup(tr.mapping.map(tablePos + 1 + prob.pos), null, removeColSpan(cell.attrs, cell.attrs.colspan - prob.n, prob.n));\n    } else if (prob.type == \"missing\") {\n      mustAdd[prob.row] += prob.n;\n    } else if (prob.type == \"overlong_rowspan\") {\n      var cell$1 = table.nodeAt(prob.pos);\n      tr.setNodeMarkup(tr.mapping.map(tablePos + 1 + prob.pos), null, setAttr(cell$1.attrs, \"rowspan\", cell$1.attrs.rowspan - prob.n));\n    } else if (prob.type == \"colwidth mismatch\") {\n      var cell$2 = table.nodeAt(prob.pos);\n      tr.setNodeMarkup(tr.mapping.map(tablePos + 1 + prob.pos), null, setAttr(cell$2.attrs, \"colwidth\", prob.colwidth));\n    }\n  }\n  var first, last;\n  for (var i$2 = 0; i$2 < mustAdd.length; i$2++) { if (mustAdd[i$2]) {\n    if (first == null) { first = i$2; }\n    last = i$2;\n  } }\n  // Add the necessary cells, using a heuristic for whether to add the\n  // cells at the start or end of the rows (if it looks like a 'bite'\n  // was taken out of the table, add cells at the start of the row\n  // after the bite. Otherwise add them at the end).\n  for (var i$3 = 0, pos = tablePos + 1; i$3 < map.height; i$3++) {\n    var row = table.child(i$3);\n    var end = pos + row.nodeSize;\n    var add = mustAdd[i$3];\n    if (add > 0) {\n      var tableNodeType = 'cell';\n      if (row.firstChild) {\n        tableNodeType = row.firstChild.type.spec.tableRole;\n      }\n      var nodes = [];\n      for (var j$1 = 0; j$1 < add; j$1++)\n        { nodes.push(tableNodeTypes(state.schema)[tableNodeType].createAndFill()); }\n      var side = (i$3 == 0 || first == i$3 - 1) && last == i$3 ? pos + 1 : end - 1;\n      tr.insert(tr.mapping.map(side), nodes);\n    }\n    pos = end;\n  }\n  return tr.setMeta(fixTablesKey, { fixTables: true })\n}\n\n// This file defines a number of table-related commands.\n\n// Helper to get the selected rectangle in a table, if any. Adds table\n// map, table node, and table start offset to the object for\n// convenience.\nfunction selectedRect(state) {\n  var sel = state.selection, $pos = selectionCell(state);\n  var table = $pos.node(-1), tableStart = $pos.start(-1), map = TableMap.get(table);\n  var rect;\n  if (sel instanceof CellSelection)\n    { rect = map.rectBetween(sel.$anchorCell.pos - tableStart, sel.$headCell.pos - tableStart); }\n  else\n    { rect = map.findCell($pos.pos - tableStart); }\n  rect.tableStart = tableStart;\n  rect.map = map;\n  rect.table = table;\n  return rect\n}\n\n// Add a column at the given position in a table.\nfunction addColumn(tr, ref, col) {\n  var map = ref.map;\n  var tableStart = ref.tableStart;\n  var table = ref.table;\n\n  var refColumn = col > 0 ? -1 : 0;\n  if (columnIsHeader(map, table, col + refColumn))\n    { refColumn = col == 0 || col == map.width ? null : 0; }\n\n  for (var row = 0; row < map.height; row++) {\n    var index = row * map.width + col;\n    // If this position falls inside a col-spanning cell\n    if (col > 0 && col < map.width && map.map[index - 1] == map.map[index]) {\n      var pos = map.map[index], cell = table.nodeAt(pos);\n      tr.setNodeMarkup(tr.mapping.map(tableStart + pos), null,\n                       addColSpan(cell.attrs, col - map.colCount(pos)));\n      // Skip ahead if rowspan > 1\n      row += cell.attrs.rowspan - 1;\n    } else {\n      var type = refColumn == null ? tableNodeTypes(table.type.schema).cell\n          : table.nodeAt(map.map[index + refColumn]).type;\n      var pos$1 = map.positionAt(row, col, table);\n      tr.insert(tr.mapping.map(tableStart + pos$1), type.createAndFill());\n    }\n  }\n  return tr\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Command to add a column before the column with the selection.\nfunction addColumnBefore(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state);\n    dispatch(addColumn(state.tr, rect, rect.left));\n  }\n  return true\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Command to add a column after the column with the selection.\nfunction addColumnAfter(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state);\n    dispatch(addColumn(state.tr, rect, rect.right));\n  }\n  return true\n}\n\nfunction removeColumn(tr, ref, col) {\n  var map = ref.map;\n  var table = ref.table;\n  var tableStart = ref.tableStart;\n\n  var mapStart = tr.mapping.maps.length;\n  for (var row = 0; row < map.height;) {\n    var index = row * map.width + col, pos = map.map[index], cell = table.nodeAt(pos);\n    // If this is part of a col-spanning cell\n    if ((col > 0 && map.map[index - 1] == pos) || (col < map.width - 1 && map.map[index + 1] == pos)) {\n      tr.setNodeMarkup(tr.mapping.slice(mapStart).map(tableStart + pos), null,\n                       removeColSpan(cell.attrs, col - map.colCount(pos)));\n    } else {\n      var start = tr.mapping.slice(mapStart).map(tableStart + pos);\n      tr.delete(start, start + cell.nodeSize);\n    }\n    row += cell.attrs.rowspan;\n  }\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Command function that removes the selected columns from a table.\nfunction deleteColumn(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state), tr = state.tr;\n    if (rect.left == 0 && rect.right == rect.map.width) { return false }\n    for (var i = rect.right - 1;; i--) {\n      removeColumn(tr, rect, i);\n      if (i == rect.left) { break }\n      rect.table = rect.tableStart ? tr.doc.nodeAt(rect.tableStart - 1) : tr.doc;\n      rect.map = TableMap.get(rect.table);\n    }\n    dispatch(tr);\n  }\n  return true\n}\n\nfunction rowIsHeader(map, table, row) {\n  var headerCell = tableNodeTypes(table.type.schema).header_cell;\n  for (var col = 0; col < map.width; col++)\n    { if (table.nodeAt(map.map[col + row * map.width]).type != headerCell)\n      { return false } }\n  return true\n}\n\nfunction addRow(tr, ref, row) {\n  var map = ref.map;\n  var tableStart = ref.tableStart;\n  var table = ref.table;\n\n  var rowPos = tableStart;\n  for (var i = 0; i < row; i++) { rowPos += table.child(i).nodeSize; }\n  var cells = [], refRow = row > 0 ? -1 : 0;\n  if (rowIsHeader(map, table, row + refRow))\n    { refRow = row == 0 || row == map.height ? null : 0; }\n  for (var col = 0, index = map.width * row; col < map.width; col++, index++) {\n    // Covered by a rowspan cell\n    if (row > 0 && row < map.height && map.map[index] == map.map[index - map.width]) {\n      var pos = map.map[index], attrs = table.nodeAt(pos).attrs;\n      tr.setNodeMarkup(tableStart + pos, null, setAttr(attrs, \"rowspan\", attrs.rowspan + 1));\n      col += attrs.colspan - 1;\n    } else {\n      var type = refRow == null ? tableNodeTypes(table.type.schema).cell\n          : table.nodeAt(map.map[index + refRow * map.width]).type;\n      cells.push(type.createAndFill());\n    }\n  }\n  tr.insert(rowPos, tableNodeTypes(table.type.schema).row.create(null, cells));\n  return tr\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Add a table row before the selection.\nfunction addRowBefore(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state);\n    dispatch(addRow(state.tr, rect, rect.top));\n  }\n  return true\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Add a table row after the selection.\nfunction addRowAfter(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state);\n    dispatch(addRow(state.tr, rect, rect.bottom));\n  }\n  return true\n}\n\nfunction removeRow(tr, ref, row) {\n  var map = ref.map;\n  var table = ref.table;\n  var tableStart = ref.tableStart;\n\n  var rowPos = 0;\n  for (var i = 0; i < row; i++) { rowPos += table.child(i).nodeSize; }\n  var nextRow = rowPos + table.child(row).nodeSize;\n\n  var mapFrom = tr.mapping.maps.length;\n  tr.delete(rowPos + tableStart, nextRow + tableStart);\n\n  for (var col = 0, index = row * map.width; col < map.width; col++, index++) {\n    var pos = map.map[index];\n    if (row > 0 && pos == map.map[index - map.width]) {\n      // If this cell starts in the row above, simply reduce its rowspan\n      var attrs = table.nodeAt(pos).attrs;\n      tr.setNodeMarkup(tr.mapping.slice(mapFrom).map(pos + tableStart), null, setAttr(attrs, \"rowspan\", attrs.rowspan - 1));\n      col += attrs.colspan - 1;\n    } else if (row < map.width && pos == map.map[index + map.width]) {\n      // Else, if it continues in the row below, it has to be moved down\n      var cell = table.nodeAt(pos);\n      var copy = cell.type.create(setAttr(cell.attrs, \"rowspan\", cell.attrs.rowspan - 1), cell.content);\n      var newPos = map.positionAt(row + 1, col, table);\n      tr.insert(tr.mapping.slice(mapFrom).map(tableStart + newPos), copy);\n      col += cell.attrs.colspan - 1;\n    }\n  }\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Remove the selected rows from a table.\nfunction deleteRow(state, dispatch) {\n  if (!isInTable(state)) { return false }\n  if (dispatch) {\n    var rect = selectedRect(state), tr = state.tr;\n    if (rect.top == 0 && rect.bottom == rect.map.height) { return false }\n    for (var i = rect.bottom - 1;; i--) {\n      removeRow(tr, rect, i);\n      if (i == rect.top) { break }\n      rect.table = rect.tableStart ? tr.doc.nodeAt(rect.tableStart - 1) : tr.doc;\n      rect.map = TableMap.get(rect.table);\n    }\n    dispatch(tr);\n  }\n  return true\n}\n\nfunction isEmpty(cell) {\n  var c = cell.content;\n  return c.childCount == 1 && c.firstChild.isTextblock && c.firstChild.childCount == 0\n}\n\nfunction cellsOverlapRectangle(ref, rect) {\n  var width = ref.width;\n  var height = ref.height;\n  var map = ref.map;\n\n  var indexTop = rect.top * width + rect.left, indexLeft = indexTop;\n  var indexBottom = (rect.bottom - 1) * width + rect.left, indexRight = indexTop + (rect.right - rect.left - 1);\n  for (var i = rect.top; i < rect.bottom; i++) {\n    if (rect.left > 0 && map[indexLeft] == map[indexLeft - 1] ||\n        rect.right < width && map[indexRight] == map[indexRight + 1]) { return true }\n    indexLeft += width; indexRight += width;\n  }\n  for (var i$1 = rect.left; i$1 < rect.right; i$1++) {\n    if (rect.top > 0 && map[indexTop] == map[indexTop - width] ||\n        rect.bottom < height && map[indexBottom] == map[indexBottom + width]) { return true }\n    indexTop++; indexBottom++;\n  }\n  return false\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Merge the selected cells into a single cell. Only available when\n// the selected cells' outline forms a rectangle.\nfunction mergeCells(state, dispatch) {\n  var sel = state.selection;\n  if (!(sel instanceof CellSelection) || sel.$anchorCell.pos == sel.$headCell.pos) { return false }\n  var rect = selectedRect(state);\n  var map = rect.map;\n  if (cellsOverlapRectangle(map, rect)) { return false }\n  if (dispatch) {\n    var tr = state.tr, seen = {}, content = Fragment.empty, mergedPos, mergedCell;\n    for (var row = rect.top; row < rect.bottom; row++) {\n      for (var col = rect.left; col < rect.right; col++) {\n        var cellPos = map.map[row * map.width + col], cell = rect.table.nodeAt(cellPos);\n        if (seen[cellPos]) { continue }\n        seen[cellPos] = true;\n        if (mergedPos == null) {\n          mergedPos = cellPos;\n          mergedCell = cell;\n        } else {\n          if (!isEmpty(cell)) { content = content.append(cell.content); }\n          var mapped = tr.mapping.map(cellPos + rect.tableStart);\n          tr.delete(mapped, mapped + cell.nodeSize);\n        }\n      }\n    }\n    tr.setNodeMarkup(mergedPos + rect.tableStart, null,\n                     setAttr(addColSpan(mergedCell.attrs, mergedCell.attrs.colspan, (rect.right - rect.left) - mergedCell.attrs.colspan),\n                             \"rowspan\", rect.bottom - rect.top));\n    if (content.size) {\n      var end = mergedPos + 1 + mergedCell.content.size;\n      var start = isEmpty(mergedCell) ? mergedPos + 1 : end;\n      tr.replaceWith(start + rect.tableStart, end + rect.tableStart, content);\n    }\n    tr.setSelection(new CellSelection(tr.doc.resolve(mergedPos + rect.tableStart)));\n    dispatch(tr);\n  }\n  return true\n}\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Split a selected cell, whose rowpan or colspan is greater than one,\n// into smaller cells. Use the first cell type for the new cells.\nfunction splitCell(state, dispatch) {\n  var nodeTypes = tableNodeTypes(state.schema);\n  return splitCellWithType(function (ref) {\n    var node = ref.node;\n\n    return nodeTypes[node.type.spec.tableRole]\n  })(state, dispatch)\n}\n\n// :: (getCellType: ({ row: number, col: number, node: Node}) → NodeType) → (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Split a selected cell, whose rowpan or colspan is greater than one,\n// into smaller cells with the cell type (th, td) returned by getType function.\nfunction splitCellWithType(getCellType) {\n  return function (state, dispatch) {\n    var sel = state.selection;\n    var cellNode, cellPos;\n    if (!(sel instanceof CellSelection)) {\n      cellNode = cellWrapping(sel.$from);\n      if (!cellNode) { return false }\n      cellPos = cellAround(sel.$from).pos;\n    } else {\n      if (sel.$anchorCell.pos != sel.$headCell.pos) { return false }\n      cellNode = sel.$anchorCell.nodeAfter;\n      cellPos = sel.$anchorCell.pos;\n    }\n    if (cellNode.attrs.colspan == 1 && cellNode.attrs.rowspan == 1) {return false}\n    if (dispatch) {\n      var baseAttrs = cellNode.attrs, attrs = [], colwidth = baseAttrs.colwidth;\n      if (baseAttrs.rowspan > 1) { baseAttrs = setAttr(baseAttrs, \"rowspan\", 1); }\n      if (baseAttrs.colspan > 1) { baseAttrs = setAttr(baseAttrs, \"colspan\", 1); }\n      var rect = selectedRect(state), tr = state.tr;\n      for (var i = 0; i < rect.right - rect.left; i++)\n        { attrs.push(colwidth ? setAttr(baseAttrs, \"colwidth\", colwidth && colwidth[i] ? [colwidth[i]] : null) : baseAttrs); }\n      var lastCell;\n      for (var row = rect.top; row < rect.bottom; row++) {\n        var pos = rect.map.positionAt(row, rect.left, rect.table);\n        if (row == rect.top) { pos += cellNode.nodeSize; }\n        for (var col = rect.left, i$1 = 0; col < rect.right; col++, i$1++) {\n          if (col == rect.left && row == rect.top) { continue }\n          tr.insert(lastCell = tr.mapping.map(pos + rect.tableStart, 1), getCellType({ node: cellNode, row: row, col: col}).createAndFill(attrs[i$1]));\n        }\n      }\n      tr.setNodeMarkup(cellPos, getCellType({ node: cellNode, row: rect.top, col: rect.left}), attrs[0]);\n      if (sel instanceof CellSelection)\n        { tr.setSelection(new CellSelection(tr.doc.resolve(sel.$anchorCell.pos),\n                                          lastCell && tr.doc.resolve(lastCell))); }\n      dispatch(tr);\n    }\n    return true\n  }\n}\n\n// :: (string, any) → (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Returns a command that sets the given attribute to the given value,\n// and is only available when the currently selected cell doesn't\n// already have that attribute set to that value.\nfunction setCellAttr(name, value) {\n  return function(state, dispatch) {\n    if (!isInTable(state)) { return false }\n    var $cell = selectionCell(state);\n    if ($cell.nodeAfter.attrs[name] === value) { return false }\n    if (dispatch) {\n      var tr = state.tr;\n      if (state.selection instanceof CellSelection)\n        { state.selection.forEachCell(function (node, pos) {\n          if (node.attrs[name] !== value)\n            { tr.setNodeMarkup(pos, null, setAttr(node.attrs, name, value)); }\n        }); }\n      else\n        { tr.setNodeMarkup($cell.pos, null, setAttr($cell.nodeAfter.attrs, name, value)); }\n      dispatch(tr);\n    }\n    return true\n  }\n}\n\nfunction deprecated_toggleHeader(type) {\n  return function(state, dispatch) {\n    if (!isInTable(state)) { return false }\n    if (dispatch) {\n      var types = tableNodeTypes(state.schema);\n      var rect = selectedRect(state), tr = state.tr;\n      var cells = rect.map.cellsInRect(type == \"column\" ? new Rect(rect.left, 0, rect.right, rect.map.height) :\n                                       type == \"row\" ? new Rect(0, rect.top, rect.map.width, rect.bottom) : rect);\n      var nodes = cells.map(function (pos) { return rect.table.nodeAt(pos); });\n      for (var i = 0; i < cells.length; i++) // Remove headers, if any\n        { if (nodes[i].type == types.header_cell)\n          { tr.setNodeMarkup(rect.tableStart + cells[i], types.cell, nodes[i].attrs); } }\n      if (tr.steps.length == 0) { for (var i$1 = 0; i$1 < cells.length; i$1++) // No headers removed, add instead\n        { tr.setNodeMarkup(rect.tableStart + cells[i$1], types.header_cell, nodes[i$1].attrs); } }\n      dispatch(tr);\n    }\n    return true\n  }\n}\n\nfunction isHeaderEnabledByType(type, rect, types) {\n  // Get cell positions for first row or first column\n  var cellPositions = rect.map.cellsInRect({\n    left: 0,\n    top: 0,\n    right: type == \"row\" ? rect.map.width : 1,\n    bottom: type == \"column\" ? rect.map.height : 1,\n  });\n\n  for (var i = 0; i < cellPositions.length; i++) {\n    var cell = rect.table.nodeAt(cellPositions[i]);\n    if (cell && cell.type !== types.header_cell) {\n      return false\n    }\n  }\n\n  return true\n}\n\n// :: (string, ?{ useDeprecatedLogic: bool }) → (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Toggles between row/column header and normal cells (Only applies to first row/column).\n// For deprecated behavior pass `useDeprecatedLogic` in options with true.\nfunction toggleHeader(type, options) {\n  options = options || { useDeprecatedLogic: false };\n\n  if (options.useDeprecatedLogic)\n    { return deprecated_toggleHeader(type) }\n\n  return function(state, dispatch) {\n    if (!isInTable(state)) { return false }\n    if (dispatch) {\n      var types = tableNodeTypes(state.schema);\n      var rect = selectedRect(state), tr = state.tr;\n\n      var isHeaderRowEnabled = isHeaderEnabledByType(\"row\", rect, types);\n      var isHeaderColumnEnabled = isHeaderEnabledByType(\"column\", rect, types);\n\n      var isHeaderEnabled = type === \"column\" ? isHeaderRowEnabled :\n                            type === \"row\"    ? isHeaderColumnEnabled : false;\n\n      var selectionStartsAt = isHeaderEnabled ? 1 : 0;\n\n      var cellsRect = type == \"column\" ? new Rect(0, selectionStartsAt, 1, rect.map.height) :\n                      type == \"row\" ? new Rect(selectionStartsAt, 0, rect.map.width, 1) : rect;\n\n      var newType = type == \"column\" ? isHeaderColumnEnabled ? types.cell : types.header_cell :\n                    type == \"row\" ? isHeaderRowEnabled ? types.cell : types.header_cell : types.cell;\n\n      rect.map.cellsInRect(cellsRect).forEach(function (relativeCellPos) {\n        var cellPos = relativeCellPos + rect.tableStart;\n        var cell = tr.doc.nodeAt(cellPos);\n\n        if (cell) {\n          tr.setNodeMarkup(cellPos, newType, cell.attrs);\n        }\n      });\n\n      dispatch(tr);\n    }\n    return true\n  }\n}\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Toggles whether the selected row contains header cells.\nvar toggleHeaderRow = toggleHeader(\"row\", { useDeprecatedLogic: true });\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Toggles whether the selected column contains header cells.\nvar toggleHeaderColumn = toggleHeader(\"column\", { useDeprecatedLogic: true });\n\n// :: (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Toggles whether the selected cells are header cells.\nvar toggleHeaderCell = toggleHeader(\"cell\", { useDeprecatedLogic: true });\n\nfunction findNextCell($cell, dir) {\n  if (dir < 0) {\n    var before = $cell.nodeBefore;\n    if (before) { return $cell.pos - before.nodeSize }\n    for (var row = $cell.index(-1) - 1, rowEnd = $cell.before(); row >= 0; row--) {\n      var rowNode = $cell.node(-1).child(row);\n      if (rowNode.childCount) { return rowEnd - 1 - rowNode.lastChild.nodeSize }\n      rowEnd -= rowNode.nodeSize;\n    }\n  } else {\n    if ($cell.index() < $cell.parent.childCount - 1) { return $cell.pos + $cell.nodeAfter.nodeSize }\n    var table = $cell.node(-1);\n    for (var row$1 = $cell.indexAfter(-1), rowStart = $cell.after(); row$1 < table.childCount; row$1++) {\n      var rowNode$1 = table.child(row$1);\n      if (rowNode$1.childCount) { return rowStart + 1 }\n      rowStart += rowNode$1.nodeSize;\n    }\n  }\n}\n\n// :: (number) → (EditorState, dispatch: ?(tr: Transaction)) → bool\n// Returns a command for selecting the next (direction=1) or previous\n// (direction=-1) cell in a table.\nfunction goToNextCell(direction) {\n  return function(state, dispatch) {\n    if (!isInTable(state)) { return false }\n    var cell = findNextCell(selectionCell(state), direction);\n    if (cell == null) { return }\n    if (dispatch) {\n      var $cell = state.doc.resolve(cell);\n      dispatch(state.tr.setSelection(TextSelection.between($cell, moveCellForward($cell))).scrollIntoView());\n    }\n    return true\n  }\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// Deletes the table around the selection, if any.\nfunction deleteTable(state, dispatch) {\n  var $pos = state.selection.$anchor;\n  for (var d = $pos.depth; d > 0; d--) {\n    var node = $pos.node(d);\n    if (node.type.spec.tableRole == \"table\") {\n      if (dispatch) { dispatch(state.tr.delete($pos.before(d), $pos.after(d)).scrollIntoView()); }\n      return true\n    }\n  }\n  return false\n}\n\nvar TableView = function TableView(node, cellMinWidth) {\n  this.node = node;\n  this.cellMinWidth = cellMinWidth;\n  this.dom = document.createElement(\"div\");\n  this.dom.className = \"tableWrapper\";\n  this.table = this.dom.appendChild(document.createElement(\"table\"));\n  this.colgroup = this.table.appendChild(document.createElement(\"colgroup\"));\n  updateColumns(node, this.colgroup, this.table, cellMinWidth);\n  this.contentDOM = this.table.appendChild(document.createElement(\"tbody\"));\n};\n\nTableView.prototype.update = function update (node) {\n  if (node.type != this.node.type) { return false }\n  this.node = node;\n  updateColumns(node, this.colgroup, this.table, this.cellMinWidth);\n  return true\n};\n\nTableView.prototype.ignoreMutation = function ignoreMutation (record) {\n  return record.type == \"attributes\" && (record.target == this.table || this.colgroup.contains(record.target))\n};\n\nfunction updateColumns(node, colgroup, table, cellMinWidth, overrideCol, overrideValue) {\n  var totalWidth = 0, fixedWidth = true;\n  var nextDOM = colgroup.firstChild, row = node.firstChild;\n  for (var i = 0, col = 0; i < row.childCount; i++) {\n    var ref = row.child(i).attrs;\n    var colspan = ref.colspan;\n    var colwidth = ref.colwidth;\n    for (var j = 0; j < colspan; j++, col++) {\n      var hasWidth = overrideCol == col ? overrideValue : colwidth && colwidth[j];\n      var cssWidth = hasWidth ? hasWidth + \"px\" : \"\";\n      totalWidth += hasWidth || cellMinWidth;\n      if (!hasWidth) { fixedWidth = false; }\n      if (!nextDOM) {\n        colgroup.appendChild(document.createElement(\"col\")).style.width = cssWidth;\n      } else {\n        if (nextDOM.style.width != cssWidth) { nextDOM.style.width = cssWidth; }\n        nextDOM = nextDOM.nextSibling;\n      }\n    }\n  }\n\n  while (nextDOM) {\n    var after = nextDOM.nextSibling;\n    nextDOM.parentNode.removeChild(nextDOM);\n    nextDOM = after;\n  }\n\n  if (fixedWidth) {\n    table.style.width = totalWidth + \"px\";\n    table.style.minWidth = \"\";\n  } else {\n    table.style.width = \"\";\n    table.style.minWidth = totalWidth + \"px\";\n  }\n}\n\nvar key$1 = new PluginKey(\"tableColumnResizing\");\n\nfunction columnResizing(ref) {\n  if ( ref === void 0 ) ref = {};\n  var handleWidth = ref.handleWidth; if ( handleWidth === void 0 ) handleWidth = 5;\n  var cellMinWidth = ref.cellMinWidth; if ( cellMinWidth === void 0 ) cellMinWidth = 25;\n  var View = ref.View; if ( View === void 0 ) View = TableView;\n  var lastColumnResizable = ref.lastColumnResizable; if ( lastColumnResizable === void 0 ) lastColumnResizable = true;\n\n  var plugin = new Plugin({\n    key: key$1,\n    state: {\n      init: function init(_, state) {\n        this.spec.props.nodeViews[tableNodeTypes(state.schema).table.name] =\n          function (node, view) { return new View(node, cellMinWidth, view); };\n        return new ResizeState(-1, false)\n      },\n      apply: function apply(tr, prev) {\n        return prev.apply(tr)\n      }\n    },\n    props: {\n      attributes: function attributes(state) {\n        var pluginState = key$1.getState(state);\n        return pluginState.activeHandle > -1 ? {class: \"resize-cursor\"} : null\n      },\n\n      handleDOMEvents: {\n        mousemove: function mousemove(view, event) { handleMouseMove(view, event, handleWidth, cellMinWidth, lastColumnResizable); },\n        mouseleave: function mouseleave(view) { handleMouseLeave(view); },\n        mousedown: function mousedown(view, event) { handleMouseDown$1(view, event, cellMinWidth); }\n      },\n\n      decorations: function decorations(state) {\n        var pluginState = key$1.getState(state);\n        if (pluginState.activeHandle > -1) { return handleDecorations(state, pluginState.activeHandle) }\n      },\n\n      nodeViews: {}\n    }\n  });\n  return plugin\n}\n\nvar ResizeState = function ResizeState(activeHandle, dragging) {\n  this.activeHandle = activeHandle;\n  this.dragging = dragging;\n};\n\nResizeState.prototype.apply = function apply (tr) {\n  var state = this, action = tr.getMeta(key$1);\n  if (action && action.setHandle != null)\n    { return new ResizeState(action.setHandle, null) }\n  if (action && action.setDragging !== undefined)\n    { return new ResizeState(state.activeHandle, action.setDragging) }\n  if (state.activeHandle > -1 && tr.docChanged) {\n    var handle = tr.mapping.map(state.activeHandle, -1);\n    if (!pointsAtCell(tr.doc.resolve(handle))) { handle = null; }\n    state = new ResizeState(handle, state.dragging);\n  }\n  return state\n};\n\nfunction handleMouseMove(view, event, handleWidth, cellMinWidth, lastColumnResizable) {\n  var pluginState = key$1.getState(view.state);\n\n  if (!pluginState.dragging) {\n    var target = domCellAround(event.target), cell = -1;\n    if (target) {\n      var ref = target.getBoundingClientRect();\n      var left = ref.left;\n      var right = ref.right;\n      if (event.clientX - left <= handleWidth)\n        { cell = edgeCell(view, event, \"left\"); }\n      else if (right - event.clientX <= handleWidth)\n        { cell = edgeCell(view, event, \"right\"); }\n    }\n\n    if (cell != pluginState.activeHandle) {\n      if (!lastColumnResizable && cell !== -1) {\n        var $cell = view.state.doc.resolve(cell);\n        var table = $cell.node(-1), map = TableMap.get(table), start = $cell.start(-1);\n        var col = map.colCount($cell.pos - start) + $cell.nodeAfter.attrs.colspan - 1;\n\n        if (col == map.width - 1) {\n          return\n        }\n      }\n\n      updateHandle(view, cell);\n    }\n  }\n}\n\nfunction handleMouseLeave(view) {\n  var pluginState = key$1.getState(view.state);\n  if (pluginState.activeHandle > -1 && !pluginState.dragging) { updateHandle(view, -1); }\n}\n\nfunction handleMouseDown$1(view, event, cellMinWidth) {\n  var pluginState = key$1.getState(view.state);\n  if (pluginState.activeHandle == -1 || pluginState.dragging) { return false }\n\n  var cell = view.state.doc.nodeAt(pluginState.activeHandle);\n  var width = currentColWidth(view, pluginState.activeHandle, cell.attrs);\n  view.dispatch(view.state.tr.setMeta(key$1, {setDragging: {startX: event.clientX, startWidth: width}}));\n\n  function finish(event) {\n    window.removeEventListener(\"mouseup\", finish);\n    window.removeEventListener(\"mousemove\", move);\n    var pluginState = key$1.getState(view.state);\n    if (pluginState.dragging) {\n      updateColumnWidth(view, pluginState.activeHandle, draggedWidth(pluginState.dragging, event, cellMinWidth));\n      view.dispatch(view.state.tr.setMeta(key$1, {setDragging: null}));\n    }\n  }\n  function move(event) {\n    if (!event.which) { return finish(event) }\n    var pluginState = key$1.getState(view.state);\n    var dragged = draggedWidth(pluginState.dragging, event, cellMinWidth);\n    displayColumnWidth(view, pluginState.activeHandle, dragged, cellMinWidth);\n  }\n\n  window.addEventListener(\"mouseup\", finish);\n  window.addEventListener(\"mousemove\", move);\n  event.preventDefault();\n  return true\n}\n\nfunction currentColWidth(view, cellPos, ref) {\n  var colspan = ref.colspan;\n  var colwidth = ref.colwidth;\n\n  var width = colwidth && colwidth[colwidth.length - 1];\n  if (width) { return width }\n  var dom = view.domAtPos(cellPos);\n  var node = dom.node.childNodes[dom.offset];\n  var domWidth = node.offsetWidth, parts = colspan;\n  if (colwidth) { for (var i = 0; i < colspan; i++) { if (colwidth[i]) {\n    domWidth -= colwidth[i];\n    parts--;\n  } } }\n  return domWidth / parts\n}\n\nfunction domCellAround(target) {\n  while (target && target.nodeName != \"TD\" && target.nodeName != \"TH\")\n    { target = target.classList.contains(\"ProseMirror\") ? null : target.parentNode; }\n  return target\n}\n\nfunction edgeCell(view, event, side) {\n  var found = view.posAtCoords({left: event.clientX, top: event.clientY});\n  if (!found) { return -1 }\n  var pos = found.pos;\n  var $cell = cellAround(view.state.doc.resolve(pos));\n  if (!$cell) { return -1 }\n  if (side == \"right\") { return $cell.pos }\n  var map = TableMap.get($cell.node(-1)), start = $cell.start(-1);\n  var index = map.map.indexOf($cell.pos - start);\n  return index % map.width == 0 ? -1 : start + map.map[index - 1]\n}\n\nfunction draggedWidth(dragging, event, cellMinWidth) {\n  var offset = event.clientX - dragging.startX;\n  return Math.max(cellMinWidth, dragging.startWidth + offset)\n}\n\nfunction updateHandle(view, value) {\n  view.dispatch(view.state.tr.setMeta(key$1, {setHandle: value}));\n}\n\nfunction updateColumnWidth(view, cell, width) {\n  var $cell = view.state.doc.resolve(cell);\n  var table = $cell.node(-1), map = TableMap.get(table), start = $cell.start(-1);\n  var col = map.colCount($cell.pos - start) + $cell.nodeAfter.attrs.colspan - 1;\n  var tr = view.state.tr;\n  for (var row = 0; row < map.height; row++) {\n    var mapIndex = row * map.width + col;\n    // Rowspanning cell that has already been handled\n    if (row && map.map[mapIndex] == map.map[mapIndex - map.width]) { continue }\n    var pos = map.map[mapIndex];\n    var ref = table.nodeAt(pos);\n    var attrs = ref.attrs;\n    var index = attrs.colspan == 1 ? 0 : col - map.colCount(pos);\n    if (attrs.colwidth && attrs.colwidth[index] == width) { continue }\n    var colwidth = attrs.colwidth ? attrs.colwidth.slice() : zeroes(attrs.colspan);\n    colwidth[index] = width;\n    tr.setNodeMarkup(start + pos, null, setAttr(attrs, \"colwidth\", colwidth));\n  }\n  if (tr.docChanged) { view.dispatch(tr); }\n}\n\nfunction displayColumnWidth(view, cell, width, cellMinWidth) {\n  var $cell = view.state.doc.resolve(cell);\n  var table = $cell.node(-1), start = $cell.start(-1);\n  var col = TableMap.get(table).colCount($cell.pos - start) + $cell.nodeAfter.attrs.colspan - 1;\n  var dom = view.domAtPos($cell.start(-1)).node;\n  while (dom.nodeName != \"TABLE\") { dom = dom.parentNode; }\n  updateColumns(table, dom.firstChild, dom, cellMinWidth, col, width);\n}\n\nfunction zeroes(n) {\n  var result = [];\n  for (var i = 0; i < n; i++) { result.push(0); }\n  return result\n}\n\nfunction handleDecorations(state, cell) {\n  var decorations = [];\n  var $cell = state.doc.resolve(cell);\n  var table = $cell.node(-1), map = TableMap.get(table), start = $cell.start(-1);\n  var col = map.colCount($cell.pos - start) + $cell.nodeAfter.attrs.colspan;\n  for (var row = 0; row < map.height; row++) {\n    var index = col + row * map.width - 1;\n    // For positions that are have either a different cell or the end\n    // of the table to their right, and either the top of the table or\n    // a different cell above them, add a decoration\n    if ((col == map.width || map.map[index] != map.map[index + 1]) &&\n        (row == 0 || map.map[index - 1] != map.map[index - 1 - map.width])) {\n      var cellPos = map.map[index];\n      var pos = start + cellPos + table.nodeAt(cellPos).nodeSize - 1;\n      var dom = document.createElement(\"div\");\n      dom.className = \"column-resize-handle\";\n      decorations.push(Decoration.widget(pos, dom));\n    }\n  }\n  return DecorationSet.create(state.doc, decorations)\n}\n\n// This file defines a plugin that handles the drawing of cell\n\n// :: () → Plugin\n//\n// Creates a [plugin](http://prosemirror.net/docs/ref/#state.Plugin)\n// that, when added to an editor, enables cell-selection, handles\n// cell-based copy/paste, and makes sure tables stay well-formed (each\n// row has the same width, and cells don't overlap).\n//\n// You should probably put this plugin near the end of your array of\n// plugins, since it handles mouse and arrow key events in tables\n// rather broadly, and other plugins, like the gap cursor or the\n// column-width dragging plugin, might want to get a turn first to\n// perform more specific behavior.\nfunction tableEditing(ref) {\n  if ( ref === void 0 ) ref = {};\n  var allowTableNodeSelection = ref.allowTableNodeSelection; if ( allowTableNodeSelection === void 0 ) allowTableNodeSelection = false;\n\n  return new Plugin({\n    key: key,\n\n    // This piece of state is used to remember when a mouse-drag\n    // cell-selection is happening, so that it can continue even as\n    // transactions (which might move its anchor cell) come in.\n    state: {\n      init: function init() { return null },\n      apply: function apply(tr, cur) {\n        var set = tr.getMeta(key);\n        if (set != null) { return set == -1 ? null : set }\n        if (cur == null || !tr.docChanged) { return cur }\n        var ref = tr.mapping.mapResult(cur);\n        var deleted = ref.deleted;\n        var pos = ref.pos;\n        return deleted ? null : pos\n      }\n    },\n\n    props: {\n      decorations: drawCellSelection,\n\n      handleDOMEvents: {\n        mousedown: handleMouseDown\n      },\n\n      createSelectionBetween: function createSelectionBetween(view) {\n        if (key.getState(view.state) != null) { return view.state.selection }\n      },\n\n      handleTripleClick: handleTripleClick,\n\n      handleKeyDown: handleKeyDown,\n\n      handlePaste: handlePaste\n    },\n\n    appendTransaction: function appendTransaction(_, oldState, state) {\n      return normalizeSelection(state, fixTables(state, oldState), allowTableNodeSelection)\n    }\n  })\n}\n\nexport { CellSelection, TableMap, TableView, clipCells as __clipCells, insertCells as __insertCells, pastedCells as __pastedCells, addColSpan, addColumn, addColumnAfter, addColumnBefore, addRow, addRowAfter, addRowBefore, cellAround, colCount, columnIsHeader, columnResizing, key$1 as columnResizingPluginKey, deleteColumn, deleteRow, deleteTable, findCell, fixTables, fixTablesKey, goToNextCell, handlePaste, inSameTable, isInTable, mergeCells, moveCellForward, nextCell, pointsAtCell, removeColSpan, removeColumn, removeRow, rowIsHeader, selectedRect, selectionCell, setAttr, setCellAttr, splitCell, splitCellWithType, tableEditing, key as tableEditingKey, tableNodeTypes, tableNodes, toggleHeader, toggleHeaderCell, toggleHeaderColumn, toggleHeaderRow, updateColumns as updateColumnsOnResize };\n//# sourceMappingURL=index.es.js.map\n","'use strict'\n\nmodule.exports = typescript\ntypescript.displayName = 'typescript'\ntypescript.aliases = ['ts']\nfunction typescript(Prism) {\n  ;(function (Prism) {\n    Prism.languages.typescript = Prism.languages.extend('javascript', {\n      'class-name': {\n        pattern:\n          /(\\b(?:class|extends|implements|instanceof|interface|new|type)\\s+)(?!keyof\\b)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?:\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,\n        lookbehind: true,\n        greedy: true,\n        inside: null // see below\n      },\n      builtin:\n        /\\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\\b/\n    }) // The keywords TypeScript adds to JavaScript\n    Prism.languages.typescript.keyword.push(\n      /\\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\\b/, // keywords that have to be followed by an identifier\n      /\\b(?:asserts|infer|interface|module|namespace|type)\\b(?=\\s*(?:[{_$a-zA-Z\\xA0-\\uFFFF]|$))/, // This is for `import type *, {}`\n      /\\btype\\b(?=\\s*(?:[\\{*]|$))/\n    ) // doesn't work with TS because TS is too complex\n    delete Prism.languages.typescript['parameter'] // a version of typescript specifically for highlighting types\n    var typeInside = Prism.languages.extend('typescript', {})\n    delete typeInside['class-name']\n    Prism.languages.typescript['class-name'].inside = typeInside\n    Prism.languages.insertBefore('typescript', 'function', {\n      decorator: {\n        pattern: /@[$\\w\\xA0-\\uFFFF]+/,\n        inside: {\n          at: {\n            pattern: /^@/,\n            alias: 'operator'\n          },\n          function: /^[\\s\\S]+/\n        }\n      },\n      'generic-function': {\n        // e.g. foo<T extends \"bar\" | \"baz\">( ...\n        pattern:\n          /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\\s*\\()/,\n        greedy: true,\n        inside: {\n          function: /^#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*/,\n          generic: {\n            pattern: /<[\\s\\S]+/,\n            // everything after the first <\n            alias: 'class-name',\n            inside: typeInside\n          }\n        }\n      }\n    })\n    Prism.languages.ts = Prism.languages.typescript\n  })(Prism)\n}\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `¬it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nmodule.exports = decimal\n\n// Check if the given character code, or the character code at the first\n// character, is decimal.\nfunction decimal(character) {\n  var code = typeof character === 'string' ? character.charCodeAt(0) : character\n\n  return code >= 48 && code <= 57 /* 0-9 */\n}\n","'use strict'\n\nvar legacy = require('character-entities-legacy')\nvar invalid = require('character-reference-invalid')\nvar decimal = require('is-decimal')\nvar hexadecimal = require('is-hexadecimal')\nvar alphanumerical = require('is-alphanumerical')\nvar decodeEntity = require('./decode-entity')\n\nmodule.exports = parseEntities\n\nvar own = {}.hasOwnProperty\nvar fromCharCode = String.fromCharCode\nvar noop = Function.prototype\n\n// Default settings.\nvar defaults = {\n  warning: null,\n  reference: null,\n  text: null,\n  warningContext: null,\n  referenceContext: null,\n  textContext: null,\n  position: {},\n  additional: null,\n  attribute: false,\n  nonTerminated: true\n}\n\n// Characters.\nvar tab = 9 // '\\t'\nvar lineFeed = 10 // '\\n'\nvar formFeed = 12 // '\\f'\nvar space = 32 // ' '\nvar ampersand = 38 // '&'\nvar semicolon = 59 // ';'\nvar lessThan = 60 // '<'\nvar equalsTo = 61 // '='\nvar numberSign = 35 // '#'\nvar uppercaseX = 88 // 'X'\nvar lowercaseX = 120 // 'x'\nvar replacementCharacter = 65533 // '�'\n\n// Reference types.\nvar name = 'named'\nvar hexa = 'hexadecimal'\nvar deci = 'decimal'\n\n// Map of bases.\nvar bases = {}\n\nbases[hexa] = 16\nbases[deci] = 10\n\n// Map of types to tests.\n// Each type of character reference accepts different characters.\n// This test is used to detect whether a reference has ended (as the semicolon\n// is not strictly needed).\nvar tests = {}\n\ntests[name] = alphanumerical\ntests[deci] = decimal\ntests[hexa] = hexadecimal\n\n// Warning types.\nvar namedNotTerminated = 1\nvar numericNotTerminated = 2\nvar namedEmpty = 3\nvar numericEmpty = 4\nvar namedUnknown = 5\nvar numericDisallowed = 6\nvar numericProhibited = 7\n\n// Warning messages.\nvar messages = {}\n\nmessages[namedNotTerminated] =\n  'Named character references must be terminated by a semicolon'\nmessages[numericNotTerminated] =\n  'Numeric character references must be terminated by a semicolon'\nmessages[namedEmpty] = 'Named character references cannot be empty'\nmessages[numericEmpty] = 'Numeric character references cannot be empty'\nmessages[namedUnknown] = 'Named character references must be known'\nmessages[numericDisallowed] =\n  'Numeric character references cannot be disallowed'\nmessages[numericProhibited] =\n  'Numeric character references cannot be outside the permissible Unicode range'\n\n// Wrap to ensure clean parameters are given to `parse`.\nfunction parseEntities(value, options) {\n  var settings = {}\n  var option\n  var key\n\n  if (!options) {\n    options = {}\n  }\n\n  for (key in defaults) {\n    option = options[key]\n    settings[key] =\n      option === null || option === undefined ? defaults[key] : option\n  }\n\n  if (settings.position.indent || settings.position.start) {\n    settings.indent = settings.position.indent || []\n    settings.position = settings.position.start\n  }\n\n  return parse(value, settings)\n}\n\n// Parse entities.\n// eslint-disable-next-line complexity\nfunction parse(value, settings) {\n  var additional = settings.additional\n  var nonTerminated = settings.nonTerminated\n  var handleText = settings.text\n  var handleReference = settings.reference\n  var handleWarning = settings.warning\n  var textContext = settings.textContext\n  var referenceContext = settings.referenceContext\n  var warningContext = settings.warningContext\n  var pos = settings.position\n  var indent = settings.indent || []\n  var length = value.length\n  var index = 0\n  var lines = -1\n  var column = pos.column || 1\n  var line = pos.line || 1\n  var queue = ''\n  var result = []\n  var entityCharacters\n  var namedEntity\n  var terminated\n  var characters\n  var character\n  var reference\n  var following\n  var warning\n  var reason\n  var output\n  var entity\n  var begin\n  var start\n  var type\n  var test\n  var prev\n  var next\n  var diff\n  var end\n\n  if (typeof additional === 'string') {\n    additional = additional.charCodeAt(0)\n  }\n\n  // Cache the current point.\n  prev = now()\n\n  // Wrap `handleWarning`.\n  warning = handleWarning ? parseError : noop\n\n  // Ensure the algorithm walks over the first character and the end\n  // (inclusive).\n  index--\n  length++\n\n  while (++index < length) {\n    // If the previous character was a newline.\n    if (character === lineFeed) {\n      column = indent[lines] || 1\n    }\n\n    character = value.charCodeAt(index)\n\n    if (character === ampersand) {\n      following = value.charCodeAt(index + 1)\n\n      // The behaviour depends on the identity of the next character.\n      if (\n        following === tab ||\n        following === lineFeed ||\n        following === formFeed ||\n        following === space ||\n        following === ampersand ||\n        following === lessThan ||\n        following !== following ||\n        (additional && following === additional)\n      ) {\n        // Not a character reference.\n        // No characters are consumed, and nothing is returned.\n        // This is not an error, either.\n        queue += fromCharCode(character)\n        column++\n\n        continue\n      }\n\n      start = index + 1\n      begin = start\n      end = start\n\n      if (following === numberSign) {\n        // Numerical entity.\n        end = ++begin\n\n        // The behaviour further depends on the next character.\n        following = value.charCodeAt(end)\n\n        if (following === uppercaseX || following === lowercaseX) {\n          // ASCII hex digits.\n          type = hexa\n          end = ++begin\n        } else {\n          // ASCII digits.\n          type = deci\n        }\n      } else {\n        // Named entity.\n        type = name\n      }\n\n      entityCharacters = ''\n      entity = ''\n      characters = ''\n      test = tests[type]\n      end--\n\n      while (++end < length) {\n        following = value.charCodeAt(end)\n\n        if (!test(following)) {\n          break\n        }\n\n        characters += fromCharCode(following)\n\n        // Check if we can match a legacy named reference.\n        // If so, we cache that as the last viable named reference.\n        // This ensures we do not need to walk backwards later.\n        if (type === name && own.call(legacy, characters)) {\n          entityCharacters = characters\n          entity = legacy[characters]\n        }\n      }\n\n      terminated = value.charCodeAt(end) === semicolon\n\n      if (terminated) {\n        end++\n\n        namedEntity = type === name ? decodeEntity(characters) : false\n\n        if (namedEntity) {\n          entityCharacters = characters\n          entity = namedEntity\n        }\n      }\n\n      diff = 1 + end - start\n\n      if (!terminated && !nonTerminated) {\n        // Empty.\n      } else if (!characters) {\n        // An empty (possible) entity is valid, unless it’s numeric (thus an\n        // ampersand followed by an octothorp).\n        if (type !== name) {\n          warning(numericEmpty, diff)\n        }\n      } else if (type === name) {\n        // An ampersand followed by anything unknown, and not terminated, is\n        // invalid.\n        if (terminated && !entity) {\n          warning(namedUnknown, 1)\n        } else {\n          // If theres something after an entity name which is not known, cap\n          // the reference.\n          if (entityCharacters !== characters) {\n            end = begin + entityCharacters.length\n            diff = 1 + end - begin\n            terminated = false\n          }\n\n          // If the reference is not terminated, warn.\n          if (!terminated) {\n            reason = entityCharacters ? namedNotTerminated : namedEmpty\n\n            if (settings.attribute) {\n              following = value.charCodeAt(end)\n\n              if (following === equalsTo) {\n                warning(reason, diff)\n                entity = null\n              } else if (alphanumerical(following)) {\n                entity = null\n              } else {\n                warning(reason, diff)\n              }\n            } else {\n              warning(reason, diff)\n            }\n          }\n        }\n\n        reference = entity\n      } else {\n        if (!terminated) {\n          // All non-terminated numeric entities are not rendered, and trigger a\n          // warning.\n          warning(numericNotTerminated, diff)\n        }\n\n        // When terminated and number, parse as either hexadecimal or decimal.\n        reference = parseInt(characters, bases[type])\n\n        // Trigger a warning when the parsed number is prohibited, and replace\n        // with replacement character.\n        if (prohibited(reference)) {\n          warning(numericProhibited, diff)\n          reference = fromCharCode(replacementCharacter)\n        } else if (reference in invalid) {\n          // Trigger a warning when the parsed number is disallowed, and replace\n          // by an alternative.\n          warning(numericDisallowed, diff)\n          reference = invalid[reference]\n        } else {\n          // Parse the number.\n          output = ''\n\n          // Trigger a warning when the parsed number should not be used.\n          if (disallowed(reference)) {\n            warning(numericDisallowed, diff)\n          }\n\n          // Stringify the number.\n          if (reference > 0xffff) {\n            reference -= 0x10000\n            output += fromCharCode((reference >>> (10 & 0x3ff)) | 0xd800)\n            reference = 0xdc00 | (reference & 0x3ff)\n          }\n\n          reference = output + fromCharCode(reference)\n        }\n      }\n\n      // Found it!\n      // First eat the queued characters as normal text, then eat an entity.\n      if (reference) {\n        flush()\n\n        prev = now()\n        index = end - 1\n        column += end - start + 1\n        result.push(reference)\n        next = now()\n        next.offset++\n\n        if (handleReference) {\n          handleReference.call(\n            referenceContext,\n            reference,\n            {start: prev, end: next},\n            value.slice(start - 1, end)\n          )\n        }\n\n        prev = next\n      } else {\n        // If we could not find a reference, queue the checked characters (as\n        // normal characters), and move the pointer to their end.\n        // This is possible because we can be certain neither newlines nor\n        // ampersands are included.\n        characters = value.slice(start - 1, end)\n        queue += characters\n        column += characters.length\n        index = end - 1\n      }\n    } else {\n      // Handle anything other than an ampersand, including newlines and EOF.\n      if (\n        character === 10 // Line feed\n      ) {\n        line++\n        lines++\n        column = 0\n      }\n\n      if (character === character) {\n        queue += fromCharCode(character)\n        column++\n      } else {\n        flush()\n      }\n    }\n  }\n\n  // Return the reduced nodes.\n  return result.join('')\n\n  // Get current position.\n  function now() {\n    return {\n      line: line,\n      column: column,\n      offset: index + (pos.offset || 0)\n    }\n  }\n\n  // “Throw” a parse-error: a warning.\n  function parseError(code, offset) {\n    var position = now()\n\n    position.column += offset\n    position.offset += offset\n\n    handleWarning.call(warningContext, messages[code], position, code)\n  }\n\n  // Flush `queue` (normal text).\n  // Macro invoked before each entity and at the end of `value`.\n  // Does nothing when `queue` is empty.\n  function flush() {\n    if (queue) {\n      result.push(queue)\n\n      if (handleText) {\n        handleText.call(textContext, queue, {start: prev, end: now()})\n      }\n\n      queue = ''\n    }\n  }\n}\n\n// Check if `character` is outside the permissible unicode range.\nfunction prohibited(code) {\n  return (code >= 0xd800 && code <= 0xdfff) || code > 0x10ffff\n}\n\n// Check if `character` is disallowed.\nfunction disallowed(code) {\n  return (\n    (code >= 0x0001 && code <= 0x0008) ||\n    code === 0x000b ||\n    (code >= 0x000d && code <= 0x001f) ||\n    (code >= 0x007f && code <= 0x009f) ||\n    (code >= 0xfdd0 && code <= 0xfdef) ||\n    (code & 0xffff) === 0xffff ||\n    (code & 0xffff) === 0xfffe\n  )\n}\n","import { findWrapping, ReplaceAroundStep, canSplit, liftTarget } from 'prosemirror-transform';\nimport { NodeRange, Fragment, Slice } from 'prosemirror-model';\n\nvar olDOM = [\"ol\", 0], ulDOM = [\"ul\", 0], liDOM = [\"li\", 0];\n\n// :: NodeSpec\n// An ordered list [node spec](#model.NodeSpec). Has a single\n// attribute, `order`, which determines the number at which the list\n// starts counting, and defaults to 1. Represented as an `<ol>`\n// element.\nvar orderedList = {\n  attrs: {order: {default: 1}},\n  parseDOM: [{tag: \"ol\", getAttrs: function getAttrs(dom) {\n    return {order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1}\n  }}],\n  toDOM: function toDOM(node) {\n    return node.attrs.order == 1 ? olDOM : [\"ol\", {start: node.attrs.order}, 0]\n  }\n};\n\n// :: NodeSpec\n// A bullet list node spec, represented in the DOM as `<ul>`.\nvar bulletList = {\n  parseDOM: [{tag: \"ul\"}],\n  toDOM: function toDOM() { return ulDOM }\n};\n\n// :: NodeSpec\n// A list item (`<li>`) spec.\nvar listItem = {\n  parseDOM: [{tag: \"li\"}],\n  toDOM: function toDOM() { return liDOM },\n  defining: true\n};\n\nfunction add(obj, props) {\n  var copy = {};\n  for (var prop in obj) { copy[prop] = obj[prop]; }\n  for (var prop$1 in props) { copy[prop$1] = props[prop$1]; }\n  return copy\n}\n\n// :: (OrderedMap<NodeSpec>, string, ?string) → OrderedMap<NodeSpec>\n// Convenience function for adding list-related node types to a map\n// specifying the nodes for a schema. Adds\n// [`orderedList`](#schema-list.orderedList) as `\"ordered_list\"`,\n// [`bulletList`](#schema-list.bulletList) as `\"bullet_list\"`, and\n// [`listItem`](#schema-list.listItem) as `\"list_item\"`.\n//\n// `itemContent` determines the content expression for the list items.\n// If you want the commands defined in this module to apply to your\n// list structure, it should have a shape like `\"paragraph block*\"` or\n// `\"paragraph (ordered_list | bullet_list)*\"`. `listGroup` can be\n// given to assign a group name to the list node types, for example\n// `\"block\"`.\nfunction addListNodes(nodes, itemContent, listGroup) {\n  return nodes.append({\n    ordered_list: add(orderedList, {content: \"list_item+\", group: listGroup}),\n    bullet_list: add(bulletList, {content: \"list_item+\", group: listGroup}),\n    list_item: add(listItem, {content: itemContent})\n  })\n}\n\n// :: (NodeType, ?Object) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Returns a command function that wraps the selection in a list with\n// the given type an attributes. If `dispatch` is null, only return a\n// value to indicate whether this is possible, but don't actually\n// perform the change.\nfunction wrapInList(listType, attrs) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var range = $from.blockRange($to), doJoin = false, outerRange = range;\n    if (!range) { return false }\n    // This is at the top of an existing list item\n    if (range.depth >= 2 && $from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {\n      // Don't do anything if this is the top of the list\n      if ($from.index(range.depth - 1) == 0) { return false }\n      var $insert = state.doc.resolve(range.start - 2);\n      outerRange = new NodeRange($insert, $insert, range.depth);\n      if (range.endIndex < range.parent.childCount)\n        { range = new NodeRange($from, state.doc.resolve($to.end(range.depth)), range.depth); }\n      doJoin = true;\n    }\n    var wrap = findWrapping(outerRange, listType, attrs, range);\n    if (!wrap) { return false }\n    if (dispatch) { dispatch(doWrapInList(state.tr, range, wrap, doJoin, listType).scrollIntoView()); }\n    return true\n  }\n}\n\nfunction doWrapInList(tr, range, wrappers, joinBefore, listType) {\n  var content = Fragment.empty;\n  for (var i = wrappers.length - 1; i >= 0; i--)\n    { content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content)); }\n\n  tr.step(new ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end,\n                                new Slice(content, 0, 0), wrappers.length, true));\n\n  var found = 0;\n  for (var i$1 = 0; i$1 < wrappers.length; i$1++) { if (wrappers[i$1].type == listType) { found = i$1 + 1; } }\n  var splitDepth = wrappers.length - found;\n\n  var splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0), parent = range.parent;\n  for (var i$2 = range.startIndex, e = range.endIndex, first = true; i$2 < e; i$2++, first = false) {\n    if (!first && canSplit(tr.doc, splitPos, splitDepth)) {\n      tr.split(splitPos, splitDepth);\n      splitPos += 2 * splitDepth;\n    }\n    splitPos += parent.child(i$2).nodeSize;\n  }\n  return tr\n}\n\n// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Build a command that splits a non-empty textblock at the top level\n// of a list item by also splitting that list item.\nfunction splitListItem(itemType) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var node = ref.node;\n    if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to)) { return false }\n    var grandParent = $from.node(-1);\n    if (grandParent.type != itemType) { return false }\n    if ($from.parent.content.size == 0 && $from.node(-1).childCount == $from.indexAfter(-1)) {\n      // In an empty block. If this is a nested list, the wrapping\n      // list item should be split. Otherwise, bail out and let next\n      // command handle lifting.\n      if ($from.depth == 2 || $from.node(-3).type != itemType ||\n          $from.index(-2) != $from.node(-2).childCount - 1) { return false }\n      if (dispatch) {\n        var wrap = Fragment.empty, keepItem = $from.index(-1) > 0;\n        // Build a fragment containing empty versions of the structure\n        // from the outer list item to the parent node of the cursor\n        for (var d = $from.depth - (keepItem ? 1 : 2); d >= $from.depth - 3; d--)\n          { wrap = Fragment.from($from.node(d).copy(wrap)); }\n        // Add a second list item with an empty default start node\n        wrap = wrap.append(Fragment.from(itemType.createAndFill()));\n        var tr$1 = state.tr.replace($from.before(keepItem ? null : -1), $from.after(-3), new Slice(wrap, keepItem ? 3 : 2, 2));\n        tr$1.setSelection(state.selection.constructor.near(tr$1.doc.resolve($from.pos + (keepItem ? 3 : 2))));\n        dispatch(tr$1.scrollIntoView());\n      }\n      return true\n    }\n    var nextType = $to.pos == $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n    var tr = state.tr.delete($from.pos, $to.pos);\n    var types = nextType && [null, {type: nextType}];\n    if (!canSplit(tr.doc, $from.pos, 2, types)) { return false }\n    if (dispatch) { dispatch(tr.split($from.pos, 2, types).scrollIntoView()); }\n    return true\n  }\n}\n\n// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Create a command to lift the list item around the selection up into\n// a wrapping list.\nfunction liftListItem(itemType) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var range = $from.blockRange($to, function (node) { return node.childCount && node.firstChild.type == itemType; });\n    if (!range) { return false }\n    if (!dispatch) { return true }\n    if ($from.node(range.depth - 1).type == itemType) // Inside a parent list\n      { return liftToOuterList(state, dispatch, itemType, range) }\n    else // Outer list node\n      { return liftOutOfList(state, dispatch, range) }\n  }\n}\n\nfunction liftToOuterList(state, dispatch, itemType, range) {\n  var tr = state.tr, end = range.end, endOfList = range.$to.end(range.depth);\n  if (end < endOfList) {\n    // There are siblings after the lifted items, which must become\n    // children of the last item\n    tr.step(new ReplaceAroundStep(end - 1, endOfList, end, endOfList,\n                                  new Slice(Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));\n    range = new NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);\n  }\n  dispatch(tr.lift(range, liftTarget(range)).scrollIntoView());\n  return true\n}\n\nfunction liftOutOfList(state, dispatch, range) {\n  var tr = state.tr, list = range.parent;\n  // Merge the list items into a single big item\n  for (var pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {\n    pos -= list.child(i).nodeSize;\n    tr.delete(pos - 1, pos + 1);\n  }\n  var $start = tr.doc.resolve(range.start), item = $start.nodeAfter;\n  var atStart = range.startIndex == 0, atEnd = range.endIndex == list.childCount;\n  var parent = $start.node(-1), indexBefore = $start.index(-1);\n  if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1,\n                         item.content.append(atEnd ? Fragment.empty : Fragment.from(list))))\n    { return false }\n  var start = $start.pos, end = start + item.nodeSize;\n  // Strip off the surrounding list. At the sides where we're not at\n  // the end of the list, the existing list is closed. At sides where\n  // this is the end, it is overwritten to its end.\n  tr.step(new ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1,\n                                new Slice((atStart ? Fragment.empty : Fragment.from(list.copy(Fragment.empty)))\n                                          .append(atEnd ? Fragment.empty : Fragment.from(list.copy(Fragment.empty))),\n                                          atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));\n  dispatch(tr.scrollIntoView());\n  return true\n}\n\n// :: (NodeType) → (state: EditorState, dispatch: ?(tr: Transaction)) → bool\n// Create a command to sink the list item around the selection down\n// into an inner list.\nfunction sinkListItem(itemType) {\n  return function(state, dispatch) {\n    var ref = state.selection;\n    var $from = ref.$from;\n    var $to = ref.$to;\n    var range = $from.blockRange($to, function (node) { return node.childCount && node.firstChild.type == itemType; });\n    if (!range) { return false }\n    var startIndex = range.startIndex;\n    if (startIndex == 0) { return false }\n    var parent = range.parent, nodeBefore = parent.child(startIndex - 1);\n    if (nodeBefore.type != itemType) { return false }\n\n    if (dispatch) {\n      var nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;\n      var inner = Fragment.from(nestedBefore ? itemType.create() : null);\n      var slice = new Slice(Fragment.from(itemType.create(null, Fragment.from(parent.type.create(null, inner)))),\n                            nestedBefore ? 3 : 1, 0);\n      var before = range.start, after = range.end;\n      dispatch(state.tr.step(new ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after,\n                                                   before, after, slice, 1, true))\n               .scrollIntoView());\n    }\n    return true\n  }\n}\n\nexport { addListNodes, bulletList, liftListItem, listItem, orderedList, sinkListItem, splitListItem, wrapInList };\n//# sourceMappingURL=index.es.js.map\n","'use strict'\n\nmodule.exports = clike\nclike.displayName = 'clike'\nclike.aliases = []\nfunction clike(Prism) {\n  Prism.languages.clike = {\n    comment: [\n      {\n        pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n        lookbehind: true,\n        greedy: true\n      },\n      {\n        pattern: /(^|[^\\\\:])\\/\\/.*/,\n        lookbehind: true,\n        greedy: true\n      }\n    ],\n    string: {\n      pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n      greedy: true\n    },\n    'class-name': {\n      pattern:\n        /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n      lookbehind: true,\n      inside: {\n        punctuation: /[.\\\\]/\n      }\n    },\n    keyword:\n      /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n    boolean: /\\b(?:true|false)\\b/,\n    function: /\\b\\w+(?=\\()/,\n    number: /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n    operator: /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n    punctuation: /[{}[\\];(),.:]/\n  }\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict'\n\nmodule.exports = normalize\n\nfunction normalize(value) {\n  return value.toLowerCase()\n}\n","'use strict'\n\nvar schema = require('property-information/html')\nvar factory = require('./factory')\n\nvar html = factory(schema, 'div')\nhtml.displayName = 'html'\n\nmodule.exports = html\n","'use strict'\n\nvar types = require('./util/types')\nvar create = require('./util/create')\n\nvar booleanish = types.booleanish\nvar number = types.number\nvar spaceSeparated = types.spaceSeparated\n\nmodule.exports = create({\n  transform: ariaTransform,\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n\nfunction ariaTransform(_, prop) {\n  return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n}\n","'use strict'\n\nmodule.exports = go\ngo.displayName = 'go'\ngo.aliases = []\nfunction go(Prism) {\n  Prism.languages.go = Prism.languages.extend('clike', {\n    string: {\n      pattern: /([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/,\n      greedy: true\n    },\n    keyword:\n      /\\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\\b/,\n    boolean: /\\b(?:_|iota|nil|true|false)\\b/,\n    number: /(?:\\b0x[a-f\\d]+|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[-+]?\\d+)?)i?/i,\n    operator:\n      /[*\\/%^!=]=?|\\+[=+]?|-[=-]?|\\|[=|]?|&(?:=|&|\\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\\.\\.\\./,\n    builtin:\n      /\\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\\b/\n  })\n  delete Prism.languages.go['class-name']\n}\n","// Process block-level custom containers\n//\n'use strict';\n\n\nmodule.exports = function container_plugin(md, name, options) {\n\n  // Second param may be useful if you decide\n  // to increase minimal allowed marker length\n  function validateDefault(params/*, markup*/) {\n    return params.trim().split(' ', 2)[0] === name;\n  }\n\n  function renderDefault(tokens, idx, _options, env, slf) {\n\n    // add a class to the opening tag\n    if (tokens[idx].nesting === 1) {\n      tokens[idx].attrJoin('class', name);\n    }\n\n    return slf.renderToken(tokens, idx, _options, env, slf);\n  }\n\n  options = options || {};\n\n  var min_markers = 3,\n      marker_str  = options.marker || ':',\n      marker_char = marker_str.charCodeAt(0),\n      marker_len  = marker_str.length,\n      validate    = options.validate || validateDefault,\n      render      = options.render || renderDefault;\n\n  function container(state, startLine, endLine, silent) {\n    var pos, nextLine, marker_count, markup, params, token,\n        old_parent, old_line_max,\n        auto_closed = false,\n        start = state.bMarks[startLine] + state.tShift[startLine],\n        max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    //\n    if (marker_char !== state.src.charCodeAt(start)) { return false; }\n\n    // Check out the rest of the marker string\n    //\n    for (pos = start + 1; pos <= max; pos++) {\n      if (marker_str[(pos - start) % marker_len] !== state.src[pos]) {\n        break;\n      }\n    }\n\n    marker_count = Math.floor((pos - start) / marker_len);\n    if (marker_count < min_markers) { return false; }\n    pos -= (pos - start) % marker_len;\n\n    markup = state.src.slice(start, pos);\n    params = state.src.slice(pos, max);\n    if (!validate(params, markup)) { return false; }\n\n    // Since start is found, we can report success here in validation mode\n    //\n    if (silent) { return true; }\n\n    // Search for the end of the block\n    //\n    nextLine = startLine;\n\n    for (;;) {\n      nextLine++;\n      if (nextLine >= endLine) {\n        // unclosed block should be autoclosed by end of document.\n        // also block seems to be autoclosed by end of parent\n        break;\n      }\n\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent) {\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n      }\n\n      if (marker_char !== state.src.charCodeAt(start)) { continue; }\n\n      if (state.sCount[nextLine] - state.blkIndent >= 4) {\n        // closing fence should be indented less than 4 spaces\n        continue;\n      }\n\n      for (pos = start + 1; pos <= max; pos++) {\n        if (marker_str[(pos - start) % marker_len] !== state.src[pos]) {\n          break;\n        }\n      }\n\n      // closing code fence must be at least as long as the opening one\n      if (Math.floor((pos - start) / marker_len) < marker_count) { continue; }\n\n      // make sure tail has spaces only\n      pos -= (pos - start) % marker_len;\n      pos = state.skipSpaces(pos);\n\n      if (pos < max) { continue; }\n\n      // found!\n      auto_closed = true;\n      break;\n    }\n\n    old_parent = state.parentType;\n    old_line_max = state.lineMax;\n    state.parentType = 'container';\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    token        = state.push('container_' + name + '_open', 'div', 1);\n    token.markup = markup;\n    token.block  = true;\n    token.info   = params;\n    token.map    = [ startLine, nextLine ];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    token        = state.push('container_' + name + '_close', 'div', -1);\n    token.markup = state.src.slice(start, pos);\n    token.block  = true;\n\n    state.parentType = old_parent;\n    state.lineMax = old_line_max;\n    state.line = nextLine + (auto_closed ? 1 : 0);\n\n    return true;\n  }\n\n  md.block.ruler.before('fence', 'container_' + name, container, {\n    alt: [ 'paragraph', 'reference', 'blockquote', 'list' ]\n  });\n  md.renderer.rules['container_' + name + '_open'] = render;\n  md.renderer.rules['container_' + name + '_close'] = render;\n};\n","'use strict'\n\nmodule.exports = Schema\n\nvar proto = Schema.prototype\n\nproto.space = null\nproto.normal = {}\nproto.property = {}\n\nfunction Schema(property, normal, space) {\n  this.property = property\n  this.normal = normal\n\n  if (space) {\n    this.space = space\n  }\n}\n","'use strict'\n\nvar create = require('./util/create')\nvar caseInsensitiveTransform = require('./util/case-insensitive-transform')\n\nmodule.exports = create({\n  space: 'xmlns',\n  attributes: {\n    xmlnsxlink: 'xmlns:xlink'\n  },\n  transform: caseInsensitiveTransform,\n  properties: {\n    xmlns: null,\n    xmlnsXLink: null\n  }\n})\n","'use strict'\n\nvar create = require('./util/create')\n\nmodule.exports = create({\n  space: 'xlink',\n  transform: xlinkTransform,\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n\nfunction xlinkTransform(_, prop) {\n  return 'xlink:' + prop.slice(5).toLowerCase()\n}\n","'use strict'\n\nvar create = require('./util/create')\n\nmodule.exports = create({\n  space: 'xml',\n  transform: xmlTransform,\n  properties: {\n    xmlLang: null,\n    xmlBase: null,\n    xmlSpace: null\n  }\n})\n\nfunction xmlTransform(_, prop) {\n  return 'xml:' + prop.slice(3).toLowerCase()\n}\n","'use strict'\n\nmodule.exports = hexadecimal\n\n// Check if the given character code, or the character code at the first\n// character, is hexadecimal.\nfunction hexadecimal(character) {\n  var code = typeof character === 'string' ? character.charCodeAt(0) : character\n\n  return (\n    (code >= 97 /* a */ && code <= 102) /* z */ ||\n    (code >= 65 /* A */ && code <= 70) /* Z */ ||\n    (code >= 48 /* A */ && code <= 57) /* Z */\n  )\n}\n","'use strict'\n\nmodule.exports = css\ncss.displayName = 'css'\ncss.aliases = []\nfunction css(Prism) {\n  ;(function (Prism) {\n    var string =\n      /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/\n    Prism.languages.css = {\n      comment: /\\/\\*[\\s\\S]*?\\*\\//,\n      atrule: {\n        pattern: /@[\\w-](?:[^;{\\s]|\\s+(?![\\s{]))*(?:;|(?=\\s*\\{))/,\n        inside: {\n          rule: /^@[\\w-]+/,\n          'selector-function-argument': {\n            pattern:\n              /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n            lookbehind: true,\n            alias: 'selector'\n          },\n          keyword: {\n            pattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n            lookbehind: true\n          } // See rest below\n        }\n      },\n      url: {\n        // https://drafts.csswg.org/css-values-3/#urls\n        pattern: RegExp(\n          '\\\\burl\\\\((?:' +\n            string.source +\n            '|' +\n            /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source +\n            ')\\\\)',\n          'i'\n        ),\n        greedy: true,\n        inside: {\n          function: /^url/i,\n          punctuation: /^\\(|\\)$/,\n          string: {\n            pattern: RegExp('^' + string.source + '$'),\n            alias: 'url'\n          }\n        }\n      },\n      selector: {\n        pattern: RegExp(\n          '(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' +\n            string.source +\n            ')*(?=\\\\s*\\\\{)'\n        ),\n        lookbehind: true\n      },\n      string: {\n        pattern: string,\n        greedy: true\n      },\n      property: {\n        pattern:\n          /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n        lookbehind: true\n      },\n      important: /!important\\b/i,\n      function: {\n        pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n        lookbehind: true\n      },\n      punctuation: /[(){};:,]/\n    }\n    Prism.languages.css['atrule'].inside.rest = Prism.languages.css\n    var markup = Prism.languages.markup\n    if (markup) {\n      markup.tag.addInlined('style', 'css')\n      markup.tag.addAttribute('style', 'css')\n    }\n  })(Prism)\n}\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    (safari || ie) && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\n// declare global: navigator\n\nvar mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n  if (result == \"Space\") { result = \" \"; }\n  var alt, ctrl, shift, meta;\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) { meta = true; }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n    else if (/^mod$/i.test(mod)) { if (mac) { meta = true; } else { ctrl = true; } }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { result = \"Alt-\" + result; }\n  if (ctrl) { result = \"Ctrl-\" + result; }\n  if (meta) { result = \"Meta-\" + result; }\n  if (shift) { result = \"Shift-\" + result; }\n  return result\n}\n\nfunction normalize(map) {\n  var copy = Object.create(null);\n  for (var prop in map) { copy[normalizeKeyName(prop)] = map[prop]; }\n  return copy\n}\n\nfunction modifiers(name, event, shift) {\n  if (event.altKey) { name = \"Alt-\" + name; }\n  if (event.ctrlKey) { name = \"Ctrl-\" + name; }\n  if (event.metaKey) { name = \"Meta-\" + name; }\n  if (shift !== false && event.shiftKey) { name = \"Shift-\" + name; }\n  return name\n}\n\n// :: (Object) → Plugin\n// Create a keymap plugin for the given set of bindings.\n//\n// Bindings should map key names to [command](#commands)-style\n// functions, which will be called with `(EditorState, dispatch,\n// EditorView)` arguments, and should return true when they've handled\n// the key. Note that the view argument isn't part of the command\n// protocol, but can be used as an escape hatch if a binding needs to\n// directly interact with the UI.\n//\n// Key names may be strings like `\"Shift-Ctrl-Enter\"`—a key\n// identifier prefixed with zero or more modifiers. Key identifiers\n// are based on the strings that can appear in\n// [`KeyEvent.key`](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\n// Use lowercase letters to refer to letter keys (or uppercase letters\n// if you want shift to be held). You may use `\"Space\"` as an alias\n// for the `\" \"` name.\n//\n// Modifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n// `a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n// `Meta-`) are recognized. For characters that are created by holding\n// shift, the `Shift-` prefix is implied, and should not be added\n// explicitly.\n//\n// You can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\n// other platforms.\n//\n// You can add multiple keymap plugins to an editor. The order in\n// which they appear determines their precedence (the ones early in\n// the array get to dispatch first).\nfunction keymap(bindings) {\n  return new Plugin({props: {handleKeyDown: keydownHandler(bindings)}})\n}\n\n// :: (Object) → (view: EditorView, event: dom.Event) → bool\n// Given a set of bindings (using the same format as\n// [`keymap`](#keymap.keymap)), return a [keydown\n// handler](#view.EditorProps.handleKeyDown) that handles them.\nfunction keydownHandler(bindings) {\n  var map = normalize(bindings);\n  return function(view, event) {\n    var name = keyName(event), isChar = name.length == 1 && name != \" \", baseName;\n    var direct = map[modifiers(name, event, !isChar)];\n    if (direct && direct(view.state, view.dispatch, view)) { return true }\n    if (isChar && (event.shiftKey || event.altKey || event.metaKey || name.charCodeAt(0) > 127) &&\n        (baseName = base[event.keyCode]) && baseName != name) {\n      // Try falling back to the keyCode when there's a modifier\n      // active or the character produced isn't ASCII, and our table\n      // produces a different name from the the keyCode. See #668,\n      // #1060\n      var fromCode = map[modifiers(baseName, event, true)];\n      if (fromCode && fromCode(view.state, view.dispatch, view)) { return true }\n    } else if (isChar && event.shiftKey) {\n      // Otherwise, if shift is active, also try the binding with the\n      // Shift- prefix enabled. See #997\n      var withShift = map[modifiers(name, event, true)];\n      if (withShift && withShift(view.state, view.dispatch, view)) { return true }\n    }\n    return false\n  }\n}\n\nexport { keydownHandler, keymap };\n//# sourceMappingURL=index.es.js.map\n","var GOOD_LEAF_SIZE = 200;\n\n// :: class<T> A rope sequence is a persistent sequence data structure\n// that supports appending, prepending, and slicing without doing a\n// full copy. It is represented as a mostly-balanced tree.\nvar RopeSequence = function RopeSequence () {};\n\nRopeSequence.prototype.append = function append (other) {\n  if (!other.length) { return this }\n  other = RopeSequence.from(other);\n\n  return (!this.length && other) ||\n    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||\n    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||\n    this.appendInner(other)\n};\n\n// :: (union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Prepend an array or other rope to this one, returning a new rope.\nRopeSequence.prototype.prepend = function prepend (other) {\n  if (!other.length) { return this }\n  return RopeSequence.from(other).append(this)\n};\n\nRopeSequence.prototype.appendInner = function appendInner (other) {\n  return new Append(this, other)\n};\n\n// :: (?number, ?number) → RopeSequence<T>\n// Create a rope repesenting a sub-sequence of this rope.\nRopeSequence.prototype.slice = function slice (from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from >= to) { return RopeSequence.empty }\n  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))\n};\n\n// :: (number) → T\n// Retrieve the element at the given position from this rope.\nRopeSequence.prototype.get = function get (i) {\n  if (i < 0 || i >= this.length) { return undefined }\n  return this.getInner(i)\n};\n\n// :: ((element: T, index: number) → ?bool, ?number, ?number)\n// Call the given function for each element between the given\n// indices. This tends to be more efficient than looping over the\n// indices and calling `get`, because it doesn't have to descend the\n// tree for every element.\nRopeSequence.prototype.forEach = function forEach (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from <= to)\n    { this.forEachInner(f, from, to, 0); }\n  else\n    { this.forEachInvertedInner(f, from, to, 0); }\n};\n\n// :: ((element: T, index: number) → U, ?number, ?number) → [U]\n// Map the given functions over the elements of the rope, producing\n// a flat array.\nRopeSequence.prototype.map = function map (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  var result = [];\n  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);\n  return result\n};\n\n// :: (?union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Create a rope representing the given array, or return the rope\n// itself if a rope was given.\nRopeSequence.from = function from (values) {\n  if (values instanceof RopeSequence) { return values }\n  return values && values.length ? new Leaf(values) : RopeSequence.empty\n};\n\nvar Leaf = /*@__PURE__*/(function (RopeSequence) {\n  function Leaf(values) {\n    RopeSequence.call(this);\n    this.values = values;\n  }\n\n  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;\n  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Leaf.prototype.constructor = Leaf;\n\n  var prototypeAccessors = { length: { configurable: true },depth: { configurable: true } };\n\n  Leaf.prototype.flatten = function flatten () {\n    return this.values\n  };\n\n  Leaf.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    return new Leaf(this.values.slice(from, to))\n  };\n\n  Leaf.prototype.getInner = function getInner (i) {\n    return this.values[i]\n  };\n\n  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    for (var i = from; i < to; i++)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    for (var i = from - 1; i >= to; i--)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.leafAppend = function leafAppend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(this.values.concat(other.flatten())) }\n  };\n\n  Leaf.prototype.leafPrepend = function leafPrepend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(other.flatten().concat(this.values)) }\n  };\n\n  prototypeAccessors.length.get = function () { return this.values.length };\n\n  prototypeAccessors.depth.get = function () { return 0 };\n\n  Object.defineProperties( Leaf.prototype, prototypeAccessors );\n\n  return Leaf;\n}(RopeSequence));\n\n// :: RopeSequence\n// The empty rope sequence.\nRopeSequence.empty = new Leaf([]);\n\nvar Append = /*@__PURE__*/(function (RopeSequence) {\n  function Append(left, right) {\n    RopeSequence.call(this);\n    this.left = left;\n    this.right = right;\n    this.length = left.length + right.length;\n    this.depth = Math.max(left.depth, right.depth) + 1;\n  }\n\n  if ( RopeSequence ) Append.__proto__ = RopeSequence;\n  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Append.prototype.constructor = Append;\n\n  Append.prototype.flatten = function flatten () {\n    return this.left.flatten().concat(this.right.flatten())\n  };\n\n  Append.prototype.getInner = function getInner (i) {\n    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)\n  };\n\n  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from < leftLen &&\n        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)\n      { return false }\n    if (to > leftLen &&\n        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)\n      { return false }\n  };\n\n  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from > leftLen &&\n        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)\n      { return false }\n    if (to < leftLen &&\n        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)\n      { return false }\n  };\n\n  Append.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    var leftLen = this.left.length;\n    if (to <= leftLen) { return this.left.slice(from, to) }\n    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }\n    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))\n  };\n\n  Append.prototype.leafAppend = function leafAppend (other) {\n    var inner = this.right.leafAppend(other);\n    if (inner) { return new Append(this.left, inner) }\n  };\n\n  Append.prototype.leafPrepend = function leafPrepend (other) {\n    var inner = this.left.leafPrepend(other);\n    if (inner) { return new Append(inner, this.right) }\n  };\n\n  Append.prototype.appendInner = function appendInner (other) {\n    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)\n      { return new Append(this.left, new Append(this.right, other)) }\n    return new Append(this, other)\n  };\n\n  return Append;\n}(RopeSequence));\n\nvar ropeSequence = RopeSequence;\n\nexport default ropeSequence;\n","import RopeSequence from 'rope-sequence';\nimport { Mapping } from 'prosemirror-transform';\nimport { PluginKey, Plugin } from 'prosemirror-state';\n\n// ProseMirror's history isn't simply a way to roll back to a previous\n// state, because ProseMirror supports applying changes without adding\n// them to the history (for example during collaboration).\n//\n// To this end, each 'Branch' (one for the undo history and one for\n// the redo history) keeps an array of 'Items', which can optionally\n// hold a step (an actual undoable change), and always hold a position\n// map (which is needed to move changes below them to apply to the\n// current document).\n//\n// An item that has both a step and a selection bookmark is the start\n// of an 'event' — a group of changes that will be undone or redone at\n// once. (It stores only the bookmark, since that way we don't have to\n// provide a document until the selection is actually applied, which\n// is useful when compressing.)\n\n// Used to schedule history compression\nvar max_empty_items = 500;\n\nvar Branch = function Branch(items, eventCount) {\n  this.items = items;\n  this.eventCount = eventCount;\n};\n\n// : (EditorState, bool) → ?{transform: Transform, selection: ?SelectionBookmark, remaining: Branch}\n// Pop the latest event off the branch's history and apply it\n// to a document transform.\nBranch.prototype.popEvent = function popEvent (state, preserveItems) {\n    var this$1 = this;\n\n  if (this.eventCount == 0) { return null }\n\n  var end = this.items.length;\n  for (;; end--) {\n    var next = this.items.get(end - 1);\n    if (next.selection) { --end; break }\n  }\n\n  var remap, mapFrom;\n  if (preserveItems) {\n    remap = this.remapping(end, this.items.length);\n    mapFrom = remap.maps.length;\n  }\n  var transform = state.tr;\n  var selection, remaining;\n  var addAfter = [], addBefore = [];\n\n  this.items.forEach(function (item, i) {\n    if (!item.step) {\n      if (!remap) {\n        remap = this$1.remapping(end, i + 1);\n        mapFrom = remap.maps.length;\n      }\n      mapFrom--;\n      addBefore.push(item);\n      return\n    }\n\n    if (remap) {\n      addBefore.push(new Item(item.map));\n      var step = item.step.map(remap.slice(mapFrom)), map;\n\n      if (step && transform.maybeStep(step).doc) {\n        map = transform.mapping.maps[transform.mapping.maps.length - 1];\n        addAfter.push(new Item(map, null, null, addAfter.length + addBefore.length));\n      }\n      mapFrom--;\n      if (map) { remap.appendMap(map, mapFrom); }\n    } else {\n      transform.maybeStep(item.step);\n    }\n\n    if (item.selection) {\n      selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;\n      remaining = new Branch(this$1.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this$1.eventCount - 1);\n      return false\n    }\n  }, this.items.length, 0);\n\n  return {remaining: remaining, transform: transform, selection: selection}\n};\n\n// : (Transform, ?SelectionBookmark, Object) → Branch\n// Create a new branch with the given transform added.\nBranch.prototype.addTransform = function addTransform (transform, selection, histOptions, preserveItems) {\n  var newItems = [], eventCount = this.eventCount;\n  var oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;\n\n  for (var i = 0; i < transform.steps.length; i++) {\n    var step = transform.steps[i].invert(transform.docs[i]);\n    var item = new Item(transform.mapping.maps[i], step, selection), merged = (void 0);\n    if (merged = lastItem && lastItem.merge(item)) {\n      item = merged;\n      if (i) { newItems.pop(); }\n      else { oldItems = oldItems.slice(0, oldItems.length - 1); }\n    }\n    newItems.push(item);\n    if (selection) {\n      eventCount++;\n      selection = null;\n    }\n    if (!preserveItems) { lastItem = item; }\n  }\n  var overflow = eventCount - histOptions.depth;\n  if (overflow > DEPTH_OVERFLOW) {\n    oldItems = cutOffEvents(oldItems, overflow);\n    eventCount -= overflow;\n  }\n  return new Branch(oldItems.append(newItems), eventCount)\n};\n\nBranch.prototype.remapping = function remapping (from, to) {\n  var maps = new Mapping;\n  this.items.forEach(function (item, i) {\n    var mirrorPos = item.mirrorOffset != null && i - item.mirrorOffset >= from\n        ? maps.maps.length - item.mirrorOffset : null;\n    maps.appendMap(item.map, mirrorPos);\n  }, from, to);\n  return maps\n};\n\nBranch.prototype.addMaps = function addMaps (array) {\n  if (this.eventCount == 0) { return this }\n  return new Branch(this.items.append(array.map(function (map) { return new Item(map); })), this.eventCount)\n};\n\n// : (Transform, number)\n// When the collab module receives remote changes, the history has\n// to know about those, so that it can adjust the steps that were\n// rebased on top of the remote changes, and include the position\n// maps for the remote changes in its array of items.\nBranch.prototype.rebased = function rebased (rebasedTransform, rebasedCount) {\n  if (!this.eventCount) { return this }\n\n  var rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);\n\n  var mapping = rebasedTransform.mapping;\n  var newUntil = rebasedTransform.steps.length;\n  var eventCount = this.eventCount;\n  this.items.forEach(function (item) { if (item.selection) { eventCount--; } }, start);\n\n  var iRebased = rebasedCount;\n  this.items.forEach(function (item) {\n    var pos = mapping.getMirror(--iRebased);\n    if (pos == null) { return }\n    newUntil = Math.min(newUntil, pos);\n    var map = mapping.maps[pos];\n    if (item.step) {\n      var step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);\n      var selection = item.selection && item.selection.map(mapping.slice(iRebased + 1, pos));\n      if (selection) { eventCount++; }\n      rebasedItems.push(new Item(map, step, selection));\n    } else {\n      rebasedItems.push(new Item(map));\n    }\n  }, start);\n\n  var newMaps = [];\n  for (var i = rebasedCount; i < newUntil; i++)\n    { newMaps.push(new Item(mapping.maps[i])); }\n  var items = this.items.slice(0, start).append(newMaps).append(rebasedItems);\n  var branch = new Branch(items, eventCount);\n\n  if (branch.emptyItemCount() > max_empty_items)\n    { branch = branch.compress(this.items.length - rebasedItems.length); }\n  return branch\n};\n\nBranch.prototype.emptyItemCount = function emptyItemCount () {\n  var count = 0;\n  this.items.forEach(function (item) { if (!item.step) { count++; } });\n  return count\n};\n\n// Compressing a branch means rewriting it to push the air (map-only\n// items) out. During collaboration, these naturally accumulate\n// because each remote change adds one. The `upto` argument is used\n// to ensure that only the items below a given level are compressed,\n// because `rebased` relies on a clean, untouched set of items in\n// order to associate old items with rebased steps.\nBranch.prototype.compress = function compress (upto) {\n    if ( upto === void 0 ) upto = this.items.length;\n\n  var remap = this.remapping(0, upto), mapFrom = remap.maps.length;\n  var items = [], events = 0;\n  this.items.forEach(function (item, i) {\n    if (i >= upto) {\n      items.push(item);\n      if (item.selection) { events++; }\n    } else if (item.step) {\n      var step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();\n      mapFrom--;\n      if (map) { remap.appendMap(map, mapFrom); }\n      if (step) {\n        var selection = item.selection && item.selection.map(remap.slice(mapFrom));\n        if (selection) { events++; }\n        var newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;\n        if (merged = items.length && items[last].merge(newItem))\n          { items[last] = merged; }\n        else\n          { items.push(newItem); }\n      }\n    } else if (item.map) {\n      mapFrom--;\n    }\n  }, this.items.length, 0);\n  return new Branch(RopeSequence.from(items.reverse()), events)\n};\n\nBranch.empty = new Branch(RopeSequence.empty, 0);\n\nfunction cutOffEvents(items, n) {\n  var cutPoint;\n  items.forEach(function (item, i) {\n    if (item.selection && (n-- == 0)) {\n      cutPoint = i;\n      return false\n    }\n  });\n  return items.slice(cutPoint)\n}\n\nvar Item = function Item(map, step, selection, mirrorOffset) {\n  // The (forward) step map for this item.\n  this.map = map;\n  // The inverted step\n  this.step = step;\n  // If this is non-null, this item is the start of a group, and\n  // this selection is the starting selection for the group (the one\n  // that was active before the first step was applied)\n  this.selection = selection;\n  // If this item is the inverse of a previous mapping on the stack,\n  // this points at the inverse's offset\n  this.mirrorOffset = mirrorOffset;\n};\n\nItem.prototype.merge = function merge (other) {\n  if (this.step && other.step && !other.selection) {\n    var step = other.step.merge(this.step);\n    if (step) { return new Item(step.getMap().invert(), step, this.selection) }\n  }\n};\n\n// The value of the state field that tracks undo/redo history for that\n// state. Will be stored in the plugin state when the history plugin\n// is active.\nvar HistoryState = function HistoryState(done, undone, prevRanges, prevTime) {\n  this.done = done;\n  this.undone = undone;\n  this.prevRanges = prevRanges;\n  this.prevTime = prevTime;\n};\n\nvar DEPTH_OVERFLOW = 20;\n\n// : (HistoryState, EditorState, Transaction, Object)\n// Record a transformation in undo history.\nfunction applyTransaction(history, state, tr, options) {\n  var historyTr = tr.getMeta(historyKey), rebased;\n  if (historyTr) { return historyTr.historyState }\n\n  if (tr.getMeta(closeHistoryKey)) { history = new HistoryState(history.done, history.undone, null, 0); }\n\n  var appended = tr.getMeta(\"appendedTransaction\");\n\n  if (tr.steps.length == 0) {\n    return history\n  } else if (appended && appended.getMeta(historyKey)) {\n    if (appended.getMeta(historyKey).redo)\n      { return new HistoryState(history.done.addTransform(tr, null, options, mustPreserveItems(state)),\n                              history.undone, rangesFor(tr.mapping.maps[tr.steps.length - 1]), history.prevTime) }\n    else\n      { return new HistoryState(history.done, history.undone.addTransform(tr, null, options, mustPreserveItems(state)),\n                              null, history.prevTime) }\n  } else if (tr.getMeta(\"addToHistory\") !== false && !(appended && appended.getMeta(\"addToHistory\") === false)) {\n    // Group transforms that occur in quick succession into one event.\n    var newGroup = history.prevTime == 0 || !appended && (history.prevTime < (tr.time || 0) - options.newGroupDelay ||\n                                                          !isAdjacentTo(tr, history.prevRanges));\n    var prevRanges = appended ? mapRanges(history.prevRanges, tr.mapping) : rangesFor(tr.mapping.maps[tr.steps.length - 1]);\n    return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : null,\n                                                      options, mustPreserveItems(state)),\n                            Branch.empty, prevRanges, tr.time)\n  } else if (rebased = tr.getMeta(\"rebased\")) {\n    // Used by the collab module to tell the history that some of its\n    // content has been rebased.\n    return new HistoryState(history.done.rebased(tr, rebased),\n                            history.undone.rebased(tr, rebased),\n                            mapRanges(history.prevRanges, tr.mapping), history.prevTime)\n  } else {\n    return new HistoryState(history.done.addMaps(tr.mapping.maps),\n                            history.undone.addMaps(tr.mapping.maps),\n                            mapRanges(history.prevRanges, tr.mapping), history.prevTime)\n  }\n}\n\nfunction isAdjacentTo(transform, prevRanges) {\n  if (!prevRanges) { return false }\n  if (!transform.docChanged) { return true }\n  var adjacent = false;\n  transform.mapping.maps[0].forEach(function (start, end) {\n    for (var i = 0; i < prevRanges.length; i += 2)\n      { if (start <= prevRanges[i + 1] && end >= prevRanges[i])\n        { adjacent = true; } }\n  });\n  return adjacent\n}\n\nfunction rangesFor(map) {\n  var result = [];\n  map.forEach(function (_from, _to, from, to) { return result.push(from, to); });\n  return result\n}\n\nfunction mapRanges(ranges, mapping) {\n  if (!ranges) { return null }\n  var result = [];\n  for (var i = 0; i < ranges.length; i += 2) {\n    var from = mapping.map(ranges[i], 1), to = mapping.map(ranges[i + 1], -1);\n    if (from <= to) { result.push(from, to); }\n  }\n  return result\n}\n\n// : (HistoryState, EditorState, (tr: Transaction), bool)\n// Apply the latest event from one branch to the document and shift the event\n// onto the other branch.\nfunction histTransaction(history, state, dispatch, redo) {\n  var preserveItems = mustPreserveItems(state), histOptions = historyKey.get(state).spec.config;\n  var pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);\n  if (!pop) { return }\n\n  var selection = pop.selection.resolve(pop.transform.doc);\n  var added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(),\n                                                                  histOptions, preserveItems);\n\n  var newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0);\n  dispatch(pop.transform.setSelection(selection).setMeta(historyKey, {redo: redo, historyState: newHist}).scrollIntoView());\n}\n\nvar cachedPreserveItems = false, cachedPreserveItemsPlugins = null;\n// Check whether any plugin in the given state has a\n// `historyPreserveItems` property in its spec, in which case we must\n// preserve steps exactly as they came in, so that they can be\n// rebased.\nfunction mustPreserveItems(state) {\n  var plugins = state.plugins;\n  if (cachedPreserveItemsPlugins != plugins) {\n    cachedPreserveItems = false;\n    cachedPreserveItemsPlugins = plugins;\n    for (var i = 0; i < plugins.length; i++) { if (plugins[i].spec.historyPreserveItems) {\n      cachedPreserveItems = true;\n      break\n    } }\n  }\n  return cachedPreserveItems\n}\n\n// :: (Transaction) → Transaction\n// Set a flag on the given transaction that will prevent further steps\n// from being appended to an existing history event (so that they\n// require a separate undo command to undo).\nfunction closeHistory(tr) {\n  return tr.setMeta(closeHistoryKey, true)\n}\n\nvar historyKey = new PluginKey(\"history\");\nvar closeHistoryKey = new PluginKey(\"closeHistory\");\n\n// :: (?Object) → Plugin\n// Returns a plugin that enables the undo history for an editor. The\n// plugin will track undo and redo stacks, which can be used with the\n// [`undo`](#history.undo) and [`redo`](#history.redo) commands.\n//\n// You can set an `\"addToHistory\"` [metadata\n// property](#state.Transaction.setMeta) of `false` on a transaction\n// to prevent it from being rolled back by undo.\n//\n//   config::-\n//   Supports the following configuration options:\n//\n//     depth:: ?number\n//     The amount of history events that are collected before the\n//     oldest events are discarded. Defaults to 100.\n//\n//     newGroupDelay:: ?number\n//     The delay between changes after which a new group should be\n//     started. Defaults to 500 (milliseconds). Note that when changes\n//     aren't adjacent, a new group is always started.\nfunction history(config) {\n  config = {depth: config && config.depth || 100,\n            newGroupDelay: config && config.newGroupDelay || 500};\n  return new Plugin({\n    key: historyKey,\n\n    state: {\n      init: function init() {\n        return new HistoryState(Branch.empty, Branch.empty, null, 0)\n      },\n      apply: function apply(tr, hist, state) {\n        return applyTransaction(hist, state, tr, config)\n      }\n    },\n\n    config: config,\n\n    props: {\n      handleDOMEvents: {\n        beforeinput: function beforeinput(view, e) {\n          var handled = e.inputType == \"historyUndo\" ? undo(view.state, view.dispatch) :\n              e.inputType == \"historyRedo\" ? redo(view.state, view.dispatch) : false;\n          if (handled) { e.preventDefault(); }\n          return handled\n        }\n      }\n    }\n  })\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// A command function that undoes the last change, if any.\nfunction undo(state, dispatch) {\n  var hist = historyKey.getState(state);\n  if (!hist || hist.done.eventCount == 0) { return false }\n  if (dispatch) { histTransaction(hist, state, dispatch, false); }\n  return true\n}\n\n// :: (EditorState, ?(tr: Transaction)) → bool\n// A command function that redoes the last undone change, if any.\nfunction redo(state, dispatch) {\n  var hist = historyKey.getState(state);\n  if (!hist || hist.undone.eventCount == 0) { return false }\n  if (dispatch) { histTransaction(hist, state, dispatch, true); }\n  return true\n}\n\n// :: (EditorState) → number\n// The amount of undoable events available in a given state.\nfunction undoDepth(state) {\n  var hist = historyKey.getState(state);\n  return hist ? hist.done.eventCount : 0\n}\n\n// :: (EditorState) → number\n// The amount of redoable events available in a given editor state.\nfunction redoDepth(state) {\n  var hist = historyKey.getState(state);\n  return hist ? hist.undone.eventCount : 0\n}\n\nexport { HistoryState, closeHistory, history, redo, redoDepth, undo, undoDepth };\n//# sourceMappingURL=index.es.js.map\n","/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\tif (element) {\n\t\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar prosemirrorState = require('prosemirror-state');\nvar prosemirrorModel = require('prosemirror-model');\nvar prosemirrorTables = require('prosemirror-tables');\n\n// :: (nodeType: union<NodeType, [NodeType]>) → (tr: Transaction) → Transaction\n// Returns a new transaction that removes a node of a given `nodeType`. It will return an original transaction if parent node hasn't been found.\n//\n// ```javascript\n// dispatch(\n//   removeParentNodeOfType(schema.nodes.table)(tr)\n// );\n// ```\nvar removeParentNodeOfType = function removeParentNodeOfType(nodeType) {\n  return function (tr) {\n    var parent = findParentNodeOfType(nodeType)(tr.selection);\n    if (parent) {\n      return removeNodeAtPos(parent.pos)(tr);\n    }\n    return tr;\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>, content: union<ProseMirrorNode, Fragment>) → (tr: Transaction) → Transaction\n// Returns a new transaction that replaces parent node of a given `nodeType` with the given `content`. It will return an original transaction if either parent node hasn't been found or replacing is not possible.\n//\n// ```javascript\n// const node = schema.nodes.paragraph.createChecked({}, schema.text('new'));\n//\n// dispatch(\n//  replaceParentNodeOfType(schema.nodes.table, node)(tr)\n// );\n// ```\nvar replaceParentNodeOfType = function replaceParentNodeOfType(nodeType, content) {\n  return function (tr) {\n    if (!Array.isArray(nodeType)) {\n      nodeType = [nodeType];\n    }\n    for (var i = 0, count = nodeType.length; i < count; i++) {\n      var parent = findParentNodeOfType(nodeType[i])(tr.selection);\n      if (parent) {\n        var newTr = replaceNodeAtPos(parent.pos, content)(tr);\n        if (newTr !== tr) {\n          return newTr;\n        }\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (tr: Transaction) → Transaction\n// Returns a new transaction that removes selected node. It will return an original transaction if current selection is not a `NodeSelection`.\n//\n// ```javascript\n// dispatch(\n//   removeSelectedNode(tr)\n// );\n// ```\nvar removeSelectedNode = function removeSelectedNode(tr) {\n  if (isNodeSelection(tr.selection)) {\n    var from = tr.selection.$from.pos;\n    var to = tr.selection.$to.pos;\n    return cloneTr(tr.delete(from, to));\n  }\n  return tr;\n};\n\n// :: (content: union<ProseMirrorNode, ProseMirrorFragment>) → (tr: Transaction) → Transaction\n// Returns a new transaction that replaces selected node with a given `node`, keeping NodeSelection on the new `node`.\n// It will return the original transaction if either current selection is not a NodeSelection or replacing is not possible.\n//\n// ```javascript\n// const node = schema.nodes.paragraph.createChecked({}, schema.text('new'));\n// dispatch(\n//   replaceSelectedNode(node)(tr)\n// );\n// ```\nvar replaceSelectedNode = function replaceSelectedNode(content) {\n  return function (tr) {\n    if (isNodeSelection(tr.selection)) {\n      var _tr$selection = tr.selection,\n          $from = _tr$selection.$from,\n          $to = _tr$selection.$to;\n\n      if (content instanceof prosemirrorModel.Fragment && $from.parent.canReplace($from.index(), $from.indexAfter(), content) || $from.parent.canReplaceWith($from.index(), $from.indexAfter(), content.type)) {\n        return cloneTr(tr.replaceWith($from.pos, $to.pos, content)\n        // restore node selection\n        .setSelection(new prosemirrorState.NodeSelection(tr.doc.resolve($from.pos))));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (position: number, dir: ?number) → (tr: Transaction) → Transaction\n// Returns a new transaction that tries to find a valid cursor selection starting at the given `position`\n// and searching back if `dir` is negative, and forward if positive.\n// If a valid cursor position hasn't been found, it will return the original transaction.\n//\n// ```javascript\n// dispatch(\n//   setTextSelection(5)(tr)\n// );\n// ```\nvar setTextSelection = function setTextSelection(position) {\n  var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return function (tr) {\n    var nextSelection = prosemirrorState.Selection.findFrom(tr.doc.resolve(position), dir, true);\n    if (nextSelection) {\n      return tr.setSelection(nextSelection);\n    }\n    return tr;\n  };\n};\n\nvar isSelectableNode = function isSelectableNode(node) {\n  return node.type && node.type.spec.selectable;\n};\nvar shouldSelectNode = function shouldSelectNode(node) {\n  return isSelectableNode(node) && node.type.isLeaf;\n};\n\nvar setSelection = function setSelection(node, pos, tr) {\n  if (shouldSelectNode(node)) {\n    return tr.setSelection(new prosemirrorState.NodeSelection(tr.doc.resolve(pos)));\n  }\n  return setTextSelection(pos)(tr);\n};\n\n// :: (content: union<ProseMirrorNode, Fragment>, position: ?number, tryToReplace?: boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that inserts a given `content` at the current cursor position, or at a given `position`, if it is allowed by schema. If schema restricts such nesting, it will try to find an appropriate place for a given node in the document, looping through parent nodes up until the root document node.\n// If `tryToReplace` is true and current selection is a NodeSelection, it will replace selected node with inserted content if its allowed by schema.\n// If cursor is inside of an empty paragraph, it will try to replace that paragraph with the given content. If insertion is successful and inserted node has content, it will set cursor inside of that content.\n// It will return an original transaction if the place for insertion hasn't been found.\n//\n// ```javascript\n// const node = schema.nodes.extension.createChecked({});\n// dispatch(\n//   safeInsert(node)(tr)\n// );\n// ```\nvar safeInsert = function safeInsert(content, position, tryToReplace) {\n  return function (tr) {\n    var hasPosition = typeof position === 'number';\n    var $from = tr.selection.$from;\n\n    var $insertPos = hasPosition ? tr.doc.resolve(position) : isNodeSelection(tr.selection) ? tr.doc.resolve($from.pos + 1) : $from;\n    var parent = $insertPos.parent;\n\n    // try to replace selected node\n\n    if (isNodeSelection(tr.selection) && tryToReplace) {\n      var oldTr = tr;\n      tr = replaceSelectedNode(content)(tr);\n      if (oldTr !== tr) {\n        return tr;\n      }\n    }\n\n    // try to replace an empty paragraph\n    if (isEmptyParagraph(parent)) {\n      var _oldTr = tr;\n      tr = replaceParentNodeOfType(parent.type, content)(tr);\n      if (_oldTr !== tr) {\n        var pos = isSelectableNode(content) ? // for selectable node, selection position would be the position of the replaced parent\n        $insertPos.before($insertPos.depth) : $insertPos.pos;\n        return setSelection(content, pos, tr);\n      }\n    }\n\n    // given node is allowed at the current cursor position\n    if (canInsert($insertPos, content)) {\n      tr.insert($insertPos.pos, content);\n      var _pos = hasPosition ? $insertPos.pos : isSelectableNode(content) ? // for atom nodes selection position after insertion is the previous pos\n      tr.selection.$anchor.pos - 1 : tr.selection.$anchor.pos;\n      return cloneTr(setSelection(content, _pos, tr));\n    }\n\n    // looking for a place in the doc where the node is allowed\n    for (var i = $insertPos.depth; i > 0; i--) {\n      var _pos2 = $insertPos.after(i);\n      var $pos = tr.doc.resolve(_pos2);\n      if (canInsert($pos, content)) {\n        tr.insert(_pos2, content);\n        return cloneTr(setSelection(content, _pos2, tr));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>, type: ?union<NodeType, null>, attrs: ?union<Object, null>, marks?: [Mark]) → (tr: Transaction) → Transaction\n// Returns a transaction that changes the type, attributes, and/or marks of the parent node of a given `nodeType`.\n//\n// ```javascript\n// const node = schema.nodes.extension.createChecked({});\n// dispatch(\n//   setParentNodeMarkup(schema.nodes.panel, null, { panelType })(tr);\n// );\n// ```\nvar setParentNodeMarkup = function setParentNodeMarkup(nodeType, type, attrs, marks) {\n  return function (tr) {\n    var parent = findParentNodeOfType(nodeType)(tr.selection);\n    if (parent) {\n      return cloneTr(tr.setNodeMarkup(parent.pos, type, Object.assign({}, parent.node.attrs, attrs), marks));\n    }\n    return tr;\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>) → (tr: Transaction) → Transaction\n// Returns a new transaction that sets a `NodeSelection` on a parent node of a `given nodeType`.\n//\n// ```javascript\n// dispatch(\n//   selectParentNodeOfType([tableCell, tableHeader])(state.tr)\n// );\n// ```\nvar selectParentNodeOfType = function selectParentNodeOfType(nodeType) {\n  return function (tr) {\n    if (!isNodeSelection(tr.selection)) {\n      var parent = findParentNodeOfType(nodeType)(tr.selection);\n      if (parent) {\n        return cloneTr(tr.setSelection(prosemirrorState.NodeSelection.create(tr.doc, parent.pos)));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (tr: Transaction) → Transaction\n// Returns a new transaction that deletes previous node.\n//\n// ```javascript\n// dispatch(\n//   removeNodeBefore(state.tr)\n// );\n// ```\nvar removeNodeBefore = function removeNodeBefore(tr) {\n  var position = findPositionOfNodeBefore(tr.selection);\n  if (typeof position === 'number') {\n    return removeNodeAtPos(position)(tr);\n  }\n  return tr;\n};\n\n// :: (selection: Selection) → boolean\n// Checks if current selection is a `NodeSelection`.\n//\n// ```javascript\n// if (isNodeSelection(tr.selection)) {\n//   // ...\n// }\n// ```\nvar isNodeSelection = function isNodeSelection(selection) {\n  return selection instanceof prosemirrorState.NodeSelection;\n};\n\n// (nodeType: union<NodeType, [NodeType]>) → boolean\n// Checks if the type a given `node` equals to a given `nodeType`.\nvar equalNodeType = function equalNodeType(nodeType, node) {\n  return Array.isArray(nodeType) && nodeType.indexOf(node.type) > -1 || node.type === nodeType;\n};\n\n// (tr: Transaction) → Transaction\n// Creates a new transaction object from a given transaction\nvar cloneTr = function cloneTr(tr) {\n  return Object.assign(Object.create(tr), tr).setTime(Date.now());\n};\n\n// (position: number, content: union<ProseMirrorNode, Fragment>) → (tr: Transaction) → Transaction\n// Returns a `replace` transaction that replaces a node at a given position with the given `content`.\n// It will return the original transaction if replacing is not possible.\n// `position` should point at the position immediately before the node.\nvar replaceNodeAtPos = function replaceNodeAtPos(position, content) {\n  return function (tr) {\n    var node = tr.doc.nodeAt(position);\n    var $pos = tr.doc.resolve(position);\n    if (canReplace($pos, content)) {\n      tr = tr.replaceWith(position, position + node.nodeSize, content);\n      var start = tr.selection.$from.pos - 1;\n      // put cursor inside of the inserted node\n      tr = setTextSelection(Math.max(start, 0), -1)(tr);\n      // move cursor to the start of the node\n      tr = setTextSelection(tr.selection.$from.start())(tr);\n      return cloneTr(tr);\n    }\n    return tr;\n  };\n};\n\n// ($pos: ResolvedPos, doc: ProseMirrorNode, content: union<ProseMirrorNode, Fragment>, ) → boolean\n// Checks if replacing a node at a given `$pos` inside of the `doc` node with the given `content` is possible.\nvar canReplace = function canReplace($pos, content) {\n  var node = $pos.node($pos.depth);\n  return node && node.type.validContent(content instanceof prosemirrorModel.Fragment ? content : prosemirrorModel.Fragment.from(content));\n};\n\n// (position: number) → (tr: Transaction) → Transaction\n// Returns a `delete` transaction that removes a node at a given position with the given `node`.\n// `position` should point at the position immediately before the node.\nvar removeNodeAtPos = function removeNodeAtPos(position) {\n  return function (tr) {\n    var node = tr.doc.nodeAt(position);\n    return cloneTr(tr.delete(position, position + node.nodeSize));\n  };\n};\n\n// (schema: Schema) → {[key: string]: NodeType}\n// Returns a map where keys are tableRoles and values are NodeTypes.\nvar tableNodeTypes = function tableNodeTypes(schema) {\n  if (schema.cached.tableNodeTypes) {\n    return schema.cached.tableNodeTypes;\n  }\n  var roles = {};\n  Object.keys(schema.nodes).forEach(function (type) {\n    var nodeType = schema.nodes[type];\n    if (nodeType.spec.tableRole) {\n      roles[nodeType.spec.tableRole] = nodeType;\n    }\n  });\n  schema.cached.tableNodeTypes = roles;\n  return roles;\n};\n\n// :: ($pos: ResolvedPos, content: union<ProseMirrorNode, Fragment>) → boolean\n// Checks if a given `content` can be inserted at the given `$pos`\n//\n// ```javascript\n// const { selection: { $from } } = state;\n// const node = state.schema.nodes.atom.createChecked();\n// if (canInsert($from, node)) {\n//   // ...\n// }\n// ```\nvar canInsert = function canInsert($pos, content) {\n  var index = $pos.index();\n\n  if (content instanceof prosemirrorModel.Fragment) {\n    return $pos.parent.canReplace(index, index, content);\n  } else if (content instanceof prosemirrorModel.Node) {\n    return $pos.parent.canReplaceWith(index, index, content.type);\n  }\n  return false;\n};\n\n// (node: ProseMirrorNode) → boolean\n// Checks if a given `node` is an empty paragraph\nvar isEmptyParagraph = function isEmptyParagraph(node) {\n  return !node || node.type.name === 'paragraph' && node.nodeSize === 2;\n};\n\n// ($pos: ResolvedPos) → ?{pos: number, start: number, node: ProseMirrorNode}\n// Iterates over parent nodes, returning a table node closest to a given `$pos`.\n//\n// ```javascript\n// const table = findTableClosestToPos(state.doc.resolve(10));\n// ```\nvar findTableClosestToPos = function findTableClosestToPos($pos) {\n  var predicate = function predicate(node) {\n    return node.type.spec.tableRole && /table/i.test(node.type.spec.tableRole);\n  };\n  return findParentNodeClosestToPos($pos, predicate);\n};\n\nvar createCell = function createCell(cellType) {\n  var cellContent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (cellContent) {\n    return cellType.createChecked(null, cellContent);\n  }\n\n  return cellType.createAndFill();\n};\n\n// (rect: {left: number, right: number, top: number, bottom: number}) → (selection: Selection) → boolean\n// Checks if a given CellSelection rect is selected\nvar isRectSelected = function isRectSelected(rect) {\n  return function (selection) {\n    var map = prosemirrorTables.TableMap.get(selection.$anchorCell.node(-1));\n    var start = selection.$anchorCell.start(-1);\n    var cells = map.cellsInRect(rect);\n    var selectedCells = map.cellsInRect(map.rectBetween(selection.$anchorCell.pos - start, selection.$headCell.pos - start));\n\n    for (var i = 0, count = cells.length; i < count; i++) {\n      if (selectedCells.indexOf(cells[i]) === -1) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n};\n\n// This function transposes an array of array flipping the columns for rows,\n// transposition is a familiar algebra concept;\n// you can get more details here:\n// https://en.wikipedia.org/wiki/Transpose\n//\n// ```javascript\n//\n//  const arr = [\n//    ['a1', 'a2', 'a3'],\n//    ['b1', 'b2', 'b3'],\n//    ['c1', 'c2', 'c3'],\n//    ['d1', 'd2', 'd3'],\n//  ];\n//\n//  const result = transpose(arr);\n//\n//  result === [\n//    ['a1', 'b1', 'c1', 'd1'],\n//    ['a2', 'b2', 'c2', 'd2'],\n//    ['a3', 'b3', 'c3', 'd3'],\n//  ]\n// ```\nvar transpose = function transpose(array) {\n  return array[0].map(function (_, i) {\n    return array.map(function (column) {\n      return column[i];\n    });\n  });\n};\n\n// :: (tableNode: Node) -> Array<Node>\n// This function will transform the table node\n// into a matrix of rows and columns respecting merged cells,\n// for example this table will be convert to the below:\n//\n// ```\n//  ____________________________\n// |      |      |             |\n// |  A1  |  B1  |     C1      |\n// |______|______|______ ______|\n// |      |             |      |\n// |  A2  |     B2      |      |\n// |______|______ ______|      |\n// |      |      |      |  D1  |\n// |  A3  |  B3  |  C2  |      |\n// |______|______|______|______|\n// ```\n//\n//\n// ```javascript\n// array = [\n//   [A1, B1, C1, null],\n//   [A2, B2, null, D1],\n//   [A3. B3, C2, null],\n// ]\n// ```\nvar convertTableNodeToArrayOfRows = function convertTableNodeToArrayOfRows(tableNode) {\n  var map = prosemirrorTables.TableMap.get(tableNode);\n  var rows = [];\n  for (var rowIndex = 0; rowIndex < map.height; rowIndex++) {\n    var rowCells = [];\n    var seen = {};\n\n    for (var colIndex = 0; colIndex < map.width; colIndex++) {\n      var cellPos = map.map[rowIndex * map.width + colIndex];\n      var cell = tableNode.nodeAt(cellPos);\n      var rect = map.findCell(cellPos);\n      if (seen[cellPos] || rect.top !== rowIndex) {\n        rowCells.push(null);\n        continue;\n      }\n      seen[cellPos] = true;\n\n      rowCells.push(cell);\n    }\n\n    rows.push(rowCells);\n  }\n\n  return rows;\n};\n\n// :: (tableNode: Node, tableArray: Array<Node>) -> Node\n// This function will transform a matrix of nodes\n// into table node respecting merged cells and rows configurations,\n// for example this array will be convert to the table below:\n//\n// ```javascript\n// array = [\n//   [A1, B1, C1, null],\n//   [A2, B2, null, D1],\n//   [A3. B3, C2, null],\n// ]\n// ```\n//\n// ```\n//  ____________________________\n// |      |      |             |\n// |  A1  |  B1  |     C1      |\n// |______|______|______ ______|\n// |      |             |      |\n// |  A2  |     B2      |      |\n// |______|______ ______|      |\n// |      |      |      |  D1  |\n// |  A3  |  B3  |  C2  |      |\n// |______|______|______|______|\n// ```\n//\nvar convertArrayOfRowsToTableNode = function convertArrayOfRowsToTableNode(tableNode, arrayOfNodes) {\n  var rowsPM = [];\n  var map = prosemirrorTables.TableMap.get(tableNode);\n  for (var rowIndex = 0; rowIndex < map.height; rowIndex++) {\n    var row = tableNode.child(rowIndex);\n    var rowCells = [];\n\n    for (var colIndex = 0; colIndex < map.width; colIndex++) {\n      if (!arrayOfNodes[rowIndex][colIndex]) {\n        continue;\n      }\n      var cellPos = map.map[rowIndex * map.width + colIndex];\n\n      var cell = arrayOfNodes[rowIndex][colIndex];\n      var oldCell = tableNode.nodeAt(cellPos);\n      var newCell = oldCell.type.createChecked(Object.assign({}, cell.attrs), cell.content, cell.marks);\n      rowCells.push(newCell);\n    }\n\n    rowsPM.push(row.type.createChecked(row.attrs, rowCells, row.marks));\n  }\n\n  var newTable = tableNode.type.createChecked(tableNode.attrs, rowsPM, tableNode.marks);\n\n  return newTable;\n};\n\nvar moveTableColumn = function moveTableColumn(table, indexesOrigin, indexesTarget, direction) {\n  var rows = transpose(convertTableNodeToArrayOfRows(table.node));\n\n  rows = moveRowInArrayOfRows(rows, indexesOrigin, indexesTarget, direction);\n  rows = transpose(rows);\n\n  return convertArrayOfRowsToTableNode(table.node, rows);\n};\n\nvar moveTableRow = function moveTableRow(table, indexesOrigin, indexesTarget, direction) {\n  var rows = convertTableNodeToArrayOfRows(table.node);\n\n  rows = moveRowInArrayOfRows(rows, indexesOrigin, indexesTarget, direction);\n\n  return convertArrayOfRowsToTableNode(table.node, rows);\n};\n\nvar moveRowInArrayOfRows = function moveRowInArrayOfRows(rows, indexesOrigin, indexesTarget, directionOverride) {\n  var direction = indexesOrigin[0] > indexesTarget[0] ? -1 : 1;\n\n  var rowsExtracted = rows.splice(indexesOrigin[0], indexesOrigin.length);\n  var positionOffset = rowsExtracted.length % 2 === 0 ? 1 : 0;\n  var target = void 0;\n\n  if (directionOverride === -1 && direction === 1) {\n    target = indexesTarget[0] - 1;\n  } else if (directionOverride === 1 && direction === -1) {\n    target = indexesTarget[indexesTarget.length - 1] - positionOffset + 1;\n  } else {\n    target = direction === -1 ? indexesTarget[0] : indexesTarget[indexesTarget.length - 1] - positionOffset;\n  }\n\n  rows.splice.apply(rows, [target, 0].concat(rowsExtracted));\n  return rows;\n};\n\nvar checkInvalidMovements = function checkInvalidMovements(originIndex, targetIndex, targets, type) {\n  var direction = originIndex > targetIndex ? -1 : 1;\n  var errorMessage = 'Target position is invalid, you can\\'t move the ' + type + ' ' + originIndex + ' to ' + targetIndex + ', the target can\\'t be split. You could use tryToFit option.';\n\n  if (direction === 1) {\n    if (targets.slice(0, targets.length - 1).indexOf(targetIndex) !== -1) {\n      throw new Error(errorMessage);\n    }\n  } else {\n    if (targets.slice(1).indexOf(targetIndex) !== -1) {\n      throw new Error(errorMessage);\n    }\n  }\n\n  return true;\n};\n\n// :: (predicate: (node: ProseMirrorNode) → boolean) → (selection: Selection) → ?{pos: number, start: number, depth: number, node: ProseMirrorNode}\n// Iterates over parent nodes, returning the closest node and its start position `predicate` returns truthy for. `start` points to the start position of the node, `pos` points directly before the node.\n//\n// ```javascript\n// const predicate = node => node.type === schema.nodes.blockquote;\n// const parent = findParentNode(predicate)(selection);\n// ```\nvar findParentNode = function findParentNode(predicate) {\n  return function (_ref) {\n    var $from = _ref.$from;\n    return findParentNodeClosestToPos($from, predicate);\n  };\n};\n\n// :: ($pos: ResolvedPos, predicate: (node: ProseMirrorNode) → boolean) → ?{pos: number, start: number, depth: number, node: ProseMirrorNode}\n// Iterates over parent nodes starting from the given `$pos`, returning the closest node and its start position `predicate` returns truthy for. `start` points to the start position of the node, `pos` points directly before the node.\n//\n// ```javascript\n// const predicate = node => node.type === schema.nodes.blockquote;\n// const parent = findParentNodeClosestToPos(state.doc.resolve(5), predicate);\n// ```\nvar findParentNodeClosestToPos = function findParentNodeClosestToPos($pos, predicate) {\n  for (var i = $pos.depth; i > 0; i--) {\n    var node = $pos.node(i);\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node: node\n      };\n    }\n  }\n};\n\n// :: (predicate: (node: ProseMirrorNode) → boolean, domAtPos: (pos: number) → {node: dom.Node, offset: number}) → (selection: Selection) → ?dom.Node\n// Iterates over parent nodes, returning DOM reference of the closest node `predicate` returns truthy for.\n//\n// ```javascript\n// const domAtPos = view.domAtPos.bind(view);\n// const predicate = node => node.type === schema.nodes.table;\n// const parent = findParentDomRef(predicate, domAtPos)(selection); // <table>\n// ```\nvar findParentDomRef = function findParentDomRef(predicate, domAtPos) {\n  return function (selection) {\n    var parent = findParentNode(predicate)(selection);\n    if (parent) {\n      return findDomRefAtPos(parent.pos, domAtPos);\n    }\n  };\n};\n\n// :: (predicate: (node: ProseMirrorNode) → boolean) → (selection: Selection) → boolean\n// Checks if there's a parent node `predicate` returns truthy for.\n//\n// ```javascript\n// if (hasParentNode(node => node.type === schema.nodes.table)(selection)) {\n//   // ....\n// }\n// ```\nvar hasParentNode = function hasParentNode(predicate) {\n  return function (selection) {\n    return !!findParentNode(predicate)(selection);\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>) → (selection: Selection) → ?{pos: number, start: number, depth: number, node: ProseMirrorNode}\n// Iterates over parent nodes, returning closest node of a given `nodeType`. `start` points to the start position of the node, `pos` points directly before the node.\n//\n// ```javascript\n// const parent = findParentNodeOfType(schema.nodes.paragraph)(selection);\n// ```\nvar findParentNodeOfType = function findParentNodeOfType(nodeType) {\n  return function (selection) {\n    return findParentNode(function (node) {\n      return equalNodeType(nodeType, node);\n    })(selection);\n  };\n};\n\n// :: ($pos: ResolvedPos, nodeType: union<NodeType, [NodeType]>) → ?{pos: number, start: number, depth: number, node: ProseMirrorNode}\n// Iterates over parent nodes starting from the given `$pos`, returning closest node of a given `nodeType`. `start` points to the start position of the node, `pos` points directly before the node.\n//\n// ```javascript\n// const parent = findParentNodeOfTypeClosestToPos(state.doc.resolve(10), schema.nodes.paragraph);\n// ```\nvar findParentNodeOfTypeClosestToPos = function findParentNodeOfTypeClosestToPos($pos, nodeType) {\n  return findParentNodeClosestToPos($pos, function (node) {\n    return equalNodeType(nodeType, node);\n  });\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>) → (selection: Selection) → boolean\n// Checks if there's a parent node of a given `nodeType`.\n//\n// ```javascript\n// if (hasParentNodeOfType(schema.nodes.table)(selection)) {\n//   // ....\n// }\n// ```\nvar hasParentNodeOfType = function hasParentNodeOfType(nodeType) {\n  return function (selection) {\n    return hasParentNode(function (node) {\n      return equalNodeType(nodeType, node);\n    })(selection);\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>, domAtPos: (pos: number) → {node: dom.Node, offset: number}) → (selection: Selection) → ?dom.Node\n// Iterates over parent nodes, returning DOM reference of the closest node of a given `nodeType`.\n//\n// ```javascript\n// const domAtPos = view.domAtPos.bind(view);\n// const parent = findParentDomRefOfType(schema.nodes.codeBlock, domAtPos)(selection); // <pre>\n// ```\nvar findParentDomRefOfType = function findParentDomRefOfType(nodeType, domAtPos) {\n  return function (selection) {\n    return findParentDomRef(function (node) {\n      return equalNodeType(nodeType, node);\n    }, domAtPos)(selection);\n  };\n};\n\n// :: (nodeType: union<NodeType, [NodeType]>) → (selection: Selection) → ?{pos: number, start: number, depth: number, node: ProseMirrorNode}\n// Returns a node of a given `nodeType` if it is selected. `start` points to the start position of the node, `pos` points directly before the node.\n//\n// ```javascript\n// const { extension, inlineExtension, bodiedExtension } = schema.nodes;\n// const selectedNode = findSelectedNodeOfType([\n//   extension,\n//   inlineExtension,\n//   bodiedExtension,\n// ])(selection);\n// ```\nvar findSelectedNodeOfType = function findSelectedNodeOfType(nodeType) {\n  return function (selection) {\n    if (isNodeSelection(selection)) {\n      var node = selection.node,\n          $from = selection.$from;\n\n      if (equalNodeType(nodeType, node)) {\n        return { node: node, pos: $from.pos, depth: $from.depth };\n      }\n    }\n  };\n};\n\n// :: (selection: Selection) → ?number\n// Returns position of the previous node.\n//\n// ```javascript\n// const pos = findPositionOfNodeBefore(tr.selection);\n// ```\nvar findPositionOfNodeBefore = function findPositionOfNodeBefore(selection) {\n  var nodeBefore = selection.$from.nodeBefore;\n\n  var maybeSelection = prosemirrorState.Selection.findFrom(selection.$from, -1);\n  if (maybeSelection && nodeBefore) {\n    // leaf node\n    var parent = findParentNodeOfType(nodeBefore.type)(maybeSelection);\n    if (parent) {\n      return parent.pos;\n    }\n    return maybeSelection.$from.pos;\n  }\n};\n\n// :: (position: number, domAtPos: (pos: number) → {node: dom.Node, offset: number}) → dom.Node\n// Returns DOM reference of a node at a given `position`. If the node type is of type `TEXT_NODE` it will return the reference of the parent node.\n//\n// ```javascript\n// const domAtPos = view.domAtPos.bind(view);\n// const ref = findDomRefAtPos($from.pos, domAtPos);\n// ```\nvar findDomRefAtPos = function findDomRefAtPos(position, domAtPos) {\n  var dom = domAtPos(position);\n  var node = dom.node.childNodes[dom.offset];\n\n  if (dom.node.nodeType === Node.TEXT_NODE) {\n    return dom.node.parentNode;\n  }\n\n  if (!node || node.nodeType === Node.TEXT_NODE) {\n    return dom.node;\n  }\n\n  return node;\n};\n\n// :: (node: ProseMirrorNode, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Flattens descendants of a given `node`. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const children = flatten(node);\n// ```\nvar flatten = function flatten(node) {\n  var descend = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (!node) {\n    throw new Error('Invalid \"node\" parameter');\n  }\n  var result = [];\n  node.descendants(function (child, pos) {\n    result.push({ node: child, pos: pos });\n    if (!descend) {\n      return false;\n    }\n  });\n  return result;\n};\n\n// :: (node: ProseMirrorNode, predicate: (node: ProseMirrorNode) → boolean, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Iterates over descendants of a given `node`, returning child nodes predicate returns truthy for. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const textNodes = findChildren(node, child => child.isText, false);\n// ```\nvar findChildren = function findChildren(node, predicate, descend) {\n  if (!node) {\n    throw new Error('Invalid \"node\" parameter');\n  } else if (!predicate) {\n    throw new Error('Invalid \"predicate\" parameter');\n  }\n  return flatten(node, descend).filter(function (child) {\n    return predicate(child.node);\n  });\n};\n\n// :: (node: ProseMirrorNode, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Returns text nodes of a given `node`. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const textNodes = findTextNodes(node);\n// ```\nvar findTextNodes = function findTextNodes(node, descend) {\n  return findChildren(node, function (child) {\n    return child.isText;\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Returns inline nodes of a given `node`. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const inlineNodes = findInlineNodes(node);\n// ```\nvar findInlineNodes = function findInlineNodes(node, descend) {\n  return findChildren(node, function (child) {\n    return child.isInline;\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Returns block descendants of a given `node`. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const blockNodes = findBlockNodes(node);\n// ```\nvar findBlockNodes = function findBlockNodes(node, descend) {\n  return findChildren(node, function (child) {\n    return child.isBlock;\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, predicate: (attrs: ?Object) → boolean, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Iterates over descendants of a given `node`, returning child nodes predicate returns truthy for. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const mergedCells = findChildrenByAttr(table, attrs => attrs.colspan === 2);\n// ```\nvar findChildrenByAttr = function findChildrenByAttr(node, predicate, descend) {\n  return findChildren(node, function (child) {\n    return !!predicate(child.attrs);\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, nodeType: NodeType, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Iterates over descendants of a given `node`, returning child nodes of a given nodeType. It doesn't descend into a node when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const cells = findChildrenByType(table, schema.nodes.tableCell);\n// ```\nvar findChildrenByType = function findChildrenByType(node, nodeType, descend) {\n  return findChildren(node, function (child) {\n    return child.type === nodeType;\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, markType: markType, descend: ?boolean) → [{ node: ProseMirrorNode, pos: number }]\n// Iterates over descendants of a given `node`, returning child nodes that have a mark of a given markType. It doesn't descend into a `node` when descend argument is `false` (defaults to `true`).\n//\n// ```javascript\n// const nodes = findChildrenByMark(state.doc, schema.marks.strong);\n// ```\nvar findChildrenByMark = function findChildrenByMark(node, markType, descend) {\n  return findChildren(node, function (child) {\n    return markType.isInSet(child.marks);\n  }, descend);\n};\n\n// :: (node: ProseMirrorNode, nodeType: NodeType) → boolean\n// Returns `true` if a given node contains nodes of a given `nodeType`\n//\n// ```javascript\n// if (contains(panel, schema.nodes.listItem)) {\n//   // ...\n// }\n// ```\nvar contains = function contains(node, nodeType) {\n  return !!findChildrenByType(node, nodeType).length;\n};\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// :: (selection: Selection) → ?{pos: number, start: number, node: ProseMirrorNode}\n// Iterates over parent nodes, returning the closest table node.\n//\n// ```javascript\n// const table = findTable(selection);\n// ```\nvar findTable = function findTable(selection) {\n  return findParentNode(function (node) {\n    return node.type.spec.tableRole && node.type.spec.tableRole === 'table';\n  })(selection);\n};\n\n// :: (selection: Selection) → boolean\n// Checks if current selection is a `CellSelection`.\n//\n// ```javascript\n// if (isCellSelection(selection)) {\n//   // ...\n// }\n// ```\nvar isCellSelection = function isCellSelection(selection) {\n  return selection instanceof prosemirrorTables.CellSelection;\n};\n\n// :: (selection: Selection) → ?{left: number, right: number, top: number, bottom: number}\n// Get the selection rectangle. Returns `undefined` if selection is not a CellSelection.\n//\n// ```javascript\n// const rect = getSelectionRect(selection);\n// ```\nvar getSelectionRect = function getSelectionRect(selection) {\n  if (!isCellSelection(selection)) {\n    return;\n  }\n  var start = selection.$anchorCell.start(-1);\n  var map = prosemirrorTables.TableMap.get(selection.$anchorCell.node(-1));\n  return map.rectBetween(selection.$anchorCell.pos - start, selection.$headCell.pos - start);\n};\n\n// :: (columnIndex: number) → (selection: Selection) → boolean\n// Checks if entire column at index `columnIndex` is selected.\n//\n// ```javascript\n// const className = isColumnSelected(i)(selection) ? 'selected' : '';\n// ```\nvar isColumnSelected = function isColumnSelected(columnIndex) {\n  return function (selection) {\n    if (isCellSelection(selection)) {\n      var map = prosemirrorTables.TableMap.get(selection.$anchorCell.node(-1));\n      return isRectSelected({\n        left: columnIndex,\n        right: columnIndex + 1,\n        top: 0,\n        bottom: map.height\n      })(selection);\n    }\n\n    return false;\n  };\n};\n\n// :: (rowIndex: number) → (selection: Selection) → boolean\n// Checks if entire row at index `rowIndex` is selected.\n//\n// ```javascript\n// const className = isRowSelected(i)(selection) ? 'selected' : '';\n// ```\nvar isRowSelected = function isRowSelected(rowIndex) {\n  return function (selection) {\n    if (isCellSelection(selection)) {\n      var map = prosemirrorTables.TableMap.get(selection.$anchorCell.node(-1));\n      return isRectSelected({\n        left: 0,\n        right: map.width,\n        top: rowIndex,\n        bottom: rowIndex + 1\n      })(selection);\n    }\n\n    return false;\n  };\n};\n\n// :: (selection: Selection) → boolean\n// Checks if entire table is selected\n//\n// ```javascript\n// const className = isTableSelected(selection) ? 'selected' : '';\n// ```\nvar isTableSelected = function isTableSelected(selection) {\n  if (isCellSelection(selection)) {\n    var map = prosemirrorTables.TableMap.get(selection.$anchorCell.node(-1));\n    return isRectSelected({\n      left: 0,\n      right: map.width,\n      top: 0,\n      bottom: map.height\n    })(selection);\n  }\n\n  return false;\n};\n\n// :: (columnIndex: union<number, [number]>) → (selection: Selection) → ?[{pos: number, start: number, node: ProseMirrorNode}]\n// Returns an array of cells in a column(s), where `columnIndex` could be a column index or an array of column indexes.\n//\n// ```javascript\n// const cells = getCellsInColumn(i)(selection); // [{node, pos}, {node, pos}]\n// ```\nvar getCellsInColumn = function getCellsInColumn(columnIndex) {\n  return function (selection) {\n    var table = findTable(selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      var indexes = Array.isArray(columnIndex) ? columnIndex : Array.from([columnIndex]);\n      return indexes.reduce(function (acc, index) {\n        if (index >= 0 && index <= map.width - 1) {\n          var cells = map.cellsInRect({\n            left: index,\n            right: index + 1,\n            top: 0,\n            bottom: map.height\n          });\n          return acc.concat(cells.map(function (nodePos) {\n            var node = table.node.nodeAt(nodePos);\n            var pos = nodePos + table.start;\n            return { pos: pos, start: pos + 1, node: node };\n          }));\n        }\n      }, []);\n    }\n  };\n};\n\n// :: (rowIndex: union<number, [number]>) → (selection: Selection) → ?[{pos: number, start: number, node: ProseMirrorNode}]\n// Returns an array of cells in a row(s), where `rowIndex` could be a row index or an array of row indexes.\n//\n// ```javascript\n// const cells = getCellsInRow(i)(selection); // [{node, pos}, {node, pos}]\n// ```\nvar getCellsInRow = function getCellsInRow(rowIndex) {\n  return function (selection) {\n    var table = findTable(selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      var indexes = Array.isArray(rowIndex) ? rowIndex : Array.from([rowIndex]);\n      return indexes.reduce(function (acc, index) {\n        if (index >= 0 && index <= map.height - 1) {\n          var cells = map.cellsInRect({\n            left: 0,\n            right: map.width,\n            top: index,\n            bottom: index + 1\n          });\n          return acc.concat(cells.map(function (nodePos) {\n            var node = table.node.nodeAt(nodePos);\n            var pos = nodePos + table.start;\n            return { pos: pos, start: pos + 1, node: node };\n          }));\n        }\n      }, []);\n    }\n  };\n};\n\n// :: (selection: Selection) → ?[{pos: number, start: number, node: ProseMirrorNode}]\n// Returns an array of all cells in a table.\n//\n// ```javascript\n// const cells = getCellsInTable(selection); // [{node, pos}, {node, pos}]\n// ```\nvar getCellsInTable = function getCellsInTable(selection) {\n  var table = findTable(selection);\n  if (table) {\n    var map = prosemirrorTables.TableMap.get(table.node);\n    var cells = map.cellsInRect({\n      left: 0,\n      right: map.width,\n      top: 0,\n      bottom: map.height\n    });\n    return cells.map(function (nodePos) {\n      var node = table.node.nodeAt(nodePos);\n      var pos = nodePos + table.start;\n      return { pos: pos, start: pos + 1, node: node };\n    });\n  }\n};\n\nvar select = function select(type) {\n  return function (index, expand) {\n    return function (tr) {\n      var table = findTable(tr.selection);\n      var isRowSelection = type === 'row';\n      if (table) {\n        var map = prosemirrorTables.TableMap.get(table.node);\n\n        // Check if the index is valid\n        if (index >= 0 && index < (isRowSelection ? map.height : map.width)) {\n          var left = isRowSelection ? 0 : index;\n          var top = isRowSelection ? index : 0;\n          var right = isRowSelection ? map.width : index + 1;\n          var bottom = isRowSelection ? index + 1 : map.height;\n\n          if (expand) {\n            var cell = findCellClosestToPos(tr.selection.$from);\n            if (!cell) {\n              return tr;\n            }\n\n            var selRect = map.findCell(cell.pos - table.start);\n            if (isRowSelection) {\n              top = Math.min(top, selRect.top);\n              bottom = Math.max(bottom, selRect.bottom);\n            } else {\n              left = Math.min(left, selRect.left);\n              right = Math.max(right, selRect.right);\n            }\n          }\n\n          var cellsInFirstRow = map.cellsInRect({\n            left: left,\n            top: top,\n            right: isRowSelection ? right : left + 1,\n            bottom: isRowSelection ? top + 1 : bottom\n          });\n\n          var cellsInLastRow = bottom - top === 1 ? cellsInFirstRow : map.cellsInRect({\n            left: isRowSelection ? left : right - 1,\n            top: isRowSelection ? bottom - 1 : top,\n            right: right,\n            bottom: bottom\n          });\n\n          var head = table.start + cellsInFirstRow[0];\n          var anchor = table.start + cellsInLastRow[cellsInLastRow.length - 1];\n          var $head = tr.doc.resolve(head);\n          var $anchor = tr.doc.resolve(anchor);\n\n          return cloneTr(tr.setSelection(new prosemirrorTables.CellSelection($anchor, $head)));\n        }\n      }\n      return tr;\n    };\n  };\n};\n\n// :: (columnIndex: number, expand: ?boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that creates a `CellSelection` on a column at index `columnIndex`.\n// Use the optional `expand` param to extend from current selection.\n//\n// ```javascript\n// dispatch(\n//   selectColumn(i)(state.tr)\n// );\n// ```\nvar selectColumn = select('column');\n\n// :: (rowIndex: number, expand: ?boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that creates a `CellSelection` on a column at index `rowIndex`.\n// Use the optional `expand` param to extend from current selection.\n//\n// ```javascript\n// dispatch(\n//   selectRow(i)(state.tr)\n// );\n// ```\nvar selectRow = select('row');\n\n// :: (selection: Selection) → (tr: Transaction) → Transaction\n// Returns a new transaction that creates a `CellSelection` on the entire table.\n//\n// ```javascript\n// dispatch(\n//   selectTable(i)(state.tr)\n// );\n// ```\nvar selectTable = function selectTable(tr) {\n  var table = findTable(tr.selection);\n  if (table) {\n    var _TableMap$get = prosemirrorTables.TableMap.get(table.node),\n        map = _TableMap$get.map;\n\n    if (map && map.length) {\n      var head = table.start + map[0];\n      var anchor = table.start + map[map.length - 1];\n      var $head = tr.doc.resolve(head);\n      var $anchor = tr.doc.resolve(anchor);\n\n      return cloneTr(tr.setSelection(new prosemirrorTables.CellSelection($anchor, $head)));\n    }\n  }\n  return tr;\n};\n\n// :: (cell: {pos: number, node: ProseMirrorNode}, schema: Schema) → (tr: Transaction) → Transaction\n// Returns a new transaction that clears the content of a given `cell`.\n//\n// ```javascript\n// const $pos = state.doc.resolve(13);\n// dispatch(\n//   emptyCell(findCellClosestToPos($pos), state.schema)(state.tr)\n// );\n// ```\nvar emptyCell = function emptyCell(cell, schema) {\n  return function (tr) {\n    if (cell) {\n      var _tableNodeTypes$cell$ = tableNodeTypes(schema).cell.createAndFill(),\n          content = _tableNodeTypes$cell$.content;\n\n      if (!cell.node.content.eq(content)) {\n        tr.replaceWith(cell.pos + 1, cell.pos + cell.node.nodeSize, content);\n        return cloneTr(tr);\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (columnIndex: number) → (tr: Transaction) → Transaction\n// Returns a new transaction that adds a new column at index `columnIndex`.\n//\n// ```javascript\n// dispatch(\n//   addColumnAt(i)(state.tr)\n// );\n// ```\nvar addColumnAt = function addColumnAt(columnIndex) {\n  return function (tr) {\n    var table = findTable(tr.selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      if (columnIndex >= 0 && columnIndex <= map.width) {\n        return cloneTr(prosemirrorTables.addColumn(tr, {\n          map: map,\n          tableStart: table.start,\n          table: table.node\n        }, columnIndex));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (originRowIndex: number, targetRowIndex: targetColumnIndex, options?: MovementOptions) → (tr: Transaction) → Transaction\n// Returns a new transaction that moves the origin row to the target index;\n//\n// by default \"tryToFit\" is false, that means if you try to move a row to a place\n// where we will need to split a row with merged cells it'll throw an exception, for example:\n//\n// ```\n//      ____________________________\n//     |      |      |             |\n//  0  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n//     |      |             |      |\n//  1  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  2  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n// ```\n//\n// if you try to move the row 0 to the row index 1 with tryToFit false,\n// it'll throw an exception since you can't split the row 1;\n// but if \"tryToFit\" is true, it'll move the row using the current direction.\n//\n// We defined current direction using the target and origin values\n// if the origin is greater than the target, that means the course is `bottom-to-top`,\n// so the `tryToFit` logic will use this direction to determine\n// if we should move the column to the right or the left.\n//\n// for example, if you call the function using `moveRow(0, 1, { tryToFit: true })`\n// the result will be:\n// ```\n//      ____________________________\n//     |      |             |      |\n//  0  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  1  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n//     |      |      |             |\n//  2  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n// ```\n//\n// since we could put the row zero on index one,\n// we pushed to the best place to fit the row index 0,\n// in this case, row index 2.\n//\n//\n// -------- HOW TO OVERRIDE DIRECTION --------\n//\n// If you set \"tryToFit\" to \"true\", it will try to figure out the best direction\n// place to fit using the origin and target index, for example:\n//\n//\n// ```\n//      ____________________________\n//     |      |      |             |\n//  0  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n//     |      |             |      |\n//  1  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  2  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n//     |      |             |      |\n//  3  |  A4  |     B4      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D2  |\n//  4  |  A5  |  B5  |  C3  |      |\n//     |______|______|______|______|\n// ```\n//\n//\n// If you try to move the row 0 to row index 4 with \"tryToFit\" enabled, by default,\n// the code will put it on after the merged rows,\n// but you can override it using the \"direction\" option.\n//\n// -1: Always put the origin before the target\n// ```\n//      ____________________________\n//     |      |             |      |\n//  0  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  1  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n//     |      |      |             |\n//  2  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n//     |      |             |      |\n//  3  |  A4  |     B4      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D2  |\n//  4  |  A5  |  B5  |  C3  |      |\n//     |______|______|______|______|\n// ```\n//\n//  0: Automatically decide the best place to fit\n// ```\n//      ____________________________\n//     |      |             |      |\n//  0  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  1  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n//     |      |             |      |\n//  2  |  A4  |     B4      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D2  |\n//  3  |  A5  |  B5  |  C3  |      |\n//     |______|______|______|______|\n//     |      |      |             |\n//  4  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n// ```\n//\n//  1: Always put the origin after the target\n// ```\n//      ____________________________\n//     |      |             |      |\n//  0  |  A2  |     B2      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D1  |\n//  1  |  A3  |  B3  |  C2  |      |\n//     |______|______|______|______|\n//     |      |             |      |\n//  2  |  A4  |     B4      |      |\n//     |______|______ ______|      |\n//     |      |      |      |  D2  |\n//  3  |  A5  |  B5  |  C3  |      |\n//     |______|______|______|______|\n//     |      |      |             |\n//  4  |  A1  |  B1  |     C1      |\n//     |______|______|______ ______|\n// ```\n//\n// ```javascript\n// dispatch(\n//   moveRow(x, y, options)(state.tr)\n// );\n// ```\nvar moveRow = function moveRow(originRowIndex, targetRowIndex, opts) {\n  return function (tr) {\n    var defaultOptions = { tryToFit: false, direction: 0 };\n    var options = Object.assign(defaultOptions, opts);\n    var table = findTable(tr.selection);\n    if (!table) {\n      return tr;\n    }\n\n    var _getSelectionRangeInR = getSelectionRangeInRow(originRowIndex)(tr),\n        indexesOriginRow = _getSelectionRangeInR.indexes;\n\n    var _getSelectionRangeInR2 = getSelectionRangeInRow(targetRowIndex)(tr),\n        indexesTargetRow = _getSelectionRangeInR2.indexes;\n\n    if (indexesOriginRow.indexOf(targetRowIndex) > -1) {\n      return tr;\n    }\n\n    if (!options.tryToFit && indexesTargetRow.length > 1) {\n      checkInvalidMovements(originRowIndex, targetRowIndex, indexesTargetRow, 'row');\n    }\n\n    var newTable = moveTableRow(table, indexesOriginRow, indexesTargetRow, options.direction);\n\n    return cloneTr(tr).replaceWith(table.pos, table.pos + table.node.nodeSize, newTable);\n  };\n};\n\n// :: (originColumnIndex: number, targetColumnIndex: targetColumnIndex, options?: MovementOptions) → (tr: Transaction) → Transaction\n// Returns a new transaction that moves the origin column to the target index;\n//\n// by default \"tryToFit\" is false, that means if you try to move a column to a place\n// where we will need to split a column with merged cells it'll throw an exception, for example:\n//\n// ```\n//    0      1         2\n//  ____________________________\n// |      |      |             |\n// |  A1  |  B1  |     C1      |\n// |______|______|______ ______|\n// |      |             |      |\n// |  A2  |     B2      |      |\n// |______|______ ______|      |\n// |      |      |      |  D1  |\n// |  A3  |  B3  |  C2  |      |\n// |______|______|______|______|\n// ```\n//\n//\n// if you try to move the column 0 to the column index 1 with tryToFit false,\n// it'll throw an exception since you can't split the column 1;\n// but if \"tryToFit\" is true, it'll move the column using the current direction.\n//\n// We defined current direction using the target and origin values\n// if the origin is greater than the target, that means the course is `right-to-left`,\n// so the `tryToFit` logic will use this direction to determine\n// if we should move the column to the right or the left.\n//\n// for example, if you call the function using `moveColumn(0, 1, { tryToFit: true })`\n// the result will be:\n//\n// ```\n//    0       1             2\n// _____________________ _______\n// |      |             |      |\n// |  B1  |     C1      |  A1  |\n// |______|______ ______|______|\n// |             |      |      |\n// |     B2      |      |  A2  |\n// |______ ______|      |______|\n// |      |      |  D1  |      |\n// |  B3  |  C2  |      |  A3  |\n// |______|______|______|______|\n// ```\n//\n// since we could put the column zero on index one,\n// we pushed to the best place to fit the column 0, in this case, column index 2.\n//\n// -------- HOW TO OVERRIDE DIRECTION --------\n//\n// If you set \"tryToFit\" to \"true\", it will try to figure out the best direction\n// place to fit using the origin and target index, for example:\n//\n//\n// ```\n//     0      1       2     3      4      5       6\n//   _________________________________________________\n//  |      |      |             |      |             |\n//  |  A1  |  B1  |     C1      |  E1  |     F1      |\n//  |______|______|______ ______|______|______ ______|\n//  |      |             |      |             |      |\n//  |  A2  |     B2      |      |     E2      |      |\n//  |______|______ ______|      |______ ______|      |\n//  |      |      |      |  D1  |      |      |  G2  |\n//  |  A3  |  B3  |  C3  |      |  E3  |  F3  |      |\n//  |______|______|______|______|______|______|______|\n// ```\n//\n//\n// If you try to move the column 0 to column index 5 with \"tryToFit\" enabled, by default,\n// the code will put it on after the merged columns,\n// but you can override it using the \"direction\" option.\n//\n// -1: Always put the origin before the target\n//\n// ```\n//     0      1       2     3      4      5       6\n//   _________________________________________________\n//  |      |             |      |      |             |\n//  |  B1  |     C1      |  A1  |  E1  |     F1      |\n//  |______|______ ______|______|______|______ ______|\n//  |             |      |      |             |      |\n//  |     B2      |      |  A2  |     E2      |      |\n//  |______ ______|      |______|______ ______|      |\n//  |      |      |  D1  |      |      |      |  G2  |\n//  |  B3  |  C3  |      |  A3  |  E3  |  F3  |      |\n//  |______|______|______|______|______|______|______|\n// ```\n//\n//  0: Automatically decide the best place to fit\n//\n// ```\n//     0      1       2     3      4      5       6\n//   _________________________________________________\n//  |      |             |      |             |      |\n//  |  B1  |     C1      |  E1  |     F1      |  A1  |\n//  |______|______ ______|______|______ ______|______|\n//  |             |      |             |      |      |\n//  |     B2      |      |     E2      |      |  A2  |\n//  |______ ______|      |______ ______|      |______|\n//  |      |      |  D1  |      |      |  G2  |      |\n//  |  B3  |  C3  |      |  E3  |  F3  |      |  A3  |\n//  |______|______|______|______|______|______|______|\n// ```\n//\n//  1: Always put the origin after the target\n//\n// ```\n//     0      1       2     3      4      5       6\n//   _________________________________________________\n//  |      |             |      |             |      |\n//  |  B1  |     C1      |  E1  |     F1      |  A1  |\n//  |______|______ ______|______|______ ______|______|\n//  |             |      |             |      |      |\n//  |     B2      |      |     E2      |      |  A2  |\n//  |______ ______|      |______ ______|      |______|\n//  |      |      |  D1  |      |      |  G2  |      |\n//  |  B3  |  C3  |      |  E3  |  F3  |      |  A3  |\n//  |______|______|______|______|______|______|______|\n// ```\n//\n// ```javascript\n// dispatch(\n//   moveColumn(x, y, options)(state.tr)\n// );\n// ```\nvar moveColumn = function moveColumn(originColumnIndex, targetColumnIndex, opts) {\n  return function (tr) {\n    var defaultOptions = { tryToFit: false, direction: 0 };\n    var options = Object.assign(defaultOptions, opts);\n    var table = findTable(tr.selection);\n    if (!table) {\n      return tr;\n    }\n\n    var _getSelectionRangeInC = getSelectionRangeInColumn(originColumnIndex)(tr),\n        indexesOriginColumn = _getSelectionRangeInC.indexes;\n\n    var _getSelectionRangeInC2 = getSelectionRangeInColumn(targetColumnIndex)(tr),\n        indexesTargetColumn = _getSelectionRangeInC2.indexes;\n\n    if (indexesOriginColumn.indexOf(targetColumnIndex) > -1) {\n      return tr;\n    }\n\n    if (!options.tryToFit && indexesTargetColumn.length > 1) {\n      checkInvalidMovements(originColumnIndex, targetColumnIndex, indexesTargetColumn, 'column');\n    }\n\n    var newTable = moveTableColumn(table, indexesOriginColumn, indexesTargetColumn, options.direction);\n\n    return cloneTr(tr).replaceWith(table.pos, table.pos + table.node.nodeSize, newTable);\n  };\n};\n\n// :: (rowIndex: number, clonePreviousRow?: boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that adds a new row at index `rowIndex`. Optionally clone the previous row.\n//\n// ```javascript\n// dispatch(\n//   addRowAt(i)(state.tr)\n// );\n// ```\n//\n// ```javascript\n// dispatch(\n//   addRowAt(i, true)(state.tr)\n// );\n// ```\nvar addRowAt = function addRowAt(rowIndex, clonePreviousRow) {\n  return function (tr) {\n    var table = findTable(tr.selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      var cloneRowIndex = rowIndex - 1;\n\n      if (clonePreviousRow && cloneRowIndex >= 0) {\n        return cloneTr(cloneRowAt(cloneRowIndex)(tr));\n      }\n\n      if (rowIndex >= 0 && rowIndex <= map.height) {\n        return cloneTr(prosemirrorTables.addRow(tr, {\n          map: map,\n          tableStart: table.start,\n          table: table.node\n        }, rowIndex));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (cloneRowIndex: number) → (tr: Transaction) → Transaction\n// Returns a new transaction that adds a new row after `cloneRowIndex`, cloning the row attributes at `cloneRowIndex`.\n//\n// ```javascript\n// dispatch(\n//   cloneRowAt(i)(state.tr)\n// );\n// ```\nvar cloneRowAt = function cloneRowAt(rowIndex) {\n  return function (tr) {\n    var table = findTable(tr.selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n\n      if (rowIndex >= 0 && rowIndex <= map.height) {\n        var tableNode = table.node;\n        var tableNodes = tableNodeTypes(tableNode.type.schema);\n\n        var rowPos = table.start;\n        for (var i = 0; i < rowIndex + 1; i++) {\n          rowPos += tableNode.child(i).nodeSize;\n        }\n\n        var cloneRow = tableNode.child(rowIndex);\n        // Re-create the same nodes with same attrs, dropping the node content.\n        var cells = [];\n        var rowWidth = 0;\n        cloneRow.forEach(function (cell) {\n          // If we're copying a row with rowspan somewhere, we dont want to copy that cell\n          // We'll increment its span below.\n          if (cell.attrs.rowspan === 1) {\n            rowWidth += cell.attrs.colspan;\n            cells.push(tableNodes[cell.type.spec.tableRole].createAndFill(cell.attrs, cell.marks));\n          }\n        });\n\n        // If a higher row spans past our clone row, bump the higher row to cover this new row too.\n        if (rowWidth < map.width) {\n          var rowSpanCells = [];\n\n          var _loop = function _loop(_i) {\n            var foundCells = filterCellsInRow(_i, function (cell, tr) {\n              var rowspan = cell.node.attrs.rowspan;\n              var spanRange = _i + rowspan;\n              return rowspan > 1 && spanRange > rowIndex;\n            })(tr);\n            rowSpanCells.push.apply(rowSpanCells, _toConsumableArray(foundCells));\n          };\n\n          for (var _i = rowIndex; _i >= 0; _i--) {\n            _loop(_i);\n          }\n\n          if (rowSpanCells.length) {\n            rowSpanCells.forEach(function (cell) {\n              tr = setCellAttrs(cell, {\n                rowspan: cell.node.attrs.rowspan + 1\n              })(tr);\n            });\n          }\n        }\n\n        return safeInsert(tableNodes.row.create(cloneRow.attrs, cells), rowPos)(tr);\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (columnIndex: number) → (tr: Transaction) → Transaction\n// Returns a new transaction that removes a column at index `columnIndex`. If there is only one column left, it will remove the entire table.\n//\n// ```javascript\n// dispatch(\n//   removeColumnAt(i)(state.tr)\n// );\n// ```\nvar removeColumnAt = function removeColumnAt(columnIndex) {\n  return function (tr) {\n    var table = findTable(tr.selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      if (columnIndex === 0 && map.width === 1) {\n        return removeTable(tr);\n      } else if (columnIndex >= 0 && columnIndex <= map.width) {\n        prosemirrorTables.removeColumn(tr, {\n          map: map,\n          tableStart: table.start,\n          table: table.node\n        }, columnIndex);\n        return cloneTr(tr);\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (rowIndex: number) → (tr: Transaction) → Transaction\n// Returns a new transaction that removes a row at index `rowIndex`. If there is only one row left, it will remove the entire table.\n//\n// ```javascript\n// dispatch(\n//   removeRowAt(i)(state.tr)\n// );\n// ```\nvar removeRowAt = function removeRowAt(rowIndex) {\n  return function (tr) {\n    var table = findTable(tr.selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      if (rowIndex === 0 && map.height === 1) {\n        return removeTable(tr);\n      } else if (rowIndex >= 0 && rowIndex <= map.height) {\n        prosemirrorTables.removeRow(tr, {\n          map: map,\n          tableStart: table.start,\n          table: table.node\n        }, rowIndex);\n        return cloneTr(tr);\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (tr: Transaction) → Transaction\n// Returns a new transaction that removes a table node if the cursor is inside of it.\n//\n// ```javascript\n// dispatch(\n//   removeTable(state.tr)\n// );\n// ```\nvar removeTable = function removeTable(tr) {\n  var $from = tr.selection.$from;\n\n  for (var depth = $from.depth; depth > 0; depth--) {\n    var node = $from.node(depth);\n    if (node.type.spec.tableRole === 'table') {\n      return cloneTr(tr.delete($from.before(depth), $from.after(depth)));\n    }\n  }\n  return tr;\n};\n\n// :: (tr: Transaction) → Transaction\n// Returns a new transaction that removes selected columns.\n//\n// ```javascript\n// dispatch(\n//   removeSelectedColumns(state.tr)\n// );\n// ```\nvar removeSelectedColumns = function removeSelectedColumns(tr) {\n  var selection = tr.selection;\n\n  if (isTableSelected(selection)) {\n    return removeTable(tr);\n  }\n  if (isCellSelection(selection)) {\n    var table = findTable(selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      var rect = map.rectBetween(selection.$anchorCell.pos - table.start, selection.$headCell.pos - table.start);\n\n      if (rect.left == 0 && rect.right == map.width) {\n        return false;\n      }\n\n      var pmTableRect = Object.assign({}, rect, {\n        map: map,\n        table: table.node,\n        tableStart: table.start\n      });\n\n      for (var i = pmTableRect.right - 1;; i--) {\n        prosemirrorTables.removeColumn(tr, pmTableRect, i);\n        if (i === pmTableRect.left) {\n          break;\n        }\n        pmTableRect.table = pmTableRect.tableStart ? tr.doc.nodeAt(pmTableRect.tableStart - 1) : tr.doc;\n        pmTableRect.map = prosemirrorTables.TableMap.get(pmTableRect.table);\n      }\n      return cloneTr(tr);\n    }\n  }\n  return tr;\n};\n\n// :: (tr: Transaction) → Transaction\n// Returns a new transaction that removes selected rows.\n//\n// ```javascript\n// dispatch(\n//   removeSelectedRows(state.tr)\n// );\n// ```\nvar removeSelectedRows = function removeSelectedRows(tr) {\n  var selection = tr.selection;\n\n  if (isTableSelected(selection)) {\n    return removeTable(tr);\n  }\n  if (isCellSelection(selection)) {\n    var table = findTable(selection);\n    if (table) {\n      var map = prosemirrorTables.TableMap.get(table.node);\n      var rect = map.rectBetween(selection.$anchorCell.pos - table.start, selection.$headCell.pos - table.start);\n\n      if (rect.top == 0 && rect.bottom == map.height) {\n        return false;\n      }\n\n      var pmTableRect = Object.assign({}, rect, {\n        map: map,\n        table: table.node,\n        tableStart: table.start\n      });\n\n      for (var i = pmTableRect.bottom - 1;; i--) {\n        prosemirrorTables.removeRow(tr, pmTableRect, i);\n        if (i === pmTableRect.top) {\n          break;\n        }\n        pmTableRect.table = pmTableRect.tableStart ? tr.doc.nodeAt(pmTableRect.tableStart - 1) : tr.doc;\n        pmTableRect.map = prosemirrorTables.TableMap.get(pmTableRect.table);\n      }\n\n      return cloneTr(tr);\n    }\n  }\n  return tr;\n};\n\n// :: ($pos: ResolvedPos) → (tr: Transaction) → Transaction\n// Returns a new transaction that removes a column closest to a given `$pos`.\n//\n// ```javascript\n// dispatch(\n//   removeColumnClosestToPos(state.doc.resolve(3))(state.tr)\n// );\n// ```\nvar removeColumnClosestToPos = function removeColumnClosestToPos($pos) {\n  return function (tr) {\n    var rect = findCellRectClosestToPos($pos);\n    if (rect) {\n      return removeColumnAt(rect.left)(setTextSelection($pos.pos)(tr));\n    }\n    return tr;\n  };\n};\n\n// :: ($pos: ResolvedPos) → (tr: Transaction) → Transaction\n// Returns a new transaction that removes a row closest to a given `$pos`.\n//\n// ```javascript\n// dispatch(\n//   removeRowClosestToPos(state.doc.resolve(3))(state.tr)\n// );\n// ```\nvar removeRowClosestToPos = function removeRowClosestToPos($pos) {\n  return function (tr) {\n    var rect = findCellRectClosestToPos($pos);\n    if (rect) {\n      return removeRowAt(rect.top)(setTextSelection($pos.pos)(tr));\n    }\n    return tr;\n  };\n};\n\n// :: (columnIndex: number, cellTransform: (cell: {pos: number, start: number, node: ProseMirrorNode}, tr: Transaction) → Transaction, setCursorToLastCell: ?boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that maps a given `cellTransform` function to each cell in a column at a given `columnIndex`.\n// It will set the selection into the last cell of the column if `setCursorToLastCell` param is set to `true`.\n//\n// ```javascript\n// dispatch(\n//   forEachCellInColumn(0, (cell, tr) => emptyCell(cell, state.schema)(tr))(state.tr)\n// );\n// ```\nvar forEachCellInColumn = function forEachCellInColumn(columnIndex, cellTransform, setCursorToLastCell) {\n  return function (tr) {\n    var cells = getCellsInColumn(columnIndex)(tr.selection);\n    if (cells) {\n      for (var i = cells.length - 1; i >= 0; i--) {\n        tr = cellTransform(cells[i], tr);\n      }\n      if (setCursorToLastCell) {\n        var $pos = tr.doc.resolve(tr.mapping.map(cells[cells.length - 1].pos));\n        tr.setSelection(prosemirrorState.Selection.near($pos));\n      }\n      return cloneTr(tr);\n    }\n    return tr;\n  };\n};\n\n// :: (rowIndex: number, cellTransform: (cell: {pos: number, start: number, node: ProseMirrorNode}, tr: Transaction) → Transaction, setCursorToLastCell: ?boolean) → (tr: Transaction) → Transaction\n// Returns a new transaction that maps a given `cellTransform` function to each cell in a row at a given `rowIndex`.\n// It will set the selection into the last cell of the row if `setCursorToLastCell` param is set to `true`.\n//\n// ```javascript\n// dispatch(\n//   forEachCellInRow(0, (cell, tr) => setCellAttrs(cell, { background: 'red' })(tr))(state.tr)\n// );\n// ```\nvar forEachCellInRow = function forEachCellInRow(rowIndex, cellTransform, setCursorToLastCell) {\n  return function (tr) {\n    var cells = getCellsInRow(rowIndex)(tr.selection);\n    if (cells) {\n      for (var i = cells.length - 1; i >= 0; i--) {\n        tr = cellTransform(cells[i], tr);\n      }\n      if (setCursorToLastCell) {\n        var $pos = tr.doc.resolve(tr.mapping.map(cells[cells.length - 1].pos));\n        tr.setSelection(prosemirrorState.Selection.near($pos));\n      }\n    }\n    return tr;\n  };\n};\n\n// :: (cell: {pos: number, start: number, node: ProseMirrorNode}, attrs: Object) → (tr: Transaction) → Transaction\n// Returns a new transaction that sets given `attrs` to a given `cell`.\n//\n// ```javascript\n// dispatch(\n//   setCellAttrs(findCellClosestToPos($pos), { background: 'blue' })(tr);\n// );\n// ```\nvar setCellAttrs = function setCellAttrs(cell, attrs) {\n  return function (tr) {\n    if (cell) {\n      tr.setNodeMarkup(cell.pos, null, Object.assign({}, cell.node.attrs, attrs));\n      return cloneTr(tr);\n    }\n    return tr;\n  };\n};\n\n// :: (schema: Schema, rowsCount: ?number, colsCount: ?number, withHeaderRow: ?boolean, cellContent: ?Node) → Node\n// Returns a table node of a given size.\n// `withHeaderRow` defines whether the first row of the table will be a header row.\n// `cellContent` defines the content of each cell.\n//\n// ```javascript\n// const table = createTable(state.schema); // 3x3 table node\n// dispatch(\n//   tr.replaceSelectionWith(table).scrollIntoView()\n// );\n// ```\nvar createTable = function createTable(schema) {\n  var rowsCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  var colsCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n  var withHeaderRow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var cellContent = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n  var _tableNodeTypes = tableNodeTypes(schema),\n      tableCell = _tableNodeTypes.cell,\n      tableHeader = _tableNodeTypes.header_cell,\n      tableRow = _tableNodeTypes.row,\n      table = _tableNodeTypes.table;\n\n  var cells = [];\n  var headerCells = [];\n  for (var i = 0; i < colsCount; i++) {\n    cells.push(createCell(tableCell, cellContent));\n\n    if (withHeaderRow) {\n      headerCells.push(createCell(tableHeader, cellContent));\n    }\n  }\n\n  var rows = [];\n  for (var _i2 = 0; _i2 < rowsCount; _i2++) {\n    rows.push(tableRow.createChecked(null, withHeaderRow && _i2 === 0 ? headerCells : cells));\n  }\n\n  return table.createChecked(null, rows);\n};\n\n// :: ($pos: ResolvedPos) → ?{pos: number, start: number, node: ProseMirrorNode}\n// Iterates over parent nodes, returning a table cell or a table header node closest to a given `$pos`.\n//\n// ```javascript\n// const cell = findCellClosestToPos(state.selection.$from);\n// ```\nvar findCellClosestToPos = function findCellClosestToPos($pos) {\n  var predicate = function predicate(node) {\n    return node.type.spec.tableRole && /cell/i.test(node.type.spec.tableRole);\n  };\n  return findParentNodeClosestToPos($pos, predicate);\n};\n\n// :: ($pos: ResolvedPos) → ?{left: number, top: number, right: number, bottom: number}\n// Returns the rectangle spanning a cell closest to a given `$pos`.\n//\n// ```javascript\n// dispatch(\n//   findCellRectClosestToPos(state.selection.$from)\n// );\n// ```\nvar findCellRectClosestToPos = function findCellRectClosestToPos($pos) {\n  var cell = findCellClosestToPos($pos);\n  if (cell) {\n    var table = findTableClosestToPos($pos);\n    var map = prosemirrorTables.TableMap.get(table.node);\n    var cellPos = cell.pos - table.start;\n    return map.rectBetween(cellPos, cellPos);\n  }\n};\n\nvar filterCellsInRow = function filterCellsInRow(rowIndex, predicate) {\n  return function (tr) {\n    var foundCells = [];\n    var cells = getCellsInRow(rowIndex)(tr.selection);\n    if (cells) {\n      for (var j = cells.length - 1; j >= 0; j--) {\n        if (predicate(cells[j], tr)) {\n          foundCells.push(cells[j]);\n        }\n      }\n    }\n\n    return foundCells;\n  };\n};\n\n// :: (columnIndex: number) → (tr: Transaction) → {$anchor: ResolvedPos, $head: ResolvedPos, indexes: [number]}\n// Returns a range of rectangular selection spanning all merged cells around a column at index `columnIndex`.\n//\n// ```javascript\n// const range = getSelectionRangeInColumn(3)(state.tr);\n// ```\nvar getSelectionRangeInColumn = function getSelectionRangeInColumn(columnIndex) {\n  return function (tr) {\n    var startIndex = columnIndex;\n    var endIndex = columnIndex;\n\n    // looking for selection start column (startIndex)\n\n    var _loop2 = function _loop2(i) {\n      var cells = getCellsInColumn(i)(tr.selection);\n      if (cells) {\n        cells.forEach(function (cell) {\n          var maybeEndIndex = cell.node.attrs.colspan + i - 1;\n          if (maybeEndIndex >= startIndex) {\n            startIndex = i;\n          }\n          if (maybeEndIndex > endIndex) {\n            endIndex = maybeEndIndex;\n          }\n        });\n      }\n    };\n\n    for (var i = columnIndex; i >= 0; i--) {\n      _loop2(i);\n    }\n    // looking for selection end column (endIndex)\n\n    var _loop3 = function _loop3(i) {\n      var cells = getCellsInColumn(i)(tr.selection);\n      if (cells) {\n        cells.forEach(function (cell) {\n          var maybeEndIndex = cell.node.attrs.colspan + i - 1;\n          if (cell.node.attrs.colspan > 1 && maybeEndIndex > endIndex) {\n            endIndex = maybeEndIndex;\n          }\n        });\n      }\n    };\n\n    for (var i = columnIndex; i <= endIndex; i++) {\n      _loop3(i);\n    }\n\n    // filter out columns without cells (where all rows have colspan > 1 in the same column)\n    var indexes = [];\n    for (var i = startIndex; i <= endIndex; i++) {\n      var maybeCells = getCellsInColumn(i)(tr.selection);\n      if (maybeCells && maybeCells.length) {\n        indexes.push(i);\n      }\n    }\n    startIndex = indexes[0];\n    endIndex = indexes[indexes.length - 1];\n\n    var firstSelectedColumnCells = getCellsInColumn(startIndex)(tr.selection);\n    var firstRowCells = getCellsInRow(0)(tr.selection);\n    var $anchor = tr.doc.resolve(firstSelectedColumnCells[firstSelectedColumnCells.length - 1].pos);\n\n    var headCell = void 0;\n    for (var _i3 = endIndex; _i3 >= startIndex; _i3--) {\n      var columnCells = getCellsInColumn(_i3)(tr.selection);\n      if (columnCells && columnCells.length) {\n        for (var j = firstRowCells.length - 1; j >= 0; j--) {\n          if (firstRowCells[j].pos === columnCells[0].pos) {\n            headCell = columnCells[0];\n            break;\n          }\n        }\n        if (headCell) {\n          break;\n        }\n      }\n    }\n\n    var $head = tr.doc.resolve(headCell.pos);\n    return { $anchor: $anchor, $head: $head, indexes: indexes };\n  };\n};\n\n// :: (rowIndex: number) → (tr: Transaction) → {$anchor: ResolvedPos, $head: ResolvedPos, indexes: [number]}\n// Returns a range of rectangular selection spanning all merged cells around a row at index `rowIndex`.\n//\n// ```javascript\n// const range = getSelectionRangeInRow(3)(state.tr);\n// ```\nvar getSelectionRangeInRow = function getSelectionRangeInRow(rowIndex) {\n  return function (tr) {\n    var startIndex = rowIndex;\n    var endIndex = rowIndex;\n    // looking for selection start row (startIndex)\n\n    var _loop4 = function _loop4(i) {\n      var cells = getCellsInRow(i)(tr.selection);\n      cells.forEach(function (cell) {\n        var maybeEndIndex = cell.node.attrs.rowspan + i - 1;\n        if (maybeEndIndex >= startIndex) {\n          startIndex = i;\n        }\n        if (maybeEndIndex > endIndex) {\n          endIndex = maybeEndIndex;\n        }\n      });\n    };\n\n    for (var i = rowIndex; i >= 0; i--) {\n      _loop4(i);\n    }\n    // looking for selection end row (endIndex)\n\n    var _loop5 = function _loop5(i) {\n      var cells = getCellsInRow(i)(tr.selection);\n      cells.forEach(function (cell) {\n        var maybeEndIndex = cell.node.attrs.rowspan + i - 1;\n        if (cell.node.attrs.rowspan > 1 && maybeEndIndex > endIndex) {\n          endIndex = maybeEndIndex;\n        }\n      });\n    };\n\n    for (var i = rowIndex; i <= endIndex; i++) {\n      _loop5(i);\n    }\n\n    // filter out rows without cells (where all columns have rowspan > 1 in the same row)\n    var indexes = [];\n    for (var i = startIndex; i <= endIndex; i++) {\n      var maybeCells = getCellsInRow(i)(tr.selection);\n      if (maybeCells && maybeCells.length) {\n        indexes.push(i);\n      }\n    }\n    startIndex = indexes[0];\n    endIndex = indexes[indexes.length - 1];\n\n    var firstSelectedRowCells = getCellsInRow(startIndex)(tr.selection);\n    var firstColumnCells = getCellsInColumn(0)(tr.selection);\n    var $anchor = tr.doc.resolve(firstSelectedRowCells[firstSelectedRowCells.length - 1].pos);\n\n    var headCell = void 0;\n    for (var _i4 = endIndex; _i4 >= startIndex; _i4--) {\n      var rowCells = getCellsInRow(_i4)(tr.selection);\n      if (rowCells && rowCells.length) {\n        for (var j = firstColumnCells.length - 1; j >= 0; j--) {\n          if (firstColumnCells[j].pos === rowCells[0].pos) {\n            headCell = rowCells[0];\n            break;\n          }\n        }\n        if (headCell) {\n          break;\n        }\n      }\n    }\n\n    var $head = tr.doc.resolve(headCell.pos);\n    return { $anchor: $anchor, $head: $head, indexes: indexes };\n  };\n};\n\nexports.isNodeSelection = isNodeSelection;\nexports.canInsert = canInsert;\nexports.convertTableNodeToArrayOfRows = convertTableNodeToArrayOfRows;\nexports.convertArrayOfRowsToTableNode = convertArrayOfRowsToTableNode;\nexports.findParentNode = findParentNode;\nexports.findParentNodeClosestToPos = findParentNodeClosestToPos;\nexports.findParentDomRef = findParentDomRef;\nexports.hasParentNode = hasParentNode;\nexports.findParentNodeOfType = findParentNodeOfType;\nexports.findParentNodeOfTypeClosestToPos = findParentNodeOfTypeClosestToPos;\nexports.hasParentNodeOfType = hasParentNodeOfType;\nexports.findParentDomRefOfType = findParentDomRefOfType;\nexports.findSelectedNodeOfType = findSelectedNodeOfType;\nexports.findPositionOfNodeBefore = findPositionOfNodeBefore;\nexports.findDomRefAtPos = findDomRefAtPos;\nexports.flatten = flatten;\nexports.findChildren = findChildren;\nexports.findTextNodes = findTextNodes;\nexports.findInlineNodes = findInlineNodes;\nexports.findBlockNodes = findBlockNodes;\nexports.findChildrenByAttr = findChildrenByAttr;\nexports.findChildrenByType = findChildrenByType;\nexports.findChildrenByMark = findChildrenByMark;\nexports.contains = contains;\nexports.findTable = findTable;\nexports.isCellSelection = isCellSelection;\nexports.getSelectionRect = getSelectionRect;\nexports.isColumnSelected = isColumnSelected;\nexports.isRowSelected = isRowSelected;\nexports.isTableSelected = isTableSelected;\nexports.getCellsInColumn = getCellsInColumn;\nexports.getCellsInRow = getCellsInRow;\nexports.getCellsInTable = getCellsInTable;\nexports.selectColumn = selectColumn;\nexports.selectRow = selectRow;\nexports.selectTable = selectTable;\nexports.emptyCell = emptyCell;\nexports.addColumnAt = addColumnAt;\nexports.moveRow = moveRow;\nexports.moveColumn = moveColumn;\nexports.addRowAt = addRowAt;\nexports.cloneRowAt = cloneRowAt;\nexports.removeColumnAt = removeColumnAt;\nexports.removeRowAt = removeRowAt;\nexports.removeTable = removeTable;\nexports.removeSelectedColumns = removeSelectedColumns;\nexports.removeSelectedRows = removeSelectedRows;\nexports.removeColumnClosestToPos = removeColumnClosestToPos;\nexports.removeRowClosestToPos = removeRowClosestToPos;\nexports.forEachCellInColumn = forEachCellInColumn;\nexports.forEachCellInRow = forEachCellInRow;\nexports.setCellAttrs = setCellAttrs;\nexports.createTable = createTable;\nexports.findCellClosestToPos = findCellClosestToPos;\nexports.findCellRectClosestToPos = findCellRectClosestToPos;\nexports.getSelectionRangeInColumn = getSelectionRangeInColumn;\nexports.getSelectionRangeInRow = getSelectionRangeInRow;\nexports.removeParentNodeOfType = removeParentNodeOfType;\nexports.replaceParentNodeOfType = replaceParentNodeOfType;\nexports.removeSelectedNode = removeSelectedNode;\nexports.replaceSelectedNode = replaceSelectedNode;\nexports.setTextSelection = setTextSelection;\nexports.safeInsert = safeInsert;\nexports.setParentNodeMarkup = setParentNodeMarkup;\nexports.selectParentNodeOfType = selectParentNodeOfType;\nexports.removeNodeBefore = removeNodeBefore;\n//# sourceMappingURL=index.js.map\n","'use strict';\n\n\nvar emoji_html        = require('./lib/render');\nvar emoji_replace     = require('./lib/replace');\nvar normalize_opts    = require('./lib/normalize_opts');\n\n\nmodule.exports = function emoji_plugin(md, options) {\n  var defaults = {\n    defs: {},\n    shortcuts: {},\n    enabled: []\n  };\n\n  var opts = normalize_opts(md.utils.assign({}, defaults, options || {}));\n\n  md.renderer.rules.emoji = emoji_html;\n\n  md.core.ruler.push('emoji', emoji_replace(md, opts.defs, opts.shortcuts, opts.scanRE, opts.replaceRE));\n};\n","'use strict'\n\nmodule.exports = python\npython.displayName = 'python'\npython.aliases = ['py']\nfunction python(Prism) {\n  Prism.languages.python = {\n    comment: {\n      pattern: /(^|[^\\\\])#.*/,\n      lookbehind: true\n    },\n    'string-interpolation': {\n      pattern:\n        /(?:f|rf|fr)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n      greedy: true,\n      inside: {\n        interpolation: {\n          // \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n          pattern:\n            /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n          lookbehind: true,\n          inside: {\n            'format-spec': {\n              pattern: /(:)[^:(){}]+(?=\\}$)/,\n              lookbehind: true\n            },\n            'conversion-option': {\n              pattern: /![sra](?=[:}]$)/,\n              alias: 'punctuation'\n            },\n            rest: null\n          }\n        },\n        string: /[\\s\\S]+/\n      }\n    },\n    'triple-quoted-string': {\n      pattern: /(?:[rub]|rb|br)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n      greedy: true,\n      alias: 'string'\n    },\n    string: {\n      pattern: /(?:[rub]|rb|br)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n      greedy: true\n    },\n    function: {\n      pattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n      lookbehind: true\n    },\n    'class-name': {\n      pattern: /(\\bclass\\s+)\\w+/i,\n      lookbehind: true\n    },\n    decorator: {\n      pattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/im,\n      lookbehind: true,\n      alias: ['annotation', 'punctuation'],\n      inside: {\n        punctuation: /\\./\n      }\n    },\n    keyword:\n      /\\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n    builtin:\n      /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n    boolean: /\\b(?:True|False|None)\\b/,\n    number:\n      /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?\\b/i,\n    operator: /[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n    punctuation: /[{}[\\];(),.:]/\n  }\n  Prism.languages.python['string-interpolation'].inside[\n    'interpolation'\n  ].inside.rest = Prism.languages.python\n  Prism.languages.py = Prism.languages.python\n}\n","'use strict'\n\nmodule.exports = c\nc.displayName = 'c'\nc.aliases = []\nfunction c(Prism) {\n  Prism.languages.c = Prism.languages.extend('clike', {\n    comment: {\n      pattern:\n        /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n      greedy: true\n    },\n    'class-name': {\n      pattern:\n        /(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,\n      lookbehind: true\n    },\n    keyword:\n      /\\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\\b/,\n    function: /\\b[a-z_]\\w*(?=\\s*\\()/i,\n    number:\n      /(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,\n    operator: />>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/\n  })\n  Prism.languages.insertBefore('c', 'string', {\n    macro: {\n      // allow for multiline macro definitions\n      // spaces after the # character compile fine with gcc\n      pattern:\n        /(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,\n      lookbehind: true,\n      greedy: true,\n      alias: 'property',\n      inside: {\n        string: [\n          {\n            // highlight the path of the include statement as a string\n            pattern: /^(#\\s*include\\s*)<[^>]+>/,\n            lookbehind: true\n          },\n          Prism.languages.c['string']\n        ],\n        comment: Prism.languages.c['comment'],\n        'macro-name': [\n          {\n            pattern: /(^#\\s*define\\s+)\\w+\\b(?!\\()/i,\n            lookbehind: true\n          },\n          {\n            pattern: /(^#\\s*define\\s+)\\w+\\b(?=\\()/i,\n            lookbehind: true,\n            alias: 'function'\n          }\n        ],\n        // highlight macro directives as keywords\n        directive: {\n          pattern: /^(#\\s*)[a-z]+/,\n          lookbehind: true,\n          alias: 'keyword'\n        },\n        'directive-hash': /^#/,\n        punctuation: /##|\\\\(?=[\\r\\n])/,\n        expression: {\n          pattern: /\\S[\\s\\S]*/,\n          inside: Prism.languages.c\n        }\n      }\n    },\n    // highlight predefined macros as constants\n    constant:\n      /\\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\\b/\n  })\n  delete Prism.languages.c['boolean']\n}\n","'use strict'\n\nvar Info = require('./info')\nvar types = require('./types')\n\nmodule.exports = DefinedInfo\n\nDefinedInfo.prototype = new Info()\nDefinedInfo.prototype.defined = true\n\nvar checks = [\n  'boolean',\n  'booleanish',\n  'overloadedBoolean',\n  'number',\n  'commaSeparated',\n  'spaceSeparated',\n  'commaOrSpaceSeparated'\n]\nvar checksLength = checks.length\n\nfunction DefinedInfo(property, attribute, mask, space) {\n  var index = -1\n  var check\n\n  mark(this, 'space', space)\n\n  Info.call(this, property, attribute)\n\n  while (++index < checksLength) {\n    check = checks[index]\n    mark(this, check, (mask & types[check]) === types[check])\n  }\n}\n\nfunction mark(values, key, value) {\n  if (value) {\n    values[key] = value\n  }\n}\n","// Emoticons -> Emoji mapping.\n//\n// (!) Some patterns skipped, to avoid collisions\n// without increase matcher complicity. Than can change in future.\n//\n// Places to look for more emoticons info:\n//\n// - http://en.wikipedia.org/wiki/List_of_emoticons#Western\n// - https://github.com/wooorm/emoticon/blob/master/Support.md\n// - http://factoryjoe.com/projects/emoticons/\n//\n'use strict';\n\nmodule.exports = {\n  angry:            [ '>:(', '>:-(' ],\n  blush:            [ ':\")', ':-\")' ],\n  broken_heart:     [ '</3', '<\\\\3' ],\n  // :\\ and :-\\ not used because of conflict with markdown escaping\n  confused:         [ ':/', ':-/' ], // twemoji shows question\n  cry:              [ \":'(\", \":'-(\", ':,(', ':,-(' ],\n  frowning:         [ ':(', ':-(' ],\n  heart:            [ '<3' ],\n  imp:              [ ']:(', ']:-(' ],\n  innocent:         [ 'o:)', 'O:)', 'o:-)', 'O:-)', '0:)', '0:-)' ],\n  joy:              [ \":')\", \":'-)\", ':,)', ':,-)', \":'D\", \":'-D\", ':,D', ':,-D' ],\n  kissing:          [ ':*', ':-*' ],\n  laughing:         [ 'x-)', 'X-)' ],\n  neutral_face:     [ ':|', ':-|' ],\n  open_mouth:       [ ':o', ':-o', ':O', ':-O' ],\n  rage:             [ ':@', ':-@' ],\n  smile:            [ ':D', ':-D' ],\n  smiley:           [ ':)', ':-)' ],\n  smiling_imp:      [ ']:)', ']:-)' ],\n  sob:              [ \":,'(\", \":,'-(\", ';(', ';-(' ],\n  stuck_out_tongue: [ ':P', ':-P' ],\n  sunglasses:       [ '8-)', 'B-)' ],\n  sweat:            [ ',:(', ',:-(' ],\n  sweat_smile:      [ ',:)', ',:-)' ],\n  unamused:         [ ':s', ':-S', ':z', ':-Z', ':$', ':-$' ],\n  wink:             [ ';)', ';-)' ]\n};\n","'use strict'\n\nmodule.exports = parse\n\nvar search = /[#.]/g\n\n// Create a hast element from a simple CSS selector.\nfunction parse(selector, defaultTagName) {\n  var value = selector || ''\n  var name = defaultTagName || 'div'\n  var props = {}\n  var start = 0\n  var subvalue\n  var previous\n  var match\n\n  while (start < value.length) {\n    search.lastIndex = start\n    match = search.exec(value)\n    subvalue = value.slice(start, match ? match.index : value.length)\n\n    if (subvalue) {\n      if (!previous) {\n        name = subvalue\n      } else if (previous === '#') {\n        props.id = subvalue\n      } else if (props.className) {\n        props.className.push(subvalue)\n      } else {\n        props.className = [subvalue]\n      }\n\n      start += subvalue.length\n    }\n\n    if (match) {\n      previous = match[0]\n      start++\n    }\n  }\n\n  return {type: 'element', tagName: name, properties: props, children: []}\n}\n","'use strict'\n\nvar find = require('property-information/find')\nvar normalize = require('property-information/normalize')\nvar parseSelector = require('hast-util-parse-selector')\nvar spaces = require('space-separated-tokens').parse\nvar commas = require('comma-separated-tokens').parse\n\nmodule.exports = factory\n\nvar own = {}.hasOwnProperty\n\nfunction factory(schema, defaultTagName, caseSensitive) {\n  var adjust = caseSensitive ? createAdjustMap(caseSensitive) : null\n\n  return h\n\n  // Hyperscript compatible DSL for creating virtual hast trees.\n  function h(selector, properties) {\n    var node = parseSelector(selector, defaultTagName)\n    var children = Array.prototype.slice.call(arguments, 2)\n    var name = node.tagName.toLowerCase()\n    var property\n\n    node.tagName = adjust && own.call(adjust, name) ? adjust[name] : name\n\n    if (properties && isChildren(properties, node)) {\n      children.unshift(properties)\n      properties = null\n    }\n\n    if (properties) {\n      for (property in properties) {\n        addProperty(node.properties, property, properties[property])\n      }\n    }\n\n    addChild(node.children, children)\n\n    if (node.tagName === 'template') {\n      node.content = {type: 'root', children: node.children}\n      node.children = []\n    }\n\n    return node\n  }\n\n  function addProperty(properties, key, value) {\n    var info\n    var property\n    var result\n\n    // Ignore nullish and NaN values.\n    if (value === null || value === undefined || value !== value) {\n      return\n    }\n\n    info = find(schema, key)\n    property = info.property\n    result = value\n\n    // Handle list values.\n    if (typeof result === 'string') {\n      if (info.spaceSeparated) {\n        result = spaces(result)\n      } else if (info.commaSeparated) {\n        result = commas(result)\n      } else if (info.commaOrSpaceSeparated) {\n        result = spaces(commas(result).join(' '))\n      }\n    }\n\n    // Accept `object` on style.\n    if (property === 'style' && typeof value !== 'string') {\n      result = style(result)\n    }\n\n    // Class-names (which can be added both on the `selector` and here).\n    if (property === 'className' && properties.className) {\n      result = properties.className.concat(result)\n    }\n\n    properties[property] = parsePrimitives(info, property, result)\n  }\n}\n\nfunction isChildren(value, node) {\n  return (\n    typeof value === 'string' ||\n    'length' in value ||\n    isNode(node.tagName, value)\n  )\n}\n\nfunction isNode(tagName, value) {\n  var type = value.type\n\n  if (tagName === 'input' || !type || typeof type !== 'string') {\n    return false\n  }\n\n  if (typeof value.children === 'object' && 'length' in value.children) {\n    return true\n  }\n\n  type = type.toLowerCase()\n\n  if (tagName === 'button') {\n    return (\n      type !== 'menu' &&\n      type !== 'submit' &&\n      type !== 'reset' &&\n      type !== 'button'\n    )\n  }\n\n  return 'value' in value\n}\n\nfunction addChild(nodes, value) {\n  var index\n  var length\n\n  if (typeof value === 'string' || typeof value === 'number') {\n    nodes.push({type: 'text', value: String(value)})\n    return\n  }\n\n  if (typeof value === 'object' && 'length' in value) {\n    index = -1\n    length = value.length\n\n    while (++index < length) {\n      addChild(nodes, value[index])\n    }\n\n    return\n  }\n\n  if (typeof value !== 'object' || !('type' in value)) {\n    throw new Error('Expected node, nodes, or string, got `' + value + '`')\n  }\n\n  nodes.push(value)\n}\n\n// Parse a (list of) primitives.\nfunction parsePrimitives(info, name, value) {\n  var index\n  var length\n  var result\n\n  if (typeof value !== 'object' || !('length' in value)) {\n    return parsePrimitive(info, name, value)\n  }\n\n  length = value.length\n  index = -1\n  result = []\n\n  while (++index < length) {\n    result[index] = parsePrimitive(info, name, value[index])\n  }\n\n  return result\n}\n\n// Parse a single primitives.\nfunction parsePrimitive(info, name, value) {\n  var result = value\n\n  if (info.number || info.positiveNumber) {\n    if (!isNaN(result) && result !== '') {\n      result = Number(result)\n    }\n  } else if (info.boolean || info.overloadedBoolean) {\n    // Accept `boolean` and `string`.\n    if (\n      typeof result === 'string' &&\n      (result === '' || normalize(value) === normalize(name))\n    ) {\n      result = true\n    }\n  }\n\n  return result\n}\n\nfunction style(value) {\n  var result = []\n  var key\n\n  for (key in value) {\n    result.push([key, value[key]].join(': '))\n  }\n\n  return result.join('; ')\n}\n\nfunction createAdjustMap(values) {\n  var length = values.length\n  var index = -1\n  var result = {}\n  var value\n\n  while (++index < length) {\n    value = values[index]\n    result[value.toLowerCase()] = value\n  }\n\n  return result\n}\n","'use strict'\nvar refractorC = require('./c.js')\nmodule.exports = objectivec\nobjectivec.displayName = 'objectivec'\nobjectivec.aliases = ['objc']\nfunction objectivec(Prism) {\n  Prism.register(refractorC)\n  Prism.languages.objectivec = Prism.languages.extend('c', {\n    string:\n      /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1|@\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"/,\n    keyword:\n      /\\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\\b/,\n    operator: /-[->]?|\\+\\+?|!=?|<<?=?|>>?=?|==?|&&?|\\|\\|?|[~^%?*\\/@]/\n  })\n  delete Prism.languages.objectivec['class-name']\n  Prism.languages.objc = Prism.languages.objectivec\n}\n","'use strict'\n\nmodule.exports = yaml\nyaml.displayName = 'yaml'\nyaml.aliases = ['yml']\nfunction yaml(Prism) {\n  ;(function (Prism) {\n    // https://yaml.org/spec/1.2/spec.html#c-ns-anchor-property\n    // https://yaml.org/spec/1.2/spec.html#c-ns-alias-node\n    var anchorOrAlias = /[*&][^\\s[\\]{},]+/ // https://yaml.org/spec/1.2/spec.html#c-ns-tag-property\n    var tag =\n      /!(?:<[\\w\\-%#;/?:@&=+$,.!~*'()[\\]]+>|(?:[a-zA-Z\\d-]*!)?[\\w\\-%#;/?:@&=+$.~*'()]+)?/ // https://yaml.org/spec/1.2/spec.html#c-ns-properties(n,c)\n    var properties =\n      '(?:' +\n      tag.source +\n      '(?:[ \\t]+' +\n      anchorOrAlias.source +\n      ')?|' +\n      anchorOrAlias.source +\n      '(?:[ \\t]+' +\n      tag.source +\n      ')?)' // https://yaml.org/spec/1.2/spec.html#ns-plain(n,c)\n    // This is a simplified version that doesn't support \"#\" and multiline keys\n    // All these long scarry character classes are simplified versions of YAML's characters\n    var plainKey =\n      /(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ \\t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(\n        /<PLAIN>/g,\n        function () {\n          return /[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]/\n            .source\n        }\n      )\n    var string = /\"(?:[^\"\\\\\\r\\n]|\\\\.)*\"|'(?:[^'\\\\\\r\\n]|\\\\.)*'/.source\n    /**\n     *\n     * @param {string} value\n     * @param {string} [flags]\n     * @returns {RegExp}\n     */\n    function createValuePattern(value, flags) {\n      flags = (flags || '').replace(/m/g, '') + 'm' // add m flag\n      var pattern =\n        /([:\\-,[{]\\s*(?:\\s<<prop>>[ \\t]+)?)(?:<<value>>)(?=[ \\t]*(?:$|,|\\]|\\}|(?:[\\r\\n]\\s*)?#))/.source\n          .replace(/<<prop>>/g, function () {\n            return properties\n          })\n          .replace(/<<value>>/g, function () {\n            return value\n          })\n      return RegExp(pattern, flags)\n    }\n    Prism.languages.yaml = {\n      scalar: {\n        pattern: RegExp(\n          /([\\-:]\\s*(?:\\s<<prop>>[ \\t]+)?[|>])[ \\t]*(?:((?:\\r?\\n|\\r)[ \\t]+)\\S[^\\r\\n]*(?:\\2[^\\r\\n]+)*)/.source.replace(\n            /<<prop>>/g,\n            function () {\n              return properties\n            }\n          )\n        ),\n        lookbehind: true,\n        alias: 'string'\n      },\n      comment: /#.*/,\n      key: {\n        pattern: RegExp(\n          /((?:^|[:\\-,[{\\r\\n?])[ \\t]*(?:<<prop>>[ \\t]+)?)<<key>>(?=\\s*:\\s)/.source\n            .replace(/<<prop>>/g, function () {\n              return properties\n            })\n            .replace(/<<key>>/g, function () {\n              return '(?:' + plainKey + '|' + string + ')'\n            })\n        ),\n        lookbehind: true,\n        greedy: true,\n        alias: 'atrule'\n      },\n      directive: {\n        pattern: /(^[ \\t]*)%.+/m,\n        lookbehind: true,\n        alias: 'important'\n      },\n      datetime: {\n        pattern: createValuePattern(\n          /\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ \\t]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ \\t]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?/\n            .source\n        ),\n        lookbehind: true,\n        alias: 'number'\n      },\n      boolean: {\n        pattern: createValuePattern(/true|false/.source, 'i'),\n        lookbehind: true,\n        alias: 'important'\n      },\n      null: {\n        pattern: createValuePattern(/null|~/.source, 'i'),\n        lookbehind: true,\n        alias: 'important'\n      },\n      string: {\n        pattern: createValuePattern(string),\n        lookbehind: true,\n        greedy: true\n      },\n      number: {\n        pattern: createValuePattern(\n          /[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)/\n            .source,\n          'i'\n        ),\n        lookbehind: true\n      },\n      tag: tag,\n      important: anchorOrAlias,\n      punctuation: /---|[:[\\]{}\\-,|>?]|\\.\\.\\./\n    }\n    Prism.languages.yml = Prism.languages.yaml\n  })(Prism)\n}\n","'use strict'\n\nmodule.exports = sql\nsql.displayName = 'sql'\nsql.aliases = []\nfunction sql(Prism) {\n  Prism.languages.sql = {\n    comment: {\n      pattern: /(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|(?:--|\\/\\/|#).*)/,\n      lookbehind: true\n    },\n    variable: [\n      {\n        pattern: /@([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])+\\1/,\n        greedy: true\n      },\n      /@[\\w.$]+/\n    ],\n    string: {\n      pattern: /(^|[^@\\\\])(\"|')(?:\\\\[\\s\\S]|(?!\\2)[^\\\\]|\\2\\2)*\\2/,\n      greedy: true,\n      lookbehind: true\n    },\n    function:\n      /\\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\\s*\\()/i,\n    // Should we highlight user defined functions too?\n    keyword:\n      /\\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\\b/i,\n    boolean: /\\b(?:TRUE|FALSE|NULL)\\b/i,\n    number: /\\b0x[\\da-f]+\\b|\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+\\b/i,\n    operator:\n      /[-+*\\/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\\b/i,\n    punctuation: /[;[\\]()`,.]/\n  }\n}\n","'use strict'\n\nmodule.exports = caseSensitiveTransform\n\nfunction caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","'use strict'\n\nexports.parse = parse\nexports.stringify = stringify\n\nvar comma = ','\nvar space = ' '\nvar empty = ''\n\n// Parse comma-separated tokens to an array.\nfunction parse(value) {\n  var values = []\n  var input = String(value || empty)\n  var index = input.indexOf(comma)\n  var lastIndex = 0\n  var end = false\n  var val\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    val = input.slice(lastIndex, index).trim()\n\n    if (val || !end) {\n      values.push(val)\n    }\n\n    lastIndex = index + 1\n    index = input.indexOf(comma, lastIndex)\n  }\n\n  return values\n}\n\n// Compile an array to comma-separated tokens.\n// `options.padLeft` (default: `true`) pads a space left of each token, and\n// `options.padRight` (default: `false`) pads a space to the right of each token.\nfunction stringify(values, options) {\n  var settings = options || {}\n  var left = settings.padLeft === false ? empty : space\n  var right = settings.padRight ? space : empty\n\n  // Ensure the last empty entry is seen.\n  if (values[values.length - 1] === empty) {\n    values = values.concat(empty)\n  }\n\n  return values.join(right + comma + left).trim()\n}\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","'use strict'\n\nvar caseSensitiveTransform = require('./case-sensitive-transform')\n\nmodule.exports = caseInsensitiveTransform\n\nfunction caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","'use strict'\n\nvar xtend = require('xtend')\nvar Schema = require('./schema')\n\nmodule.exports = merge\n\nfunction merge(definitions) {\n  var length = definitions.length\n  var property = []\n  var normal = []\n  var index = -1\n  var info\n  var space\n\n  while (++index < length) {\n    info = definitions[index]\n    property.push(info.property)\n    normal.push(info.normal)\n    space = info.space\n  }\n\n  return new Schema(\n    xtend.apply(null, property),\n    xtend.apply(null, normal),\n    space\n  )\n}\n"],"sourceRoot":""}