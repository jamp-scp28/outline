(window.webpackJsonp=window.webpackJsonp||[]).push([["collection"],{"916u":function(e,t,n){"use strict";n.d(t,"a",(function(){return useCommandBarActions}));n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("pjDv"),n("+2oP"),n("sMBO"),n("rB9j");var r=n("mRsi"),o=n.n(r),a=(n("2B1R"),n("ma9I"),n("oVuX"),n("XLUe")),i=n("Ty5D"),c=n("b2r9"),l=n("khlH");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function useCommandBarActions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(i.i)(),r=Object(l.a)({isCommandBar:!0}),u=o()(e.map((function(e){return Object(c.a)(e,r)})));Object(a.useRegisterActions)(u,[u.map((function(e){return e.id})).join(""),n.pathname].concat(_toConsumableArray(t)))}},GqKv:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("pjDv"),n("5s+n"),n("3KgV"),n("ls82"),n("sMBO"),n("rB9j"),n("UxlC"),n("oVuX"),n("ToJy");var r=n("TyAF"),o=n("q1tI"),a=n("9Koi"),i=n("Ty5D"),c=n("vOnD"),l=n("ewKk"),u=n("vF4B"),s=n("xfcy"),d=n("TmSf"),p=n("sEfC"),m=n.n(p),f=n("ufqH"),y=n("f0Xm"),b=n("W0Gj"),h=n("hzRC"),g=n("IeSd"),v=n("JGNK"),x=n("e0LR"),_=n("1RBS"),E=n("Y8J7");function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=Object(c.default)(v.a).withConfig({displayName:"CollectionDescription__Disclosure",componentId:"l7fh8g-0"})(["opacity:0;color:",";position:absolute;top:calc(25vh - 50px);left:50%;z-index:1;transform:rotate(-90deg) translateX(-50%);transition:opacity 100ms ease-in-out;&:focus,&:hover{opacity:1;}&:active{color:",";}"],(function(e){return e.theme.divider}),(function(e){return e.theme.sidebarText})),j=Object(c.default)(b.a).withConfig({displayName:"CollectionDescription__Placeholder",componentId:"l7fh8g-1"})(["color:",";cursor:text;min-height:27px;"],(function(e){return e.theme.placeholder})),C=c.default.div.withConfig({displayName:"CollectionDescription__MaxHeight",componentId:"l7fh8g-2"})(['position:relative;max-height:25vh;overflow:hidden;margin:-12px -8px -8px;padding:8px;&[data-editing="true"],&[data-expanded="true"]{max-height:initial;overflow:initial;',"{top:initial;bottom:0;transform:rotate(90deg) translateX(-50%);}}&:hover ","{opacity:1;}"],O,O),w=c.default.div.withConfig({displayName:"CollectionDescription__Input",componentId:"l7fh8g-3"})(["margin:-8px;padding:8px;border-radius:8px;transition:",';&:after{content:"";position:absolute;top:calc(25vh - 50px);left:0;right:0;height:50px;pointer-events:none;background:linear-gradient( 180deg,'," 0%,",' 100% );}&[data-editing="true"],&[data-expanded="true"]{&:after{background:transparent;}}&[data-editing="true"]{background:',";}.block-menu-trigger,.heading-anchor{display:none !important;}"],(function(e){return e.theme.backgroundTransition}),(function(e){return Object(f.d)(1,e.theme.background)}),(function(e){return e.theme.background}),(function(e){return e.theme.secondaryBackground})),I=Object(r.c)((function CollectionDescription(e){var t=e.collection,n=Object(_.a)().collections,r=Object(E.a)().showToast,i=Object(a.a)().t,c=_slicedToArray(o.useState(!1),2),l=c[0],u=c[1],s=_slicedToArray(o.useState(!1),2),d=s[0],p=s[1],f=_slicedToArray(o.useState(!1),2),b=f[0],v=f[1],I=Object(x.a)(t.id),A=o.useCallback((function(){p(!0)}),[]),k=o.useCallback((function(){p(!1)}),[]),T=o.useCallback((function(e){e.preventDefault(),l&&document.activeElement&&document.activeElement.blur(),u(!l)}),[l]),D=o.useMemo((function(){return m()(function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function _next(e){asyncGeneratorStep(a,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.save({description:e()});case 3:v(!1),n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),r(i("Sorry, an error occurred saving the collection",{type:"error"})),n.t0;case 10:case"end":return n.stop()}}),_callee,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),1e3)}),[t,r,i]),S=o.useCallback((function(e){v(!0),D(e)}),[D]);o.useEffect((function(){p(!1)}),[t.id]);var P="".concat(i("Add a description"),"…"),N=d||b?"draft":t.updatedAt;return o.createElement(C,{"data-editing":d,"data-expanded":l},o.createElement(w,{"data-editing":d,"data-expanded":l},o.createElement("span",{onClick:I.update?A:void 0},n.isSaving&&o.createElement(g.b,null),t.hasDescription||d||b?o.createElement(o.Suspense,{fallback:o.createElement(j,{onClick:function onClick(){}},"Loading…")},o.createElement(h.a,{key:N,defaultValue:t.description||"",onChange:S,placeholder:P,readOnly:!d,autoFocus:d,onBlur:k,maxLength:1e3,embedsDisabled:!0,readOnlyWriteCheckboxes:!0})):I.update&&o.createElement(j,{onClick:function onClick(){}},P))),!d&&o.createElement(O,{onClick:T,"aria-label":i(l?"Collapse":"Expand"),size:30},o.createElement(y.a,null)))})),A=n("cgb6"),k=n("PiAM"),T=n("x+Tx"),D=n("4uAy"),S=n("RxHw"),P=n("g3N8"),N=n("RgOh"),L=n("dK6A"),R=n("RTCn"),B=n("jJBh"),z=n("FvP1"),M=n("2M11"),H=n("916u"),U=n("R9tu"),F=(n("zKZe"),n("tsqv")),K=n("55Ip"),$=n("9TNq"),G=n("ME/M"),W=n("4IYQ"),q=n("aQKp");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=Object(r.c)((function Actions_Actions(e){var t=e.collection,n=Object(a.a)().t,r=Object(x.a)(t.id);return o.createElement(o.Fragment,null,!t.isEmpty&&o.createElement(o.Fragment,null,o.createElement($.a,null,o.createElement(W.a,{source:"collection",placeholder:"".concat(n("Search in collection"),"…"),label:"".concat(n("Search in collection"),"…"),collectionId:t.id})),r.update&&o.createElement(o.Fragment,null,o.createElement($.a,null,o.createElement(z.a,{tooltip:n("New document"),shortcut:"n",delay:500,placement:"bottom"},o.createElement(G.b,{as:K.a,to:t?Object(U.m)(t.id):"",disabled:!t,icon:o.createElement(F.PlusIcon,null)},n("New doc")))),o.createElement($.b,null))),o.createElement($.a,null,o.createElement(q.a,{collection:t,placement:"bottom-end",label:function label(e){return o.createElement(G.b,_extends({"aria-label":n("Collection menu"),icon:o.createElement(F.MoreIcon,null)},e,{borderOnHover:!0,neutral:!0,small:!0}))}})))})),X=n("yzbm"),Z=n("yppz"),V=n("PgeF");function DropToImport_extends(){return(DropToImport_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=Object(c.default)(Z.a).withConfig({displayName:"DropToImport__DropMessage",componentId:"sc-1z0atqw-0"})(["opacity:0;pointer-events:none;"]),Q=c.default.div.withConfig({displayName:"DropToImport__DropzoneContainer",componentId:"sc-1z0atqw-1"})(["outline-color:transparent !important;height:calc(100% - 56px);position:relative;",""],(function(e){var t=e.isDragActive,n=e.theme;return t&&Object(c.css)(['&:after{display:block;content:"";position:absolute;top:24px;right:24px;left:24px;height:85vh;background:',";border-radius:8px;border:1px dashed ",";box-shadow:0 0 0 100px ",";z-index:1;}","{opacity:1;z-index:2;position:absolute;text-align:center;top:50vh;left:50%;transform:translateX(-50%);}"],n.background,n.divider,n.background,Y)})),ee=Object(r.c)((function DropToImport(e){var t=e.children,n=e.disabled,r=e.accept,i=e.collectionId,c=Object(V.a)(i),l=c.handleFiles,u=c.isImporting,s=Object(E.a)().showToast,d=Object(a.a)().t,p=o.useCallback((function(){s(d("Document not supported – try Markdown, Plain text, HTML, or Word"),{type:"error"})}),[d,s]);return o.createElement(X.a,{accept:r,onDropAccepted:l,onDropRejected:p,disabled:n,noClick:!0,multiple:!0},(function(e){var n=e.getRootProps,r=e.getInputProps,a=e.isDragActive;return o.createElement(Q,DropToImport_extends({},n(),{isDragActive:a,tabIndex:-1}),o.createElement("input",r()),u&&o.createElement(g.b,null),t,o.createElement(Y,null,d("Drop documents to import")))}))})),te=n("3k8n"),ne=n("5pTz"),re=n("KFZt"),oe=n("9vYF"),ae=n("1BaO");function Empty_slicedToArray(e,t){return function Empty_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Empty_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function Empty_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Empty_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Empty_arrayLikeToArray(e,t)}(e,t)||function Empty_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Empty_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie,ce=Object(c.default)(re.a).withConfig({displayName:"Empty__Centered",componentId:"sc-15eg579-0"})(["text-align:center;margin:40vh auto 0;max-width:380px;transform:translateY(-50%);"]),le=Object(c.default)(re.a).withConfig({displayName:"Empty",componentId:"sc-15eg579-1"})(["justify-content:center;margin:10px 0;"]),ue=Object(r.c)((function EmptyCollection(e){var t=e.collection,n=Object(a.a)().t,r=Object(x.a)(t.id),i=t?t.name:"",c=Empty_slicedToArray(Object(ae.a)(),3),l=c[0],u=c[1],s=c[2];return o.createElement(ce,{column:!0},o.createElement(Z.a,{type:"secondary"},o.createElement(te.a,{defaults:"<em>{{ collectionName }}</em> doesn’t contain any documents yet.",values:{collectionName:i},components:{em:o.createElement("strong",null)}}),o.createElement("br",null),r.update&&o.createElement(te.a,null,"Get started by creating a new one!")),r.update&&o.createElement(le,null,o.createElement(K.a,{to:Object(U.m)(t.id)},o.createElement(G.b,{icon:o.createElement(F.NewDocumentIcon,{color:"currentColor"})},n("Create a document"))),"  ",o.createElement(G.b,{onClick:u,neutral:!0},n("Manage permissions"),"…")),o.createElement(oe.a,{title:n("Collection permissions"),onRequestClose:s,isOpen:l},o.createElement(ne.a,{collection:t})))}));function Collection_asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Collection_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function _next(e){Collection_asyncGeneratorStep(a,r,o,_next,_throw,"next",e)}function _throw(e){Collection_asyncGeneratorStep(a,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function Collection_slicedToArray(e,t){return function Collection_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Collection_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function Collection_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Collection_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Collection_arrayLikeToArray(e,t)}(e,t)||function Collection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Collection_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=Object(c.default)(L.b).withConfig({displayName:"Collection__StarButton",componentId:"sc-1blfuo9-0"})(["position:relative;top:0;left:10px;overflow:hidden;width:24px;svg{position:relative;left:-4px;}"]),de=Object(c.default)(k.a).withConfig({displayName:"Collection__HeadingWithIcon",componentId:"sc-1blfuo9-1"})(["display:flex;align-items:center;","{opacity:",";}&:hover{","{opacity:0.5;&:hover{opacity:1;}}}",";"],L.a,(function(e){return e.$isStarred?"1 !important":0}),L.a,Object(l.a)("tablet")(ie||(ie=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-left: -40px;\n  "])))),pe=Object(c.default)(A.a).withConfig({displayName:"Collection__HeadingIcon",componentId:"sc-1blfuo9-2"})(["align-self:flex-start;flex-shrink:0;"]);t.default=Object(r.c)((function CollectionScene(){var e=Object(i.j)(),t=Object(i.h)(),n=Object(i.k)(),r=Object(a.a)().t,c=Object(_.a)(),l=c.documents,p=c.pins,m=c.collections,f=c.ui,y=Collection_slicedToArray(o.useState(!1),2),b=y[0],h=y[1],g=Collection_slicedToArray(o.useState(),2),v=g[0],E=g[1],O=e.id||"",j=m.getByUrl(O)||m.get(O),C=Object(x.a)((null==j?void 0:j.id)||"");return o.useEffect((function(){if(null!=j&&j.name){var e=Object(U.t)(n.url,j);n.url!==e&&t.replace(e,t.location.state)}}),[j,null==j?void 0:j.name,t,O,n.url]),o.useEffect((function(){return j&&f.setActiveCollection(j.id),function(){return f.setActiveCollection(void 0)}}),[f,j]),o.useEffect((function(){E(void 0),j&&p.fetchPage({collectionId:j.id})}),[p,j]),o.useEffect((function(){function _load(){return(_load=Collection_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(C&&j||v||b){e.next=14;break}return e.prev=1,E(void 0),h(!0),e.next=6,m.fetch(O);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),E(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),_callee,null,[[1,8,11,14]])})))).apply(this,arguments)}!function load(){return _load.apply(this,arguments)}()}),[m,b,j,v,O,C]),Object(H.a)([M.b],f.activeCollectionId?[f.activeCollectionId]:void 0),!j&&v?o.createElement(u.default,{notFound:!0}):j?o.createElement(N.a,{key:j.id,centered:!1,textTitle:j.name,title:o.createElement(o.Fragment,null,o.createElement(A.a,{collection:j,expanded:!0})," ",j.name),actions:o.createElement(J,{collection:j})},o.createElement(ee,{accept:l.importFileTypes.join(", "),disabled:!C.update,collectionId:j.id},o.createElement(d.a,{withStickyHeader:!0},j.isEmpty?o.createElement(ue,{collection:j}):o.createElement(o.Fragment,null,o.createElement(de,{$isStarred:j.isStarred},o.createElement(pe,{collection:j,size:40,expanded:!0}),j.name,!j.permission&&o.createElement(z.a,{tooltip:r("This collection is only visible to those given access"),placement:"bottom"},o.createElement(s.a,null,r("Private"))),o.createElement(se,{collection:j,size:32})),o.createElement(I,{collection:j}),o.createElement(S.a,{pins:p.inCollection(j.id),canUpdate:C.update}),o.createElement(B.a,null,o.createElement(R.a,{to:Object(U.b)(j.url),exact:!0},r("Documents")),o.createElement(R.a,{to:Object(U.b)(j.url,"updated"),exact:!0},r("Recently updated")),o.createElement(R.a,{to:Object(U.b)(j.url,"published"),exact:!0},r("Recently published")),o.createElement(R.a,{to:Object(U.b)(j.url,"old"),exact:!0},r("Least recently updated")),o.createElement(R.a,{to:Object(U.b)(j.url,"alphabetical"),exact:!0},r("A–Z"))),o.createElement(i.e,null,o.createElement(i.c,{path:Object(U.b)(j.url,"alphabetical")},o.createElement(D.a,{key:"alphabetical",documents:l.alphabeticalInCollection(j.id),fetch:l.fetchAlphabetical,options:{collectionId:j.id}})),o.createElement(i.c,{path:Object(U.b)(j.url,"old")},o.createElement(D.a,{key:"old",documents:l.leastRecentlyUpdatedInCollection(j.id),fetch:l.fetchLeastRecentlyUpdated,options:{collectionId:j.id}})),o.createElement(i.c,{path:Object(U.b)(j.url,"recent")},o.createElement(i.b,{to:Object(U.b)(j.url,"published")})),o.createElement(i.c,{path:Object(U.b)(j.url,"published")},o.createElement(D.a,{key:"published",documents:l.recentlyPublishedInCollection(j.id),fetch:l.fetchRecentlyPublished,options:{collectionId:j.id},showPublished:!0})),o.createElement(i.c,{path:Object(U.b)(j.url,"updated")},o.createElement(D.a,{key:"updated",documents:l.recentlyUpdatedInCollection(j.id),fetch:l.fetchRecentlyUpdated,options:{collectionId:j.id}})),o.createElement(i.c,{path:Object(U.b)(j.url),exact:!0},o.createElement(D.a,{documents:l.rootInCollection(j.id),fetch:l.fetchPage,options:{collectionId:j.id,parentDocumentId:null,sort:j.sort.field,direction:j.sort.direction},showParentDocuments:!0}))))))):o.createElement(d.a,null,o.createElement(k.a,null,o.createElement(P.a,{height:35})),o.createElement(T.a,{count:5}))}))},RxHw:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("sMBO"),n("pjDv"),n("rB9j"),n("zKZe"),n("3KgV"),n("2B1R"),n("yXV3"),n("fbCW"),n("07d7");var r=n("iAHV"),o=n("k5cH"),a=n("XkiZ"),i=n("gmx+"),c=n.n(i),l=n("8PNI"),u=n("TyAF"),s=n("q1tI"),d=n("vOnD"),p=n("ewKk"),m=(n("JfAA"),n("4sNb")),f=n("M4ns"),y=n("tsqv"),b=n("ufqH"),h=n("9Koi"),g=n("55Ip"),v=n("KFZt"),x=n("JGNK"),_=n("Jrrx"),E=n("1RBS"),O=n("cgb6"),j=n("yppz"),C=n("FvP1");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w,I,A=Object(d.default)(x.a).withConfig({displayName:"DocumentCard__PinButton",componentId:"sc-15yros6-0"})(["color:",";&:hover,&:active{color:",";}"],(function(e){return e.theme.white75}),(function(e){return e.theme.white})),k=Object(d.default)(v.a).withConfig({displayName:"DocumentCard__Actions",componentId:"sc-15yros6-1"})(["position:absolute;top:12px;right:",";left:",";opacity:0;transition:opacity 100ms ease-in-out;z-index:2;"],(function(e){return"rtl"===e.dir?"auto":"12px"}),(function(e){return"rtl"===e.dir?"12px":"auto"})),T=d.default.div.withConfig({displayName:"DocumentCard__DragHandle",componentId:"sc-15yros6-2"})(["cursor:",";padding:0 4px;font-weight:bold;color:",";line-height:1.35;&:hover,&:active{color:",";}"],(function(e){return e.$isDragging?"grabbing":"grab"}),(function(e){return e.theme.white75}),(function(e){return e.theme.white})),D=f.a.div,S=d.default.div.withConfig({displayName:"DocumentCard__Reorderable",componentId:"sc-15yros6-3"})(["position:relative;user-select:none;border-radius:8px;z-index:",";transform:scale(",");box-shadow:",";&:hover ","{opacity:1;}"],(function(e){return e.$isDragging?1:"inherit"}),(function(e){return e.$isDragging?"1.025":"1"}),(function(e){return e.$isDragging?"0 0 20px rgba(0,0,0,0.3);":"0 0 0 rgba(0,0,0,0)"}),k),P=Object(d.default)(v.a).withConfig({displayName:"DocumentCard__Content",componentId:"sc-15yros6-4"})(["min-width:0;height:100%;position:relative;z-index:1;"]),N=Object(d.default)(j.a).withConfig({displayName:"DocumentCard__DocumentMeta",componentId:"sc-15yros6-5"})(["display:flex;align-items:center;gap:2px;color:",";margin:0;"],(function(e){return Object(b.d)(.25,e.theme.white)})),L=Object(d.default)(g.a).withConfig({displayName:"DocumentCard__DocumentLink",componentId:"sc-15yros6-6"})(["position:relative;display:block;padding:12px;border-radius:8px;height:160px;background:",";color:",';transition:transform 50ms ease-in-out;&:after{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(transparent,rgba(0,0,0,0.1));border-radius:8px;pointer-events:none;}',"{opacity:0;}&:hover,&:active,&:focus,&:focus-within{","{opacity:1;}","}",""],(function(e){return e.theme.slate}),(function(e){return e.theme.white}),k,k,(function(e){return!e.$isDragging&&Object(d.css)(["&:after{background:rgba(0,0,0,0.1);}"])}),(function(e){return e.$menuOpen&&Object(d.css)(["background:",";","{opacity:1;}"],(function(e){return e.theme.listItemHoverBackground}),k)})),R=d.default.h3.withConfig({displayName:"DocumentCard__Heading",componentId:"sc-15yros6-7"})(["margin-top:0;margin-bottom:0.35em;line-height:22px;max-height:66px;overflow:hidden;color:",';font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;'],(function(e){return e.theme.white})),B=Object(u.c)((function DocumentCard(e){var t=Object(h.a)().t,n=Object(E.a)().collections,r=e.document,o=e.pin,i=e.canUpdatePin,c=e.isDraggable,l=n.get(r.collectionId),u=Object(a.e)({id:e.document.id}),d=u.attributes,p=u.listeners,f=u.setNodeRef,g=u.transform,v=u.transition,x=u.isDragging,j={transform:m.a.Transform.toString(g),transition:v},w=s.useCallback((function(){null==o||o.delete()}),[o]);return s.createElement(S,_extends({ref:f,style:j,$isDragging:x},d),s.createElement(D,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{type:"spring",bounce:.6}},exit:{opacity:0,scale:.95}},s.createElement(L,{dir:r.dir,style:{background:null!=l&&l.color&&Object(b.b)(l.color)<.6?l.color:void 0},$isDragging:x,to:{pathname:r.url,state:{title:r.titleWithDefault}}},s.createElement(P,{justify:"space-between",column:!0},null==l||!l.icon||"collection"===(null==l?void 0:l.icon)||null!=o&&o.collectionId?s.createElement(y.DocumentIcon,{color:"white"}):s.createElement(O.a,{collection:l,color:"white"}),s.createElement("div",null,s.createElement(R,{dir:r.dir},r.titleWithDefault),s.createElement(N,{size:"xsmall"},s.createElement(y.ClockIcon,{color:"currentColor",size:18})," ",s.createElement(_.a,{dateTime:r.updatedAt,addSuffix:!0,shorten:!0}))))),i&&s.createElement(k,{dir:r.dir,gap:4},!x&&o&&s.createElement(C.a,{tooltip:t("Unpin")},s.createElement(A,{onClick:w,"aria-label":t("Unpin")},s.createElement(y.CloseIcon,{color:"currentColor"}))),c&&s.createElement(T,_extends({$isDragging:x},p),":::"))))})),z=["limit","pins","canUpdate"];function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function PinnedDocuments_extends(){return(PinnedDocuments_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var M=d.default.div.withConfig({displayName:"PinnedDocuments__List",componentId:"cksbwe-0"})(["display:grid;column-gap:8px;row-gap:8px;grid-template-columns:repeat(2,minmax(0,1fr));padding:0;list-style:none;margin:16px 0 32px;&:empty{display:none;}",";",";"],Object(p.a)("tablet")(w||(w=_taggedTemplateLiteral(["\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  "]))),Object(p.a)("desktop")(I||(I=_taggedTemplateLiteral(["\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  "]))));t.a=Object(u.c)((function PinnedDocuments(e){e.limit;var t=e.pins,n=e.canUpdate,i=_objectWithoutProperties(e,z),u=Object(E.a)(),d=u.documents,p=u.collections,m=_slicedToArray(s.useState(t.map((function(e){return e.documentId}))),2),f=m[0],y=m[1];s.useEffect((function(){y(t.map((function(e){return e.documentId})))}),[t]);var b=Object(r.n)(Object(r.m)(r.d),Object(r.m)(r.c,{coordinateGetter:a.d})),h=s.useCallback((function(e){var n=e.active,r=e.over;r&&n.id!==r.id&&y((function(e){var o,i,l,u=e.indexOf(n.id),s=e.indexOf(r.id),d=(null===(o=t[s])||void 0===o?void 0:o.index)||null,p=(null===(i=t[s+1])||void 0===i?void 0:i.index)||null,m=(null===(l=t[s-1])||void 0===l?void 0:l.index)||null;return t[u].save({index:0===s?c()(null,d):u>s?c()(m,d):c()(d,p)}).catch((function(){return y(e)})),Object(a.b)(e,u,s)}))}),[t]);return 0===p.orderedData.length?null:s.createElement(r.a,{sensors:b,modifiers:[o.a],collisionDetection:r.e,onDragEnd:h},s.createElement(a.a,{items:f,strategy:a.c},s.createElement(M,null,s.createElement(l.a,{initial:!1},f.map((function(e){var r=d.get(e),o=t.find((function(t){return t.documentId===e}));return r?s.createElement(B,PinnedDocuments_extends({key:e,document:r,canUpdatePin:n,isDraggable:f.length>1,pin:o},i)):null}))))))}))}}]);
//# sourceMappingURL=collection.05d44df364cc20984e65.js.map