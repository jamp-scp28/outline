(window.webpackJsonp=window.webpackJsonp||[]).push([["authenticated-routes"],{1:function(t,r){},"4IYQ":function(t,r,o){"use strict";o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("sMBO"),o("pjDv"),o("rB9j");var a=o("TyAF"),i=o("tsqv"),l=o("q1tI"),c=o("9Koi"),u=o("Ty5D"),p=o("vOnD"),d=o("1BaO"),m=o("2Kol"),y=o("9Hsk"),b=o("R9tu"),h=o("PHil");function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var v=Object(p.default)(h.c).withConfig({displayName:"InputSearchPage__InputMaxWidth",componentId:"sc-19720gp-0"})(["max-width:30vw;","{border-radius:16px;}"],h.b);r.a=Object(a.c)((function InputSearchPage(t){var r=t.onKeyDown,o=t.value,a=t.onChange,h=t.placeholder,g=t.label,_=t.collectionId,w=t.source,E=l.useRef(null),O=Object(p.useTheme)(),A=Object(u.h)(),k=Object(c.a)().t,S=_slicedToArray(Object(d.a)(!1),3),C=S[0],j=S[1],T=S[2],x=l.useCallback((function(){var t;null===(t=E.current)||void 0===t||t.focus()}),[]);Object(m.a)("f",(function(t){Object(y.b)(t)&&(t.preventDefault(),x())}));var I=l.useCallback((function(t){"Enter"===t.key&&(t.preventDefault(),A.push(Object(b.p)(t.currentTarget.value,{collectionId:_,ref:w}))),r&&r(t)}),[A,_,w,r]);return l.createElement(v,{innerRef:E,type:"search",placeholder:h||"".concat(k("Search"),"…"),value:o,onChange:a,onKeyDown:I,icon:l.createElement(i.SearchIcon,{color:C?O.inputBorderFocused:O.inputBorder}),label:g,onFocus:j,onBlur:T,margin:0,labelHidden:!0})}))},"5pTz":function(t,r,o){"use strict";o("ls82"),o("sMBO"),o("ma9I"),o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("pjDv"),o("rB9j"),o("5s+n");var a,i,l,c,u=o("TyAF"),p=o("tsqv"),d=o("q1tI"),m=o("9Koi"),y=o("3k8n"),b=o("vOnD"),h=o("ME/M"),v=b.default.hr.withConfig({displayName:"Divider",componentId:"sc-1tz5tt0-0"})(["border:0;border-bottom:1px solid ",";margin:0;padding:0;"],(function(t){return t.theme.divider})),g=o("KFZt"),_=o("qwZJ"),w=o("FSWZ"),E=o("9vYF"),O=o("A4e3"),A=o("DPW8"),k=o("yppz"),S=o("1BaO"),C=o("6BWE"),j=o("1RBS"),T=o("Y8J7"),x=(o("FZtP"),o("tkto"),o("E9XD"),o("ExoC"),o("NBAS"),o("SuFq"),o("sEfC")),I=o.n(x),P=o("2vnA"),D=o("LCzB"),L=o("XDOE"),R=o("W0Gj"),M=o("W//j"),G=o("xJBO"),N=o("PHil"),z=o("oN2z");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}var U=Object(u.c)((i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(AddGroupsToCollection,t);var r=_createSuper(AddGroupsToCollection);function AddGroupsToCollection(){var t,o;_classCallCheck(this,AddGroupsToCollection);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),_initializerDefineProperty(o,"newGroupModalOpen",l,_assertThisInitialized(o)),_initializerDefineProperty(o,"query",c,_assertThisInitialized(o)),o.handleNewGroupModalOpen=function(){o.newGroupModalOpen=!0},o.handleNewGroupModalClose=function(){o.newGroupModalOpen=!1},o.handleFilter=function(t){o.query=t.target.value,o.debouncedFetch()},o.debouncedFetch=I()((function(){o.props.groups.fetchPage({query:o.query})}),250),o.handleAddGroup=function(t){var r=o.props.t;try{o.props.collectionGroupMemberships.create({collectionId:o.props.collection.id,groupId:t.id,permission:"read_write"}),o.props.toasts.showToast(r("{{ groupName }} was added to the collection",{groupName:t.name}),{type:"success"})}catch(t){o.props.toasts.showToast(r("Could not add user"),{type:"error"}),console.error(t)}},t))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(AddGroupsToCollection,[{key:"render",value:function render(){var t=this,r=this.props,o=r.groups,a=r.policies,i=r.collection,l=r.auth,c=r.t,u=l.user,p=l.team;if(!u||!p)return null;var m=a.abilities(p.id);return d.createElement(g.a,{column:!0},m.createGroup&&d.createElement(k.a,{type:"secondary"},c("Can’t find the group you’re looking for?")," ",d.createElement(R.a,{onClick:this.handleNewGroupModalOpen},c("Create a group")),"."),d.createElement(N.c,{type:"search",placeholder:"".concat(c("Search by group name"),"…"),value:this.query,onChange:this.handleFilter,label:c("Search groups"),labelHidden:!0,flex:!0}),d.createElement(O.a,{empty:this.query?d.createElement(M.a,null,c("No groups matching your search")):d.createElement(M.a,null,c("No groups left to add")),items:o.notInCollection(i.id,this.query),fetch:this.query?void 0:o.fetchPage,renderItem:function renderItem(r){return d.createElement(G.a,{key:r.id,group:r,showFacepile:!0,renderActions:function renderActions(){return d.createElement(B,null,d.createElement(h.b,{onClick:function onClick(){return t.handleAddGroup(r)},neutral:!0},c("Add")))}})}}),m.createGroup&&d.createElement(E.a,{title:c("Create a group"),onRequestClose:this.handleNewGroupModalClose,isOpen:this.newGroupModalOpen},d.createElement(L.a,{onSubmit:this.handleNewGroupModalClose})))}}]),AddGroupsToCollection}(d.Component),l=_applyDecoratedDescriptor(i.prototype,"newGroupModalOpen",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),c=_applyDecoratedDescriptor(i.prototype,"query",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),a=i))||a,B=b.default.div.withConfig({displayName:"AddGroupsToCollection__ButtonWrap",componentId:"sc-1w92uis-0"})(["margin-left:6px;"]),H=Object(D.a)()(Object(z.a)(U)),q=o("g0Ti"),$=o("98Z2"),W=o("xfcy"),K=o("sbG7"),Z=o("lICW"),V=o("Jrrx"),Y=(o("zKZe"),o("LU5X")),J=o("Cqmt"),X=o("dCEO"),Q=o("wdeN");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var ee,te,re,ne,oe=function MemberMenu(t){var r=t.onRemove,o=Object(m.a)().t,a=Object(Y.a)({modal:!0});return d.createElement(d.Fragment,null,d.createElement(X.a,_extends({"aria-label":o("Show menu")},a)),d.createElement(J.d,_extends({},a,{"aria-label":o("Member options")}),d.createElement(Q.a,_extends({},a,{items:[{type:"button",title:o("Remove"),dangerous:!0,onClick:r}]}))))},ae=Object(b.default)(K.a).withConfig({displayName:"MemberListItem__Select",componentId:"p133bm-0"})(["margin:0;font-size:14px;border-color:transparent;box-shadow:none;color:",";select{margin:0;}"],(function(t){return t.theme.textSecondary})),ie=function MemberListItem(t){var r=t.user,o=t.membership,a=t.onRemove,i=t.onUpdate,l=t.onAdd,c=t.canEdit,u=Object(m.a)().t,p=d.useMemo((function(){return[{label:u("View only"),value:"read"},{label:u("View and edit"),value:"read_write"}]}),[u]);return d.createElement(Z.b,{title:r.name,subtitle:d.createElement(d.Fragment,null,r.lastActiveAt?d.createElement(y.a,null,"Active ",d.createElement(V.a,{dateTime:r.lastActiveAt})," ago"):u("Never signed in"),r.isInvited&&d.createElement(W.a,null,u("Invited")),r.isAdmin&&d.createElement(W.a,{primary:r.isAdmin},u("Admin"))),image:d.createElement($.b,{src:r.avatarUrl,size:32}),actions:d.createElement(g.a,{align:"center",gap:8},i&&d.createElement(ae,{label:u("Permissions"),options:p,value:o?o.permission:void 0,onChange:i,disabled:!c,ariaLabel:u("Permissions"),labelHidden:!0,nude:!0}),c&&d.createElement(d.Fragment,null,a&&d.createElement(oe,{onRemove:a}),l&&d.createElement(h.b,{onClick:l,neutral:!0},u("Add"))))})};function AddPeopleToCollection_typeof(t){return(AddPeopleToCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AddPeopleToCollection_initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function AddPeopleToCollection_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function AddPeopleToCollection_defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function AddPeopleToCollection_setPrototypeOf(t,r){return(AddPeopleToCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function AddPeopleToCollection_createSuper(t){var r=function AddPeopleToCollection_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=AddPeopleToCollection_getPrototypeOf(t);if(r){var i=AddPeopleToCollection_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return AddPeopleToCollection_possibleConstructorReturn(this,o)}}function AddPeopleToCollection_possibleConstructorReturn(t,r){if(r&&("object"===AddPeopleToCollection_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return AddPeopleToCollection_assertThisInitialized(t)}function AddPeopleToCollection_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AddPeopleToCollection_getPrototypeOf(t){return(AddPeopleToCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AddPeopleToCollection_applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}var le=Object(u.c)((te=function(t){!function AddPeopleToCollection_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&AddPeopleToCollection_setPrototypeOf(t,r)}(AddPeopleToCollection,t);var r=AddPeopleToCollection_createSuper(AddPeopleToCollection);function AddPeopleToCollection(){var t,o;AddPeopleToCollection_classCallCheck(this,AddPeopleToCollection);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return AddPeopleToCollection_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),AddPeopleToCollection_initializerDefineProperty(o,"inviteModalOpen",re,AddPeopleToCollection_assertThisInitialized(o)),AddPeopleToCollection_initializerDefineProperty(o,"query",ne,AddPeopleToCollection_assertThisInitialized(o)),o.handleInviteModalOpen=function(){o.inviteModalOpen=!0},o.handleInviteModalClose=function(){o.inviteModalOpen=!1},o.handleFilter=function(t){o.query=t.target.value,o.debouncedFetch()},o.debouncedFetch=I()((function(){o.props.users.fetchPage({query:o.query})}),250),o.handleAddUser=function(t){var r=o.props.t;try{o.props.memberships.create({collectionId:o.props.collection.id,userId:t.id,permission:"read_write"}),o.props.toasts.showToast(r("{{ userName }} was added to the collection",{userName:t.name}),{type:"success"})}catch(t){o.props.toasts.showToast(r("Could not add user"),{type:"error"})}},t))}return function AddPeopleToCollection_createClass(t,r,o){return r&&AddPeopleToCollection_defineProperties(t.prototype,r),o&&AddPeopleToCollection_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(AddPeopleToCollection,[{key:"render",value:function render(){var t=this,r=this.props,o=r.users,a=r.collection,i=r.auth,l=r.t,c=i.user,u=i.team;return c&&u?d.createElement(g.a,{column:!0},d.createElement(k.a,{type:"secondary"},l("Need to add someone who’s not yet on the team yet?")," ",d.createElement(R.a,{onClick:this.handleInviteModalOpen},l("Invite people to {{ teamName }}",{teamName:u.name})),"."),d.createElement(N.c,{type:"search",placeholder:"".concat(l("Search by name"),"…"),value:this.query,onChange:this.handleFilter,label:l("Search people"),autoFocus:!0,labelHidden:!0,flex:!0}),d.createElement(O.a,{empty:this.query?d.createElement(M.a,null,l("No people matching your search")):d.createElement(M.a,null,l("No people left to add")),items:o.notInCollection(a.id,this.query),fetch:this.query?void 0:o.fetchPage,renderItem:function renderItem(r){return d.createElement(ie,{key:r.id,user:r,onAdd:function onAdd(){return t.handleAddUser(r)},canEdit:!0})}}),d.createElement(E.a,{title:l("Invite people"),onRequestClose:this.handleInviteModalClose,isOpen:this.inviteModalOpen},d.createElement(q.a,{onSubmit:this.handleInviteModalClose}))):null}}]),AddPeopleToCollection}(d.Component),re=AddPeopleToCollection_applyDecoratedDescriptor(te.prototype,"inviteModalOpen",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),ne=AddPeopleToCollection_applyDecoratedDescriptor(te.prototype,"query",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),ee=te))||ee,ce=Object(D.a)()(Object(z.a)(le));function CollectionGroupMemberMenu_extends(){return(CollectionGroupMemberMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var ue=Object(u.c)((function CollectionGroupMemberMenu(t){var r=t.onMembers,o=t.onRemove,a=Object(m.a)().t,i=Object(Y.a)({modal:!0});return d.createElement(d.Fragment,null,d.createElement(X.a,CollectionGroupMemberMenu_extends({"aria-label":a("Show menu")},i)),d.createElement(J.d,CollectionGroupMemberMenu_extends({},i,{"aria-label":a("Group member options")}),d.createElement(Q.a,CollectionGroupMemberMenu_extends({},i,{items:[{type:"button",title:a("Members"),onClick:r},{type:"separator"},{type:"button",title:a("Remove"),dangerous:!0,onClick:o}]}))))})),se=Object(b.default)(K.a).withConfig({displayName:"CollectionGroupMemberListItem__Select",componentId:"qw0b3w-0"})(["margin:0;font-size:14px;border-color:transparent;box-shadow:none;color:",";select{margin:0;}"],(function(t){return t.theme.textSecondary})),pe=function CollectionGroupMemberListItem(t){var r=t.group,o=t.collectionGroupMembership,a=t.onUpdate,i=t.onRemove,l=Object(m.a)().t,c=d.useMemo((function(){return[{label:l("View only"),value:"read"},{label:l("View and edit"),value:"read_write"}]}),[l]);return d.createElement(G.a,{group:r,showAvatar:!0,renderActions:function renderActions(t){var r=t.openMembersModal;return d.createElement(d.Fragment,null,d.createElement(se,{label:l("Permissions"),options:c,value:o?o.permission:void 0,onChange:a,ariaLabel:l("Permissions"),labelHidden:!0,nude:!0}),d.createElement(ue,{onMembers:r,onRemove:i}))}})};function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var de=Object(b.default)(k.a).withConfig({displayName:"CollectionPermissions__Empty",componentId:"sc-1hgxfjf-0"})(["margin-top:8px;"]),me=Object(b.default)(k.a).withConfig({displayName:"CollectionPermissions__PermissionExplainer",componentId:"sc-1hgxfjf-1"})(["margin-top:-8px;margin-bottom:24px;"]),fe=Object(b.default)(g.a).withConfig({displayName:"CollectionPermissions__Actions",componentId:"sc-1hgxfjf-2"})(["margin-bottom:12px;"]);r.a=Object(u.c)((function CollectionPermissions(t){var r=t.collection,o=Object(m.a)().t,a=Object(C.a)(),i=Object(j.a)(),l=i.memberships,c=i.collectionGroupMemberships,u=i.users,b=i.groups,k=i.auth,x=Object(T.a)().showToast,I=_slicedToArray(Object(S.a)(),3),P=I[0],D=I[1],L=I[2],R=_slicedToArray(Object(S.a)(),3),M=R[0],G=R[1],N=R[2],z=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.delete({collectionId:r.id,userId:t.id});case 3:x(o("{{ userName }} was removed from the collection",{userName:t.name}),{type:"success"}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),x(o("Could not remove user"),{type:"error"});case 9:case"end":return a.stop()}}),_callee,null,[[0,6]])})));return function(r){return t.apply(this,arguments)}}(),[l,x,r,o]),U=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a){return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l.create({collectionId:r.id,userId:t.id,permission:a});case 3:x(o("{{ userName }} permissions were updated",{userName:t.name}),{type:"success"}),i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),x(o("Could not update user"),{type:"error"});case 9:case"end":return i.stop()}}),_callee2,null,[[0,6]])})));return function(r,o){return t.apply(this,arguments)}}(),[l,x,r,o]),B=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.delete({collectionId:r.id,groupId:t.id});case 3:x(o("The {{ groupName }} group was removed from the collection",{groupName:t.name}),{type:"success"}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),x(o("Could not remove group"),{type:"error"});case 9:case"end":return a.stop()}}),_callee3,null,[[0,6]])})));return function(r){return t.apply(this,arguments)}}(),[c,x,r,o]),q=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a){return regeneratorRuntime.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,c.create({collectionId:r.id,groupId:t.id,permission:a});case 3:x(o("{{ groupName }} permissions were updated",{groupName:t.name}),{type:"success"}),i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),x(o("Could not update user"),{type:"error"});case 9:case"end":return i.stop()}}),_callee4,null,[[0,6]])})));return function(r,o){return t.apply(this,arguments)}}(),[c,x,r,o]),$=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){return regeneratorRuntime.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.save({permission:t});case 3:x(o("Default access permissions were updated"),{type:"success"}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),x(o("Could not update permissions"),{type:"error"});case 9:case"end":return a.stop()}}),_callee5,null,[[0,6]])})));return function(r){return t.apply(this,arguments)}}(),[r,x,o]),W=d.useMemo((function(){return{id:r.id}}),[r.id]),K=d.useCallback(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){return regeneratorRuntime.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.save({sharing:t.target.checked});case 3:x(o("Public document sharing permissions were updated"),{type:"success"}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),x(o("Could not update public document sharing"),{type:"error"});case 9:case"end":return a.stop()}}),_callee6,null,[[0,6]])})));return function(r){return t.apply(this,arguments)}}(),[r,x,o]),Z=r.name,V=b.inCollection(r.id),Y=u.inCollection(r.id),J=!V.length&&!Y.length,X=r.sharing,Q=!!k.team&&k.team.sharing;return d.createElement(g.a,{column:!0},d.createElement(_.a,{onChange:$,value:r.permission||""}),d.createElement(me,{size:"small"},!r.permission&&d.createElement(y.a,{defaults:"The <em>{{ collectionName }}</em> collection is private. Team members have no access to it by default.",values:{collectionName:Z},components:{em:d.createElement("strong",null)}}),"read"===r.permission&&d.createElement(y.a,{defaults:"Team members can view documents in the <em>{{ collectionName }}</em> collection by default.",values:{collectionName:Z},components:{em:d.createElement("strong",null)}}),"read_write"===r.permission&&d.createElement(y.a,{defaults:"Team members can view and edit documents in the <em>{{ collectionName }}</em> collection by default.",values:{collectionName:Z},components:{em:d.createElement("strong",null)}})),d.createElement(A.a,{id:"sharing",label:o("Public document sharing"),onChange:K,checked:X&&Q,disabled:!Q,note:Q?d.createElement(y.a,null,"When enabled, documents can be shared publicly on the internet."):d.createElement(y.a,null,"Public sharing is currently disabled in the team security settings.")}),d.createElement(w.a,{label:o("Additional access")},d.createElement(fe,{gap:8},d.createElement(h.b,{type:"button",onClick:D,icon:d.createElement(p.PlusIcon,null),neutral:!0},o("Add groups")),d.createElement(h.b,{type:"button",onClick:G,icon:d.createElement(p.PlusIcon,null),neutral:!0},o("Add people")))),d.createElement(v,null),J&&d.createElement(de,null,d.createElement(y.a,null,"Add specific access for individual groups and team members")),d.createElement(O.a,{items:V,fetch:c.fetchPage,options:W,renderItem:function renderItem(t){return d.createElement(pe,{key:t.id,group:t,collectionGroupMembership:c.get("".concat(t.id,"-").concat(r.id)),onRemove:function onRemove(){return B(t)},onUpdate:function onUpdate(r){return q(t,r)}})}}),V.length?d.createElement(v,null):null,d.createElement(O.a,{key:"collection-users-".concat(r.permission||"none"),items:Y,fetch:l.fetchPage,options:W,renderItem:function renderItem(t){return d.createElement(ie,{key:t.id,user:t,membership:l.get("".concat(t.id,"-").concat(r.id)),canEdit:t.id!==a.id,onRemove:function onRemove(){return z(t)},onUpdate:function onUpdate(r){return U(t,r)}})}}),d.createElement(E.a,{title:o("Add groups to {{ collectionName }}",{collectionName:r.name}),onRequestClose:L,isOpen:P},d.createElement(H,{collection:r,onSubmit:L})),d.createElement(E.a,{title:o("Add people to {{ collectionName }}",{collectionName:r.name}),onRequestClose:N,isOpen:M},d.createElement(ce,{collection:r,onSubmit:N})))}))},"6CGe":function(t,r,o){"use strict";o("2B1R"),o("sMBO"),o("ma9I"),o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("pjDv"),o("+2oP"),o("rB9j");var a=o("TyAF"),i=o("q1tI"),l=o("9Koi"),c=o("a/BF"),u=o("1RBS");function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}r.a=Object(a.c)((function CollectionFilter(t){var r=Object(l.a)().t,o=Object(u.a)().collections,a=t.onSelect,p=t.collectionId,d=i.useMemo((function(){var t=o.orderedData.map((function(t){return{key:t.id,label:t.name}}));return[{key:"",label:r("Any collection")}].concat(_toConsumableArray(t))}),[o.orderedData,r]);return i.createElement(c.a,{options:d,activeKey:p,onSelect:a,defaultLabel:r("Any collection"),selectedPrefix:"".concat(r("Collection"),":")})}))},GNYN:function(t,r,o){"use strict";o.r(r),o.d(r,"default",(function(){return AuthenticatedRoutes}));o("4mDm"),o("07d7"),o("5s+n"),o("PKPk"),o("3bBZ"),o("rB9j"),o("Rm1S");var a=o("q1tI"),i=o("Ty5D"),l=o("TyAF"),c=o("tsqv"),u=o("9Koi"),p=o("W//j"),d=o("PiAM"),m=o("4uAy"),y=o("RgOh"),b=o("SQX4"),h=o("1RBS");var v=Object(l.c)((function Archive(){var t=Object(u.a)().t,r=Object(h.a)().documents;return a.createElement(y.a,{icon:a.createElement(c.ArchiveIcon,{color:"currentColor"}),title:t("Archive")},a.createElement(d.a,null,t("Archive")),a.createElement(m.a,{documents:r.archived,fetch:r.fetchArchived,heading:a.createElement(b.a,{sticky:!0},t("Documents")),empty:a.createElement(p.a,null,t("The document archive is empty at the moment.")),showCollection:!0,showTemplate:!0}))})),g=(o("ls82"),o("hByQ"),o("JfAA"),o("UxlC"),o("cr+I")),_=o.n(g),w=o("TmSf"),E=o("KFZt"),O=o("DY/r"),A=o("Y8J7"),k=o("R9tu");function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}var S,C,j,T=Object(l.c)((function DocumentNew(){var t=Object(i.h)(),r=Object(i.i)(),o=Object(i.k)(),l=Object(u.a)().t,c=Object(h.a)(),p=c.documents,d=c.collections,m=Object(A.a)().showToast,y=o.params.id||"";return Object(a.useEffect)((function(){function _createDocument(){return(_createDocument=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var o,a,i,c,u;return regeneratorRuntime.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:return o=_.a.parse(r.search),b.prev=1,b.next=4,d.fetch(y);case 4:return c=b.sent,b.next=7,p.create({collectionId:c.id,parentDocumentId:null===(a=o.parentDocumentId)||void 0===a?void 0:a.toString(),templateId:null===(i=o.templateId)||void 0===i?void 0:i.toString(),template:"true"===o.template,title:"",text:""});case 7:u=b.sent,t.replace(Object(k.g)(u),r.state),b.next=15;break;case 11:b.prev=11,b.t0=b.catch(1),m(l("Couldn’t create the document, try again?"),{type:"error"}),t.goBack();case 15:case"end":return b.stop()}}),_callee,null,[[1,11]])})))).apply(this,arguments)}!function createDocument(){return _createDocument.apply(this,arguments)}()})),a.createElement(E.a,{column:!0,auto:!0},a.createElement(w.a,null,a.createElement(O.a,null)))})),x=(o("FZtP"),o("tkto"),o("E9XD"),o("+2oP"),o("ExoC"),o("NBAS"),o("SuFq"),o("pNMO"),o("TeQF"),o("5DmW"),o("27RR"),o("4Brf"),o("0oug"),o("ma9I"),o("mGGf"),o("2vnA")),I=o("LCzB"),P=o("vOnD"),D=o("6CGe"),L=o("XvGy"),R=o("9TNq"),M=o("4IYQ"),G=o("oN2z"),N=o("jwCy");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z=Object(l.c)((C=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(Drafts,t);var r=_createSuper(Drafts);function Drafts(){var t,o;_classCallCheck(this,Drafts);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),_initializerDefineProperty(o,"params",j,_assertThisInitialized(o)),o.handleQueryChange=function(){o.params=new URLSearchParams(o.props.location.search)},o.handleFilterChange=function(t){o.props.history.replace({pathname:o.props.location.pathname,search:_.a.stringify(_objectSpread(_objectSpread({},_.a.parse(o.props.location.search)),t),{skipEmptyString:!0})})},t))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Drafts,[{key:"componentDidUpdate",value:function componentDidUpdate(t){t.location.search!==this.props.location.search&&this.handleQueryChange()}},{key:"collectionId",get:function get(){var t=this.params.get("collectionId");return t||void 0}},{key:"dateFilter",get:function get(){var t=this.params.get("dateFilter");return t||void 0}},{key:"render",value:function render(){var t=this,r=this.props.t,o=this.collectionId||this.dateFilter,i={dateFilter:this.dateFilter,collectionId:this.collectionId};return a.createElement(y.a,{icon:a.createElement(c.EditIcon,{color:"currentColor"}),title:r("Drafts"),actions:a.createElement(a.Fragment,null,a.createElement(R.a,null,a.createElement(M.a,{source:"drafts",label:r("Search documents")})),a.createElement(R.a,null,a.createElement(N.a,null)))},a.createElement(d.a,null,r("Drafts")),a.createElement(b.a,{sticky:!0},r("Documents"),a.createElement(U,null,a.createElement(D.a,{collectionId:this.collectionId,onSelect:function onSelect(r){return t.handleFilterChange({collectionId:r})}}),a.createElement(L.a,{dateFilter:this.dateFilter,onSelect:function onSelect(r){return t.handleFilterChange({dateFilter:r})}}))),a.createElement(m.a,{empty:a.createElement(p.a,null,r(o?"No documents found for your filters.":"You’ve not got any drafts at the moment.")),fetch:this.props.documents.fetchDrafts,documents:this.props.documents.drafts(i),options:i,showParentDocuments:!0,showCollection:!0}))}}]),Drafts}(a.Component),j=function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}(C.prototype,"params",[x.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return new URLSearchParams(this.props.location.search)}}),S=C))||S,U=Object(P.default)(E.a).withConfig({displayName:"Drafts__Filters",componentId:"sc-8zp3bw-0"})(["opacity:0.85;transition:opacity 100ms ease-in-out;position:absolute;right:-8px;bottom:0;padding:0 0 6px;&:hover{opacity:1;}"]),B=Object(I.a)()(Object(G.a)(z)),H=o("6krI"),q=(o("ToJy"),o("RTCn")),$=o("jJBh"),W=o("SJh+"),K=o("e0LR"),Z=(o("sMBO"),o("zKZe"),o("LU5X")),V=o("EHHx"),Y=o("ME/M"),J=o("cgb6"),X=o("Cqmt"),Q=o("4HXL"),ee=o("wdeN");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var te=P.default.div.withConfig({displayName:"NewTemplateMenu__CollectionName",componentId:"sc-17qaj9c-0"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"]),re=Object(l.c)((function NewTemplateMenu(){var t=Object(Z.a)({modal:!0}),r=Object(u.a)().t,o=Object(W.a)(),i=Object(h.a)(),l=i.collections,p=i.policies,d=Object(K.a)(o.id),m=a.useMemo((function(){return l.orderedData.reduce((function(t,r){return p.abilities(r.id).update&&t.push({type:"route",to:Object(k.m)(r.id,{template:!0}),title:a.createElement(te,null,r.name),icon:a.createElement(J.a,{collection:r})}),t}),[])}),[l.orderedData,p]);return d.createDocument&&0!==m.length?a.createElement(a.Fragment,null,a.createElement(V.a,t,(function(t){return a.createElement(Y.b,_extends({icon:a.createElement(c.PlusIcon,null)},t),r("New template"),"…")})),a.createElement(X.d,_extends({"aria-label":r("New template")},t),a.createElement(Q.a,null,r("Choose a collection")),a.createElement(ee.a,_extends({},t,{items:m})))):null}));var ne=Object(l.c)((function Templates(t){var r=Object(h.a)().documents,o=Object(u.a)().t,i=Object(W.a)(),l=r.fetchTemplates,b=r.templates,v=r.templatesAlphabetical,g=t.match.params.sort,_=Object(K.a)(i.id);return a.createElement(y.a,{icon:a.createElement(c.ShapesIcon,{color:"currentColor"}),title:o("Templates"),actions:a.createElement(R.a,null,a.createElement(re,null))},a.createElement(d.a,null,o("Templates")),a.createElement(m.a,{heading:a.createElement($.a,null,a.createElement(q.a,{to:"/templates",exact:!0},o("Recently updated")),a.createElement(q.a,{to:"/templates/alphabetical",exact:!0},o("Alphabetical"))),empty:a.createElement(p.a,null,o("There are no templates just yet.")," ",_.createDocument&&o("You can create templates to help your team create consistent and accurate documentation.")),fetch:l,documents:"alphabetical"===g?v:b,showCollection:!0,showDraft:!0}))}));var oe=Object(l.c)((function Trash(){var t=Object(u.a)().t,r=Object(h.a)().documents;return a.createElement(y.a,{icon:a.createElement(c.TrashIcon,{color:"currentColor"}),title:t("Trash")},a.createElement(d.a,null,t("Trash")),a.createElement(m.a,{documents:r.deleted,fetch:r.fetchDeleted,heading:a.createElement(b.a,{sticky:!0},t("Documents")),empty:a.createElement(p.a,null,t("Trash is empty at the moment.")),showCollection:!0,showTemplate:!0}))})),ae=o("3k8n"),ie=o("A9A3"),le=Object(l.c)((function ErrorSuspended(){var t=Object(u.a)().t,r=Object(h.a)().auth;return a.createElement(w.a,null,a.createElement(ie.a,{title:t("Your account has been suspended")}),a.createElement("h1",null,a.createElement("span",{role:"img","aria-label":t("Warning Sign")},"⚠️")," ",t("Your account has been suspended")),a.createElement("p",null,a.createElement(ae.a,{defaults:"A team admin (<em>{{ suspendedContactEmail }}</em>) has suspended your account. To re-activate your account, please reach out to them directly.",values:{suspendedContactEmail:r.suspendedContactEmail},components:{em:a.createElement("strong",null)}})))})),ce=o("q6Jv"),ue=o("q7Ez"),se=(o("pjDv"),o("JEhF")),pe=o("qJlv"),de=o("J0+w"),me=o("yppz"),fe=o("GPU1"),ye=(o("2B1R"),o("b2r9")),be=o("n4pT"),he=o("Nx5B"),ve=o("GdW1");function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function useSessions_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function useSessions_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function loadSessionsFromCookie(){var t=JSON.parse(Object(ve.a)("sessions")||"{}");return Object.keys(t).map((function(r){return function useSessions_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?useSessions_ownKeys(Object(o),!0).forEach((function(r){useSessions_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):useSessions_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}({teamId:r},t[r])}))}var ge=o("3oKm");function OrganizationMenu_extends(){return(OrganizationMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return OrganizationMenu_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||OrganizationMenu_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OrganizationMenu_slicedToArray(t,r){return function OrganizationMenu_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function OrganizationMenu_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||OrganizationMenu_unsupportedIterableToArray(t,r)||function OrganizationMenu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OrganizationMenu_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return OrganizationMenu_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?OrganizationMenu_arrayLikeToArray(t,r):void 0}}function OrganizationMenu_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var _e=Object(P.default)("img").withConfig({displayName:"OrganizationMenu__Logo",componentId:"sc-1a79vwp-0"})(["border-radius:2px;width:24px;height:24px;"]),we=Object(l.c)((function OrganizationMenu(t){var r=t.children,o=OrganizationMenu_slicedToArray(function useSessions(){var t=_slicedToArray(a.useState(loadSessionsFromCookie),2),r=t[0],o=t[1];return[r,a.useCallback((function(){o(loadSessionsFromCookie())}),[])]}(),1)[0],i=Object(Z.a)({unstable_offset:[4,-4],placement:"bottom-start",modal:!0}),l=Object(h.a)().ui.theme,c=Object(W.a)(),p=Object(he.a)(l),d=Object(u.a)().t;a.useEffect((function(){l!==p&&i.hide()}),[i,l,p]);var m=a.useMemo((function(){var t=o.filter((function(t){return t.teamId!==c.id&&t.url!==c.url}));return[be.d,Object(ge.a)()].concat(_toConsumableArray(t.length?[Object(ye.c)({name:d("Switch team"),section:"account",children:t.map((function(t){return{id:t.url,name:t.name,section:"account",icon:a.createElement(_e,{alt:t.name,src:t.logoUrl}),perform:function perform(){return window.location.href=t.url}}}))})]:[]),[be.a])}),[c.id,c.url,o,d]);return a.createElement(a.Fragment,null,a.createElement(V.a,i,r),a.createElement(X.d,OrganizationMenu_extends({},i,{"aria-label":d("Account")}),a.createElement(ee.a,OrganizationMenu_extends({},i,{items:void 0,actions:m}))))})),Ee=o("Hwz2"),Oe=o("t8KU"),Ae=o("pMk8"),ke=o("XfqE");function ArchiveLink_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function ArchiveLink_slicedToArray(t,r){return function ArchiveLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function ArchiveLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function ArchiveLink_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return ArchiveLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ArchiveLink_arrayLikeToArray(t,r)}(t,r)||function ArchiveLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ArchiveLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Se=Object(l.c)((function ArchiveLink(){var t,r,o,i=Object(h.a)(),l=i.policies,p=i.documents,d=Object(u.a)().t,m=Object(A.a)().showToast,y=ArchiveLink_slicedToArray(Object(Ae.a)({accept:"document",drop:(o=function ArchiveLink_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){ArchiveLink_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){ArchiveLink_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r=p.get(t.id),o.next=3,null==r?void 0:r.archive();case 3:m(d("Document archived"),{type:"success"});case 4:case"end":return o.stop()}}),_callee)}))),function drop(t){return o.apply(this,arguments)}),canDrop:function canDrop(t){return l.abilities(t.id).archive},collect:function collect(t){return{isDocumentDropping:t.isOver()}}}),2),b=y[0].isDocumentDropping,v=y[1];return a.createElement("div",{ref:v},a.createElement(ke.b,{to:Object(k.a)(),icon:a.createElement(c.ArchiveIcon,{color:"currentColor",open:b}),exact:!1,label:d("Archive"),active:(null===(t=p.active)||void 0===t?void 0:t.isArchived)&&!(null!==(r=p.active)&&void 0!==r&&r.isDeleted),isActiveDrop:b}))})),Ce=o("gmx+"),je=o.n(Ce),Te=o("sZuP"),xe=o("2M11"),Ie=o("9V9U");function DocumentReparent_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function DocumentReparent_slicedToArray(t,r){return function DocumentReparent_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function DocumentReparent_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function DocumentReparent_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return DocumentReparent_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return DocumentReparent_arrayLikeToArray(t,r)}(t,r)||function DocumentReparent_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DocumentReparent_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Pe=Object(l.c)((function DocumentReparent(t){var r=t.collection,o=t.item,i=t.onSubmit,l=t.onCancel,c=DocumentReparent_slicedToArray(Object(a.useState)(!1),2),p=c[0],d=c[1],m=Object(A.a)().showToast,y=Object(h.a)(),b=y.documents,v=y.collections,g=Object(u.a)().t,_=v.get(o.collectionId),w={read_write:g("view and edit access"),read:g("view only access"),null:g("no access")},O=a.useCallback(function(){var t=function DocumentReparent_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){DocumentReparent_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){DocumentReparent_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),d(!0),a.prev=2,a.next=5,b.move(o.id,r.id);case 5:m(g("Document moved"),{type:"info"}),i(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),m(a.t0.message,{type:"error"});case 12:return a.prev=12,d(!1),a.finish(12);case 15:case"end":return a.stop()}}),_callee,null,[[2,9,12,15]])})));return function(r){return t.apply(this,arguments)}}(),[b,o.id,r.id,m,g,i]);return a.createElement(E.a,{column:!0},a.createElement("form",{onSubmit:O},a.createElement(me.a,{type:"secondary"},a.createElement(ae.a,{defaults:"Heads up – moving the document <em>{{ title }}</em> to the <em>{{ newCollectionName }}</em> collection will grant all team members <em>{{ newPermission }}</em>, they currently have {{ prevPermission }}.",values:{title:o.title,prevCollectionName:null==_?void 0:_.name,newCollectionName:r.name,prevPermission:w[(null==_?void 0:_.permission)||"null"],newPermission:w[r.permission||"null"]},components:{em:a.createElement("strong",null)}})),a.createElement(Y.b,{type:"submit"},p?"".concat(g("Moving"),"…"):g("Move document"))," ",a.createElement(Y.b,{type:"button",onClick:l,neutral:!0},g("Cancel"))))})),De=o("JGNK"),Le=o("fHvT"),Re=o("khlH"),Me=o("1BaO"),Ge=o("aQKp"),Ne=(o("oVuX"),o("QLaP")),ze=o.n(Ne),Fe=o("yzbm"),Ue=o("IeSd"),Be=o("PgeF");function DropToImport_extends(){return(DropToImport_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var He=P.default.div.withConfig({displayName:"DropToImport__DropzoneContainer",componentId:"sc-5il00h-0"})(["border-radius:4px;",""],(function(t){var r=t.$isDragActive,o=t.theme;return r&&Object(P.css)(["background:",";a{color:"," !important;}svg{fill:",";}"],o.slateDark,o.white,o.white)})),qe=Object(l.c)((function DropToImport(t){var r=t.disabled,o=t.children,i=t.collectionId,l=t.documentId,c=Object(u.a)().t,p=Object(h.a)().documents,d=Object(A.a)().showToast,m=Object(Be.a)(i,l),y=m.handleFiles,b=m.isImporting,v=i||l;ze()(v,"Must provide either collectionId or documentId");var g=Object(K.a)(v),_=a.useCallback((function(){d(c("Document not supported – try Markdown, Plain text, HTML, or Word"),{type:"error"})}),[c,d]);return r||!g.update?o:a.createElement(Fe.a,{accept:p.importFileTypes.join(", "),onDropAccepted:y,onDropRejected:_,noClick:!0,multiple:!0},(function(t){var r=t.getRootProps,i=t.getInputProps,l=t.isDragActive;return a.createElement(He,DropToImport_extends({},r(),{$isDragActive:l,tabIndex:-1}),a.createElement("input",i()),b&&a.createElement(Ue.b,null),o)}))})),$e=(o("yXV3"),o("SYor"),["title","onSubmit","canUpdate","onEditing"]);function EditableTitle_extends(){return(EditableTitle_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function EditableTitle_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function EditableTitle_slicedToArray(t,r){return function EditableTitle_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function EditableTitle_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function EditableTitle_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return EditableTitle_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return EditableTitle_arrayLikeToArray(t,r)}(t,r)||function EditableTitle_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditableTitle_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function _objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var We=P.default.input.withConfig({displayName:"EditableTitle__Input",componentId:"sc-1d8a6su-0"})(["color:",";background:",";width:calc(100% + 12px);border-radius:3px;border:1px solid ",";padding:5px 6px;margin:-4px;height:32px;&:focus{outline-color:",";}"],(function(t){return t.theme.sidebarText}),(function(t){return t.theme.background}),(function(t){return t.theme.inputBorderFocused}),(function(t){return t.theme.primary})),Ke=function EditableTitle(t){var r=t.title,o=t.onSubmit,i=t.canUpdate,l=t.onEditing,c=_objectWithoutProperties(t,$e),u=EditableTitle_slicedToArray(a.useState(!1),2),p=u[0],d=u[1],m=EditableTitle_slicedToArray(a.useState(r),2),y=m[0],b=m[1],h=EditableTitle_slicedToArray(a.useState(r),2),v=h[0],g=h[1],_=Object(A.a)().showToast;a.useEffect((function(){g(r)}),[r]);var w=a.useCallback((function(t){g(t.target.value)}),[]),E=a.useCallback((function(t){t.preventDefault(),t.stopPropagation(),d(!0)}),[]),O=a.useCallback((function(t){"Escape"===t.key&&(d(!1),g(y))}),[y]),k=a.useCallback(function(){var t=function EditableTitle_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){EditableTitle_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){EditableTitle_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),d(!1),(r=v.trim())!==y&&0!==r.length){a.next=6;break}return g(y),a.abrupt("return");case 6:if(!document){a.next=18;break}return a.prev=7,a.next=10,o(r);case 10:b(r),a.next=18;break;case 13:throw a.prev=13,a.t0=a.catch(7),g(y),_(a.t0.message,{type:"error"}),a.t0;case 18:case"end":return a.stop()}}),_callee,null,[[7,13]])})));return function(r){return t.apply(this,arguments)}}(),[y,_,v,o]);return a.useEffect((function(){null==l||l(p)}),[l,p]),a.createElement(a.Fragment,null,p?a.createElement("form",{onSubmit:k},a.createElement(We,EditableTitle_extends({dir:"auto",type:"text",value:v,onKeyDown:O,onChange:w,onBlur:k,autoFocus:!0},c))):a.createElement("span",{onDoubleClick:i?E:void 0},v))},Ze=P.default.div.withConfig({displayName:"Relative",componentId:"glkm6c-0"})(["position:relative;"]),Ve=a.createContext(void 0),Ye=function useStarredContext(){return a.useContext(Ve)},Je=Ve;function CollectionLink_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function CollectionLink_slicedToArray(t,r){return function CollectionLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function CollectionLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function CollectionLink_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return CollectionLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return CollectionLink_arrayLikeToArray(t,r)}(t,r)||function CollectionLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CollectionLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Xe=Object(l.c)((function CollectionLink(t){var r=t.collection,o=t.expanded,l=t.onDisclosureClick,p=t.isDraggingAnyCollection,d=a.useRef(),m=Object(h.a)(),y=m.dialogs,b=m.documents,v=m.collections,g=CollectionLink_slicedToArray(Object(Me.a)(),3),_=g[0],w=g[1],E=g[2],O=CollectionLink_slicedToArray(a.useState(!1),2),A=O[0],k=O[1],S=Object(K.a)(r.id).update,C=Object(u.a)().t,j=Object(i.h)(),T=Ye(),x=a.useCallback(function(){var t=function CollectionLink_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){CollectionLink_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){CollectionLink_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.save({name:t});case 2:j.replace(r.url,j.location.state);case 3:case"end":return o.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),[r,j]),I=CollectionLink_slicedToArray(Object(Ae.a)({accept:"document",drop:function drop(t,o){var i=t.id,l=t.collectionId;if(!o.didDrop()&&r){var c=b.get(i);if(r.id!==l||null!=c&&c.parentDocumentId){var u=v.get(l);u&&null===u.permission&&u.permission!==r.permission?(d.current=t,y.openModal({title:C("Move document"),content:a.createElement(Pe,{item:t,collection:r,onSubmit:y.closeAllModals,onCancel:y.closeAllModals})})):b.move(i,r.id)}}},canDrop:function canDrop(){return S},collect:function collect(t){return{isOver:!!t.isOver({shallow:!0}),canDrop:t.canDrop()}}}),2),P=I[0],D=P.isOver,L=P.canDrop,R=I[1],M=a.useCallback((function(t){k(t)}),[]),G=Object(Re.a)({activeCollectionId:r.id,inStarredSection:T});return a.createElement(a.Fragment,null,a.createElement(Ze,{ref:R},a.createElement(qe,{collectionId:r.id},a.createElement(ke.b,{to:{pathname:r.url,state:{starred:T}},expanded:o,onDisclosureClick:l,icon:a.createElement(J.a,{collection:r,expanded:o}),showActions:_,isActiveDrop:D&&L,isActive:function isActive(t,r){var o;return!!t&&(null===(o=r.state)||void 0===o?void 0:o.starred)===T},label:a.createElement(Ke,{title:r.name,onSubmit:x,onEditing:M,canUpdate:S}),exact:!1,depth:0,menu:!A&&!p&&a.createElement(Te.a,null,a.createElement(De.a,{tooltip:{tooltip:C("New doc"),delay:500},action:Le.a,context:G,hideOnActionDisabled:!0},a.createElement(c.PlusIcon,null)),a.createElement(Ge.a,{collection:r,onOpen:w,onClose:E}))}))))})),Qe=(o("yq1k"),o("JTJg"),o("55Ip")),et=o("Iks1"),tt=o("DpFD"),rt=o("FvP1"),nt=o("ahuT");var ot=P.default.div.withConfig({displayName:"DropCursor__Cursor",componentId:"sc-1f0k1bv-0"})(["opacity:",";transition:opacity 150ms;position:absolute;z-index:1;width:100%;height:14px;background:transparent;","::after{background:",';position:absolute;top:6px;content:"";height:2px;border-radius:2px;width:100%;}'],(function(t){return t.isOver?1:0}),(function(t){return"top"===t.position?"top: -7px;":"bottom: -7px;"}),(function(t){return t.disabled?t.theme.sidebarActiveBackground:t.theme.slateDark})),at=function DropCursor(t){var r=t.isActiveDrop,o=t.innerRef,i=t.position,l=t.disabled;return a.createElement(ot,{isOver:r,disabled:l,ref:o,position:i})};function Folder_slicedToArray(t,r){return function Folder_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Folder_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Folder_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Folder_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Folder_arrayLikeToArray(t,r)}(t,r)||function Folder_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Folder_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var it=P.default.div.withConfig({displayName:"Folder__Wrapper",componentId:"sc-124vyld-0"})(["display:",";"],(function(t){return t.$expanded?"block":"none"})),lt=function Folder(t){var r=t.expanded,o=t.children,i=Folder_slicedToArray(a.useState(r),2),l=i[0],c=i[1];return a.useEffect((function(){r&&c(!0)}),[r]),l?a.createElement(it,{$expanded:r},o):null};function DocumentLink_toConsumableArray(t){return function DocumentLink_arrayWithoutHoles(t){if(Array.isArray(t))return DocumentLink_arrayLikeToArray(t)}(t)||function DocumentLink_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||DocumentLink_unsupportedIterableToArray(t)||function DocumentLink_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DocumentLink_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function DocumentLink_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?DocumentLink_ownKeys(Object(o),!0).forEach((function(r){DocumentLink_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):DocumentLink_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function DocumentLink_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function DocumentLink_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function DocumentLink_slicedToArray(t,r){return function DocumentLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function DocumentLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||DocumentLink_unsupportedIterableToArray(t,r)||function DocumentLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DocumentLink_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return DocumentLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?DocumentLink_arrayLikeToArray(t,r):void 0}}function DocumentLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function InnerDocumentLink(t,r){var o=t.node,i=t.collection,l=t.activeDocument,p=t.prefetchDocument,d=t.isDraft,m=t.depth,y=t.index,b=t.parentId,v=Object(A.a)().showToast,g=Object(h.a)(),_=g.documents,w=g.policies,E=Object(u.a)().t,O=Object(K.a)(o.id).update,S=l&&l.id===o.id,C=!!o.children.length||(null==l?void 0:l.parentDocumentId)===o.id,j=_.get(o.id),T=_.fetchChildDocuments,x=DocumentLink_slicedToArray(a.useState(!1),2),I=x[0],P=x[1],D=Ye();a.useEffect((function(){S&&C&&T(o.id)}),[T,o,C,S]);var L=a.useMemo((function(){return null==i?void 0:i.pathToDocument(o.id).map((function(t){return t.id}))}),[i,o]),R=a.useMemo((function(){return!!(C&&l&&i&&(i.pathToDocument(l.id).map((function(t){return t.id})).includes(o.id)||S))}),[C,l,S,o,i]),M=DocumentLink_slicedToArray(a.useState(R),2),G=M[0],N=M[1];a.useEffect((function(){R&&N(R)}),[R]),a.useEffect((function(){G&&!C&&N(!1)}),[G,C]);var z=a.useCallback((function(t){t.preventDefault(),t.stopPropagation(),N(!G)}),[G]),U=a.useCallback((function(){null==p||p(o.id)}),[p,o]),B=a.useCallback(function(){var t=function DocumentLink_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){DocumentLink_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){DocumentLink_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(j){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_.update({id:j.id,text:j.text,title:t},{lastRevision:j.revision});case 4:case"end":return r.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),[_,j]),H=DocumentLink_slicedToArray(Object(Me.a)(),3),q=H[0],$=H[1],W=H[2],Z=_.movingDocumentId===o.id,V="index"===(null==i?void 0:i.sort.field),Y=DocumentLink_slicedToArray(Object(Ie.a)({type:"document",item:function item(){return DocumentLink_objectSpread(DocumentLink_objectSpread({},o),{},{depth:m,active:S,collectionId:(null==i?void 0:i.id)||""})},collect:function collect(t){return{isDragging:t.isDragging()}},canDrag:function canDrag(){return!d&&(w.abilities(o.id).move||w.abilities(o.id).archive||w.abilities(o.id).delete)}}),2),J=Y[0].isDragging,X=Y[1],Q=a.useRef(),ee=a.useCallback((function(){Q.current&&(clearTimeout(Q.current),Q.current=void 0)}),[]),te=DocumentLink_slicedToArray(Object(Ae.a)({accept:"document",drop:function drop(t,r){r.didDrop()||i&&_.move(t.id,i.id,o.id)},canDrop:function canDrop(t,r){return!d&&!!L&&!L.includes(r.getItem().id)},hover:function hover(t,r){C&&r.canDrop()&&r.isOver({shallow:!0})&&(Q.current||(Q.current=setTimeout((function(){Q.current=void 0,r.isOver({shallow:!0})&&N(!0)}),500)))},collect:function collect(t){return{isOverReparent:t.isOver({shallow:!0}),canDropToReparent:t.canDrop()}}}),2),re=te[0],ne=re.isOverReparent,oe=re.canDropToReparent,ae=te[1],ie=DocumentLink_slicedToArray(Object(Ae.a)({accept:"document",drop:function drop(t){V?i&&t.id!==o.id&&(G?_.move(t.id,i.id,o.id,0):_.move(t.id,i.id,b,y+1)):v(E("You can't reorder documents in an alphabetically sorted collection"),{type:"info",timeout:5e3})},collect:function collect(t){return{isOverReorder:t.isOver(),isDraggingAnyDocument:t.canDrop()}}}),2),le=ie[0],ce=le.isOverReorder,ue=le.isDraggingAnyDocument,se=ie[1],pe=a.useMemo((function(){var t=(null==l?void 0:l.isDraft)&&(null==l?void 0:l.isActive)&&(null==l?void 0:l.parentDocumentId)===o.id;return i&&t?Object(tt.a)([null==l?void 0:l.asNavigationNode].concat(DocumentLink_toConsumableArray(o.children)),i.sort,!1):o.children}),[null==l?void 0:l.isActive,null==l?void 0:l.isDraft,null==l?void 0:l.parentDocumentId,null==l?void 0:l.asNavigationNode,i,o]),de=a.useCallback((function(t){P(t)}),[]),me=((null==l?void 0:l.id)===o.id?l.title:o.title)||E("Untitled"),fe=w.abilities(o.id),ye=G&&!J,be=pe.length>0;return a.createElement(a.Fragment,null,a.createElement(Ze,{onDragLeave:ee},a.createElement(ct,{key:o.id,ref:X,$isDragging:J,$isMoving:Z},a.createElement("div",{ref:ae},a.createElement(qe,{documentId:o.id,activeClassName:"activeDropZone"},a.createElement(ke.b,{expanded:be?ye:void 0,onDisclosureClick:z,onMouseEnter:U,to:{pathname:o.url,state:{title:o.title,starred:D}},label:a.createElement(Ke,{title:me,onSubmit:B,onEditing:de,canUpdate:O,maxLength:et.b}),isActive:function isActive(t,r){var o;return!!t&&(null===(o=r.state)||void 0===o?void 0:o.starred)===D},isActiveDrop:ne&&oe,depth:m,exact:!1,showActions:q,scrollIntoViewIfNeeded:!D,isDraft:d,ref:r,menu:!j||Z||I||ue?void 0:a.createElement(Te.a,null,fe.createChildDocument&&a.createElement(rt.a,{tooltip:E("New doc"),delay:500},a.createElement(De.a,{type:void 0,"aria-label":E("New nested document"),as:Qe.a,to:Object(k.m)(j.collectionId,{parentDocumentId:j.id})},a.createElement(c.PlusIcon,null))),a.createElement(nt.a,{document:j,onOpen:$,onClose:W}))})))),ue&&a.createElement(at,{disabled:!V,isActiveDrop:ce,innerRef:se})),a.createElement(lt,{expanded:G&&!J},pe.map((function(t,r){return a.createElement(ut,{key:t.id,collection:i,node:t,activeDocument:l,prefetchDocument:p,isDraft:t.isDraft,depth:m+1,index:r,parentId:o.id})}))))}var ct=P.default.div.withConfig({displayName:"DocumentLink__Draggable",componentId:"sc-18bx6nr-0"})(["opacity:",";pointer-events:",";"],(function(t){return t.$isDragging||t.$isMoving?.5:1}),(function(t){return t.$isMoving?"none":"all"})),ut=Object(l.c)(a.forwardRef(InnerDocumentLink)),st=ut,pt=Object(P.default)(me.a).withConfig({displayName:"EmptyCollectionPlaceholder__Empty",componentId:"sc-19mfbge-0"})(["margin-left:46px;margin-bottom:0;line-height:34px;font-style:italic;"]),dt=function EmptyCollectionPlaceholder(){var t=Object(u.a)().t;return a.createElement(pt,{type:"tertiary",size:"small"},t("Empty"))};function useCollectionDocuments_toConsumableArray(t){return function useCollectionDocuments_arrayWithoutHoles(t){if(Array.isArray(t))return useCollectionDocuments_arrayLikeToArray(t)}(t)||function useCollectionDocuments_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function useCollectionDocuments_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return useCollectionDocuments_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return useCollectionDocuments_arrayLikeToArray(t,r)}(t)||function useCollectionDocuments_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useCollectionDocuments_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function CollectionLinkChildren_slicedToArray(t,r){return function CollectionLinkChildren_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function CollectionLinkChildren_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function CollectionLinkChildren_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return CollectionLinkChildren_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return CollectionLinkChildren_arrayLikeToArray(t,r)}(t,r)||function CollectionLinkChildren_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CollectionLinkChildren_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var mt=Object(l.c)((function CollectionLinkChildren(t){var r=t.collection,o=t.expanded,i=t.prefetchDocument,l=Object(K.a)(r.id),c=Object(A.a)().showToast,p="index"===r.sort.field,d=Object(h.a)().documents,m=Object(u.a)().t,y=function useCollectionDocuments(t,r){return a.useMemo((function(){return t?!(null==r?void 0:r.isActive)||!(null==r?void 0:r.isDraft)||(null==r?void 0:r.collectionId)!==t.id||null!=r&&r.parentDocumentId?t.sortedDocuments:Object(tt.a)([r.asNavigationNode].concat(useCollectionDocuments_toConsumableArray(t.sortedDocuments)),t.sort,!1):[]}),[null==r?void 0:r.isActive,null==r?void 0:r.isDraft,null==r?void 0:r.collectionId,null==r?void 0:r.parentDocumentId,null==r?void 0:r.asNavigationNode,t,null==t?void 0:t.sortedDocuments,null==t?void 0:t.id,null==t?void 0:t.sort])}(r,d.active),b=CollectionLinkChildren_slicedToArray(Object(Ae.a)({accept:"document",drop:function drop(t){p?r&&d.move(t.id,r.id,void 0,0):c(m("You can't reorder documents in an alphabetically sorted collection"),{type:"info",timeout:5e3})},collect:function collect(t){return{isOverReorder:!!t.isOver(),isDraggingAnyDocument:!!t.canDrop()}}}),2),v=b[0],g=v.isOverReorder,_=v.isDraggingAnyDocument,w=b[1];return a.createElement(lt,{expanded:o},_&&l.update&&a.createElement(at,{disabled:!p,isActiveDrop:g,innerRef:w,position:"top"}),y.map((function(t,o){return a.createElement(st,{key:t.id,node:t,collection:r,activeDocument:d.active,prefetchDocument:i,isDraft:t.isDraft,depth:2,index:o})})),0===y.length&&a.createElement(dt,null))}));function DraggableCollectionLink_slicedToArray(t,r){return function DraggableCollectionLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function DraggableCollectionLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function DraggableCollectionLink_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return DraggableCollectionLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return DraggableCollectionLink_arrayLikeToArray(t,r)}(t,r)||function DraggableCollectionLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DraggableCollectionLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ft=Object(P.default)("div").withConfig({displayName:"DraggableCollectionLink__Draggable",componentId:"sc-9yscvu-0"})(["opacity:",";pointer-events:",";"],(function(t){return t.$isDragging?.5:1}),(function(t){return t.$isDragging?"none":"auto"})),yt=Object(l.c)((function DraggableCollectionLink(t){var r=t.collection,o=t.activeDocument,l=t.prefetchDocument,c=t.belowCollection,u=function useLocationStateStarred(){var t;return null===(t=Object(i.i)().state)||void 0===t?void 0:t.starred}(),p=Object(h.a)(),d=p.ui,m=p.collections,y=DraggableCollectionLink_slicedToArray(a.useState(r.id===d.activeCollectionId&&!u),2),b=y[0],v=y[1],g=Object(K.a)(r.id),_=c?c.index:null,w=DraggableCollectionLink_slicedToArray(Object(Ae.a)({accept:"collection",drop:function drop(t){m.move(t.id,je()(r.index,_))},canDrop:function canDrop(t){return r.id!==t.id&&(!c||t.id!==c.id)},collect:function collect(t){return{isCollectionDropping:t.isOver(),isDraggingAnyCollection:"collection"===t.getItemType()}}}),2),E=w[0],O=E.isCollectionDropping,A=E.isDraggingAnyCollection,k=w[1],S=DraggableCollectionLink_slicedToArray(Object(Ie.a)({type:"collection",item:function item(){return{id:r.id}},collect:function collect(t){return{isCollectionDragging:t.isDragging()}},canDrag:function canDrag(){return g.move}}),2),C=S[0].isCollectionDragging,j=S[1];a.useEffect((function(){r.id!==d.activeCollectionId||u||v(!0)}),[r.id,d.activeCollectionId,u]);var T=a.useCallback((function(t){t.preventDefault(),v((function(t){return!t}))}),[]),x=b&&!C;return a.createElement(a.Fragment,null,a.createElement(ft,{key:r.id,ref:j,$isDragging:C},a.createElement(Xe,{collection:r,expanded:x,activeDocument:o,onDisclosureClick:T,isDraggingAnyCollection:A})),a.createElement(Ze,null,a.createElement(mt,{collection:r,expanded:x,prefetchDocument:l}),A&&a.createElement(at,{isActiveDrop:O,innerRef:k})))})),bt=o("G6XK"),ht=o("hxQc"),vt=o("vp35");function usePersistedState_slicedToArray(t,r){return function usePersistedState_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function usePersistedState_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function usePersistedState_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return usePersistedState_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return usePersistedState_arrayLikeToArray(t,r)}(t,r)||function usePersistedState_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function usePersistedState_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function Header_slicedToArray(t,r){return function Header_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Header_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Header_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Header_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Header_arrayLikeToArray(t,r)}(t,r)||function Header_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Header_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var gt=Object(P.keyframes)(["from{opacity:0;transform:translateY(-8px);}to{opacity:1;transform:translateY(0px);}"]),_t=P.default.span.withConfig({displayName:"Header__Fade",componentId:"gu36x3-0"})(["animation:"," 100ms ease-in-out;"],gt),wt=P.default.button.withConfig({displayName:"Header__Button",componentId:"gu36x3-1"})(["display:inline-flex;align-items:center;font-size:13px;font-weight:600;user-select:none;color:",";letter-spacing:0.03em;margin:0;padding:4px 2px 4px 12px;height:22px;border:0;background:none;border-radius:4px;-webkit-appearance:none;transition:all 100ms ease;&:not(:disabled):hover,&:not(:disabled):active{color:",";cursor:pointer;}"],(function(t){return t.theme.textTertiary}),(function(t){return t.theme.textSecondary})),Et=Object(P.default)(c.CollapsedIcon).withConfig({displayName:"Header__Disclosure",componentId:"gu36x3-2"})(["transition:opacity 100ms ease,transform 100ms ease,fill 50ms !important;",";opacity:0;"],(function(t){return!t.expanded&&"transform: rotate(-90deg);"})),Ot=P.default.h3.withConfig({displayName:"Header__H3",componentId:"gu36x3-3"})(["margin:0;&:hover{","{opacity:1;}}"],Et),At=function Header(t){var r=t.id,o=t.title,i=t.children,l=Header_slicedToArray(a.useState(!0),2),c=l[0],u=l[1],p=Header_slicedToArray(function usePersistedState(t,r){var o=usePersistedState_slicedToArray(a.useState((function(){var o;return"undefined"==typeof window?r:null!==(o=ht.a.get(t))&&void 0!==o?o:r})),2),i=o[0],l=o[1];return Object(vt.a)("storage",(function(r){r.key===t&&r.newValue&&l(JSON.parse(r.newValue))})),[i,function setValue(r){try{var o=r instanceof Function?r(i):r;l(o),ht.a.set(t,o)}catch(t){bt.a.debug("misc","Failed to persist state",{error:t})}}]}("sidebar-header-".concat(r),!0),2),d=p[0],m=p[1];a.useEffect((function(){d||u(!1)}),[d]);var y=a.useCallback((function(){m(!d)}),[d,m]);return a.createElement(a.Fragment,null,a.createElement(Ot,null,a.createElement(wt,{onClick:y,disabled:!r},o,r&&a.createElement(Et,{expanded:d,color:"currentColor",size:20}))),d&&(c?i:a.createElement(_t,null,i)))},kt=o("g3N8");var St=P.default.div.withConfig({displayName:"PlaceholderCollections__Wrapper",componentId:"czjkha-0"})(["margin:4px 12px;width:75%;"]),Ct=function PlaceholderCollections(){return a.createElement(St,null,a.createElement(kt.a,null),a.createElement(kt.a,{delay:.2}),a.createElement(kt.a,{delay:.4}))},jt=["action"];function SidebarAction_extends(){return(SidebarAction_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function SidebarAction_objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function SidebarAction_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var Tt=Object(l.c)((function SidebarAction(t){var r=t.action,o=SidebarAction_objectWithoutProperties(t,jt),i=Object(Re.a)({isContextMenu:!1,isCommandBar:!1,activeCollectionId:void 0,activeDocumentId:void 0}),l=Object(ye.b)(r,i);return ze()("button"===l.type,"passed action must be a button"),l.visible?a.createElement(ke.b,SidebarAction_extends({onClick:l.onClick,icon:l.icon,label:l.title},o)):null}));function Collections_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Collections_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Collections_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Collections_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Collections_slicedToArray(t,r){return function Collections_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Collections_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Collections_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Collections_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Collections_arrayLikeToArray(t,r)}(t,r)||function Collections_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Collections_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var xt=Object(l.c)((function Collections(){var t=Collections_slicedToArray(a.useState(!1),2),r=t[0],o=t[1],i=Collections_slicedToArray(a.useState(),2),l=i[0],c=i[1],p=Object(h.a)(),d=p.documents,m=p.collections,y=Object(A.a)().showToast,b=!!m.orderedData.length,v=Object(u.a)().t,g=m.orderedData;a.useEffect((function(){function _load(){return(_load=Collections_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(m.isLoaded||r||l){t.next=14;break}return t.prev=1,o(!0),t.next=5,m.fetchPage({limit:100});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),y(v("Collections could not be loaded, please reload the app"),{type:"error"}),c(t.t0);case 11:return t.prev=11,o(!1),t.finish(11);case 14:case"end":return t.stop()}}),_callee,null,[[1,7,11,14]])})))).apply(this,arguments)}!function load(){return _load.apply(this,arguments)}()}),[m,r,y,l,v]);var _,w=Collections_slicedToArray(Object(Ae.a)({accept:"collection",drop:(_=Collections_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:m.move(t.id,je()(null,g[0].index));case 1:case"end":return r.stop()}}),_callee2)}))),function drop(t){return _.apply(this,arguments)}),canDrop:function canDrop(t){return t.id!==g[0].id},collect:function collect(t){return{isCollectionDropping:t.isOver(),isDraggingAnyCollection:"collection"===t.getItemType()}}}),2),O=w[0],k=O.isCollectionDropping,S=O.isDraggingAnyCollection,C=w[1],j=a.createElement(a.Fragment,null,S&&a.createElement(at,{isActiveDrop:k,innerRef:C,position:"top"}),g.map((function(t,r){return a.createElement(yt,{key:t.id,collection:t,activeDocument:d.active,prefetchDocument:d.prefetchDocument,belowCollection:g[r+1]})})),a.createElement(Tt,{action:xe.a,depth:0}));return!m.isLoaded||l?a.createElement(E.a,{column:!0},a.createElement(At,{id:"collections",title:v("Collections")},a.createElement(Ct,null))):a.createElement(E.a,{column:!0},a.createElement(At,{id:"collections",title:v("Collections")},a.createElement(Ze,null,b?j:a.createElement(Te.a,null,j))))})),It=o("k++3"),Pt=o("Jomb"),Dt=o("9AlY"),Lt=o("OR1y");function StarredLink_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function StarredLink_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){StarredLink_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){StarredLink_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function StarredLink_slicedToArray(t,r){return function StarredLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function StarredLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function StarredLink_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return StarredLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return StarredLink_arrayLikeToArray(t,r)}(t,r)||function StarredLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StarredLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Rt=P.default.div.withConfig({displayName:"StarredLink__Draggable",componentId:"sc-1m25klg-0"})(["position:relative;opacity:",";"],(function(t){return t.$isDragging?.5:1})),Mt=Object(l.c)((function StarredLink(t){var r=t.star,o=Object(P.useTheme)(),l=Object(h.a)(),u=l.ui,p=l.collections,d=l.documents,m=StarredLink_slicedToArray(Object(Me.a)(),3),y=m[0],b=m[1],v=m[2],g=r.documentId,_=r.collectionId,w=p.get(_),E=function StarredLink_useLocationStateStarred(){var t;return null===(t=Object(i.i)().state)||void 0===t?void 0:t.starred}(),O=StarredLink_slicedToArray(Object(a.useState)(r.collectionId===u.activeCollectionId&&!!E),2),A=O[0],k=O[1];a.useEffect((function(){r.collectionId===u.activeCollectionId&&E&&k(!0)}),[r.collectionId,u.activeCollectionId,E]),Object(a.useEffect)((function(){function _load(){return(_load=StarredLink_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=3;break}return t.next=3,d.fetch(g);case 3:case"end":return t.stop()}}),_callee)})))).apply(this,arguments)}!function load(){return _load.apply(this,arguments)}()}),[g,d]);var S=a.useCallback((function(t){t.preventDefault(),t.stopPropagation(),k((function(t){return!t}))}),[]),C=StarredLink_slicedToArray(Object(Ie.a)({type:"star",item:function item(){return r},collect:function collect(t){return{isDragging:!!t.isDragging()}},canDrag:function canDrag(){return!0}}),2),j=C[0].isDragging,T=C[1],x=StarredLink_slicedToArray(Object(Ae.a)({accept:"star",drop:function drop(t){var o=null==r?void 0:r.next();null==t||t.save({index:je()((null==r?void 0:r.index)||null,(null==o?void 0:o.index)||null)})},collect:function collect(t){return{isOverReorder:!!t.isOver(),isDraggingAny:!!t.canDrop()}}}),2),I=x[0],D=I.isOverReorder,L=I.isDraggingAny,R=x[1],M=A&&!j;if(g){var G=d.get(g);if(!G)return null;var N=p.get(G.collectionId),z=Object(Dt.a)(G.title).emoji,U=z?G.title.replace(z,""):G.titleWithDefault,B=N?N.getDocumentChildren(g):[],H=B.length>0;return a.createElement(a.Fragment,null,a.createElement(Rt,{key:r.id,ref:T,$isDragging:j},a.createElement(ke.b,{depth:0,to:{pathname:G.url,state:{starred:!0}},expanded:H&&!j?A:void 0,onDisclosureClick:S,icon:z?a.createElement(Lt.a,{emoji:z}):a.createElement(c.StarredIcon,{color:o.yellow}),isActive:function isActive(t,r){var o;return!!t&&!0===(null===(o=r.state)||void 0===o?void 0:o.starred)},label:U,exact:!1,showActions:y,menu:G&&!j?a.createElement(Te.a,null,a.createElement(nt.a,{document:G,onOpen:b,onClose:v})):void 0})),a.createElement(Ze,null,a.createElement(lt,{expanded:M},B.map((function(t,r){return a.createElement(st,{key:t.id,node:t,collection:N,activeDocument:d.active,isDraft:t.isDraft,depth:2,index:r})}))),L&&a.createElement(at,{isActiveDrop:D,innerRef:R})))}return w?a.createElement(a.Fragment,null,a.createElement(Rt,{key:null==r?void 0:r.id,ref:T,$isDragging:j},a.createElement(Xe,{collection:w,expanded:j?void 0:M,activeDocument:d.active,onDisclosureClick:S,isDraggingAnyCollection:L})),a.createElement(Ze,null,a.createElement(mt,{collection:w,expanded:M}),L&&a.createElement(at,{isActiveDrop:D,innerRef:R}))):null}));function Starred_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Starred_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Starred_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Starred_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Starred_slicedToArray(t,r){return function Starred_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Starred_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Starred_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Starred_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Starred_arrayLikeToArray(t,r)}(t,r)||function Starred_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Starred_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Gt=Object(l.c)((function Starred(){var t=Starred_slicedToArray(a.useState(),2),r=t[0],o=t[1],i=Starred_slicedToArray(a.useState(10),2),l=i[0],c=i[1],p=Object(A.a)().showToast,d=Object(h.a)().stars,m=Object(u.a)().t,y=a.useCallback(Starred_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var t,r=arguments;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,a.prev=1,a.next=4,d.fetchPage({limit:11,offset:t});case 4:a.next=10;break;case 6:a.prev=6,a.t0=a.catch(1),p(m("Starred documents could not be loaded"),{type:"error"}),o(a.t0);case 10:case"end":return a.stop()}}),_callee,null,[[1,6]])}))),[d,p,m]);a.useEffect((function(){y()}),[y]);var b,v=function(){var t=Starred_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(l);case 2:c((function(t){return t+10}));case 3:case"end":return t.stop()}}),_callee2)})));return function handleShowMore(){return t.apply(this,arguments)}}(),g=Starred_slicedToArray(Object(Ae.a)({accept:"star",drop:(b=Starred_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:null==t||t.save({index:je()(null,d.orderedData[0].index)});case 1:case"end":return r.stop()}}),_callee3)}))),function drop(t){return b.apply(this,arguments)}),collect:function collect(t){return{isOverReorder:!!t.isOver(),isDraggingAnyStar:"star"===t.getItemType()}}}),2),_=g[0],w=_.isOverReorder,O=_.isDraggingAnyStar,k=g[1];return d.orderedData.length?a.createElement(Je.Provider,{value:!0},a.createElement(E.a,{column:!0},a.createElement(At,{id:"starred",title:m("Starred")},a.createElement(Ze,null,O&&a.createElement(at,{isActiveDrop:w,innerRef:k,position:"top"}),d.orderedData.slice(0,l).map((function(t){return a.createElement(Mt,{key:t.id,star:t})})),d.orderedData.length>l&&a.createElement(ke.b,{onClick:v,label:"".concat(m("Show more"),"…"),disabled:d.isFetching,depth:0}),(d.isFetching||r)&&!d.orderedData.length&&a.createElement(E.a,{column:!0},a.createElement(Ct,null)))))):null})),Nt=o("Wlb0"),zt=o("9vYF");function TrashLink_slicedToArray(t,r){return function TrashLink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function TrashLink_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function TrashLink_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return TrashLink_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return TrashLink_arrayLikeToArray(t,r)}(t,r)||function TrashLink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TrashLink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Ft=Object(l.c)((function TrashLink(){var t,r=Object(h.a)(),o=r.policies,i=r.documents,l=Object(u.a)().t,p=TrashLink_slicedToArray(Object(a.useState)(),2),d=p[0],m=p[1],y=TrashLink_slicedToArray(Object(Ae.a)({accept:"document",drop:function drop(t){var r=i.get(t.id);setTimeout((function(){return r&&m(r)}),1)},canDrop:function canDrop(t){return o.abilities(t.id).delete},collect:function collect(t){return{isDocumentDropping:t.isOver()}}}),2),b=y[0].isDocumentDropping,v=y[1];return a.createElement(a.Fragment,null,a.createElement("div",{ref:v},a.createElement(ke.b,{to:Object(k.s)(),icon:a.createElement(c.TrashIcon,{color:"currentColor",open:b}),exact:!1,label:l("Trash"),active:null===(t=i.active)||void 0===t?void 0:t.isDeleted,isActiveDrop:b})),d&&a.createElement(zt.a,{title:l("Delete {{ documentName }}",{documentName:d.noun}),onRequestClose:function onRequestClose(){return m(void 0)},isOpen:!0,isCentered:!0},a.createElement(Nt.a,{document:d,onSubmit:function onSubmit(){return m(void 0)}})))}));function App_extends(){return(App_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function App_slicedToArray(t,r){return function App_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function App_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function App_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return App_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return App_arrayLikeToArray(t,r)}(t,r)||function App_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function App_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Ut=Object(P.default)(Ee.a).withConfig({displayName:"App__StyledTeamLogo",componentId:"jyttl8-0"})(["margin-right:4px;background:white;"]),Bt=Object(P.default)(me.a).withConfig({displayName:"App__Drafts",componentId:"jyttl8-1"})(["margin:0 4px;"]),Ht=Object(l.c)((function AppSidebar(){var t=Object(u.a)().t,r=Object(h.a)().documents,o=Object(W.a)(),i=Object(K.a)(o.id);a.useEffect((function(){r.fetchDrafts(),r.fetchTemplates()}),[r]);var l=App_slicedToArray(a.useState(),2),p=l[0],d=l[1],m=a.useCallback((function(t){return d(t)}),[]),y=a.useMemo((function(){return{rootElement:p}}),[p]);return a.createElement(Oe.a,{ref:m},p&&a.createElement(se.a,{backend:pe.a,options:y},a.createElement(we,null,(function(r){return a.createElement(Pt.a,App_extends({},r,{title:o.name,image:a.createElement(Ut,{src:o.avatarUrl,width:32,height:32,alt:t("Logo")}),showDisclosure:!0}))})),a.createElement(de.a,{flex:!0,shadow:!0},a.createElement(It.a,null,a.createElement(ke.b,{to:Object(k.i)(),icon:a.createElement(c.HomeIcon,{color:"currentColor"}),exact:!1,label:t("Home")}),a.createElement(ke.b,{to:Object(k.p)(),icon:a.createElement(c.SearchIcon,{color:"currentColor"}),label:t("Search"),exact:!1}),i.createDocument&&a.createElement(ke.b,{to:Object(k.f)(),icon:a.createElement(c.EditIcon,{color:"currentColor"}),label:a.createElement(E.a,{align:"center",justify:"space-between"},t("Drafts"),a.createElement(Bt,{size:"xsmall",type:"tertiary"},r.totalDrafts))})),a.createElement(It.a,null,a.createElement(Gt,null)),a.createElement(It.a,{auto:!0},a.createElement(xt,null)),a.createElement(It.a,null,i.createDocument&&a.createElement(a.Fragment,null,a.createElement(ke.b,{to:Object(k.r)(),icon:a.createElement(c.ShapesIcon,{color:"currentColor"}),exact:!1,label:t("Templates"),active:r.active?r.active.isTemplate&&!r.active.isDeleted&&!r.active.isArchived:void 0}),a.createElement(Se,null),a.createElement(Ft,null)),a.createElement(Tt,{action:fe.a})))))})),qt=o("bt/X"),$t=o.n(qt),Wt=o("zA/5"),Kt=o("BDQ4"),Zt=(o("x0AG"),o("xfcy")),Vt=o("kiQV");function Version_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Version_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Version_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Version_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Version_slicedToArray(t,r){return function Version_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Version_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Version_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Version_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Version_arrayLikeToArray(t,r)}(t,r)||function Version_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Version_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function Version(){var t=Version_slicedToArray(a.useState(0),2),r=t[0],o=t[1],i=Object(u.a)().t;return a.useEffect((function(){function _loadReleases(){return(_loadReleases=Version_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var t,r,a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch("https://api.github.com/repos/outline/outline/releases");case 2:return t=i.sent,i.next=5,t.json();case 5:r=i.sent,Array.isArray(r)&&(a=r.map((function(t){return t.tag_name})).findIndex((function(t){return t==="v".concat(Vt.a)})))>=0&&o(a);case 7:case"end":return i.stop()}}),_callee)})))).apply(this,arguments)}!function loadReleases(){return _loadReleases.apply(this,arguments)}()}),[]),a.createElement(ke.b,{href:"https://github.com/outline/outline/releases",label:a.createElement(a.Fragment,null,"v",Vt.a,a.createElement("br",null),a.createElement(Yt,null,0===r?i("Up to date"):i("{{ releasesBehind }} versions behind",{releasesBehind:r,count:r})))})}var Yt=Object(P.default)(Zt.a).withConfig({displayName:"Version__LilBadge",componentId:"sc-1t8r2ba-0"})(["margin-left:0;"]);var Jt,Xt,Qt,er=Object(P.default)(c.BackIcon).withConfig({displayName:"Settings__StyledBackIcon",componentId:"sc-16qcmzt-0"})(["margin-left:4px;"]),tr=Object(l.c)((function SettingsSidebar(){var t=Object(u.a)().t,r=Object(i.h)(),o=Object(Wt.a)(),l=$t()(o,"group"),c=a.useCallback((function(){r.push("/home")}),[r]);return a.createElement(Oe.a,null,a.createElement(Pt.a,{title:t("Return to App"),image:a.createElement(er,{color:"currentColor"}),onClick:c,minHeight:48}),a.createElement(E.a,{auto:!0,column:!0},a.createElement(de.a,{shadow:!0},Object.keys(l).map((function(t){return a.createElement(It.a,{key:t},a.createElement(At,{title:t},l[t].map((function(t){return a.createElement(ke.b,{key:t.path,to:t.path,icon:a.createElement(t.icon,{color:"currentColor"}),label:t.name})}))))})),!Kt.a&&a.createElement(It.a,null,a.createElement(At,{title:t("Installation")}),a.createElement(Version,null)))))})),rr=o("wsPv");function AuthenticatedLayout_typeof(t){return(AuthenticatedLayout_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AuthenticatedLayout_initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function AuthenticatedLayout_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function AuthenticatedLayout_defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function AuthenticatedLayout_setPrototypeOf(t,r){return(AuthenticatedLayout_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function AuthenticatedLayout_createSuper(t){var r=function AuthenticatedLayout_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=AuthenticatedLayout_getPrototypeOf(t);if(r){var i=AuthenticatedLayout_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return AuthenticatedLayout_possibleConstructorReturn(this,o)}}function AuthenticatedLayout_possibleConstructorReturn(t,r){if(r&&("object"===AuthenticatedLayout_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return AuthenticatedLayout_assertThisInitialized(t)}function AuthenticatedLayout_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AuthenticatedLayout_getPrototypeOf(t){return(AuthenticatedLayout_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=a.lazy((function(){return o.e("document-history").then(o.bind(null,"RDsd"))})),or=a.lazy((function(){return o.e("command-bar").then(o.bind(null,"k6yO"))})),ar=Object(l.c)((Xt=function(t){!function AuthenticatedLayout_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&AuthenticatedLayout_setPrototypeOf(t,r)}(AuthenticatedLayout,t);var r=AuthenticatedLayout_createSuper(AuthenticatedLayout);function AuthenticatedLayout(){var t,o;AuthenticatedLayout_classCallCheck(this,AuthenticatedLayout);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return AuthenticatedLayout_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),AuthenticatedLayout_initializerDefineProperty(o,"keyboardShortcutsOpen",Qt,AuthenticatedLayout_assertThisInitialized(o)),o.goToSearch=function(t){t.metaKey||t.ctrlKey||(t.preventDefault(),t.stopPropagation(),rr.a.push(Object(k.p)()))},o.goToNewDocument=function(t){if(!t.metaKey&&!t.altKey){var r=o.props.ui.activeCollectionId;if(r)o.props.policies.abilities(r).update&&rr.a.push(Object(k.m)(r))}},t))}return function AuthenticatedLayout_createClass(t,r,o){return r&&AuthenticatedLayout_defineProperties(t.prototype,r),o&&AuthenticatedLayout_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(AuthenticatedLayout,[{key:"render",value:function render(){var t=this.props.auth,r=t.user,o=t.team,l=t.authenticated&&r&&o;if(t.isSuspended)return a.createElement(le,null);var c=l?a.createElement(Te.a,null,a.createElement(i.e,null,a.createElement(i.c,{path:Object(k.q)(),component:tr}),a.createElement(i.c,{component:Ht}))):void 0,u=a.createElement(a.Suspense,{fallback:null},a.createElement(i.e,null,a.createElement(i.c,{path:"/doc/".concat(k.l,"/history/:revisionId?"),component:nr})));return a.createElement(ce.a,{title:null==o?void 0:o.name,sidebar:c,rightRail:u},a.createElement(ue.a,{trigger:"n",handler:this.goToNewDocument}),a.createElement(ue.a,{trigger:"t",handler:this.goToSearch}),a.createElement(ue.a,{trigger:"/",handler:this.goToSearch}),this.props.children,a.createElement(or,null))}}]),AuthenticatedLayout}(a.Component),Qt=function AuthenticatedLayout_applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}(Xt.prototype,"keyboardShortcutsOpen",[x.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Jt=Xt))||Jt,ir=Object(I.a)()(Object(G.a)(ar)),lr=o("cLfh"),cr=o("MwZc"),ur=a.lazy((function(){return o.e("settings").then(o.bind(null,"ASYw"))})),sr=a.lazy((function(){return Promise.all([o.e("vendors~collection~document~shared-document"),o.e("vendors~document~shared-document~shared-editor"),o.e("default~document~shared-document~shared-editor"),o.e("default~collection~document~shared-document"),o.e("default~document~shared-document"),o.e("document")]).then(o.bind(null,"Wa2q"))})),pr=a.lazy((function(){return Promise.all([o.e("vendors~collection~document~shared-document"),o.e("vendors~collection~home"),o.e("default~collection~document~shared-document"),o.e("default~collection~search"),o.e("collection")]).then(o.bind(null,"GqKv"))})),dr=a.lazy((function(){return Promise.all([o.e("vendors~collection~home"),o.e("home")]).then(o.bind(null,"dti6"))})),mr=a.lazy((function(){return Promise.all([o.e("default~collection~search"),o.e("search")]).then(o.bind(null,"vF4B"))})),fr=function RedirectDocument(t){var r=t.match;return a.createElement(i.b,{to:r.params.documentSlug?"/doc/".concat(r.params.documentSlug):"/home"})};function AuthenticatedRoutes(){return a.createElement(cr.b,null,a.createElement(ir,null,a.createElement(a.Suspense,{fallback:a.createElement(w.a,null,a.createElement(O.a,null))},a.createElement(i.e,null,a.createElement(i.b,{from:"/dashboard",to:"/home"}),a.createElement(lr.a,{path:"/home/:tab",component:dr}),a.createElement(lr.a,{path:"/home",component:dr}),a.createElement(lr.a,{exact:!0,path:"/templates",component:ne}),a.createElement(lr.a,{exact:!0,path:"/templates/:sort",component:ne}),a.createElement(lr.a,{exact:!0,path:"/drafts",component:B}),a.createElement(lr.a,{exact:!0,path:"/archive",component:v}),a.createElement(lr.a,{exact:!0,path:"/trash",component:oe}),a.createElement(i.b,{exact:!0,from:"/starred",to:"/home"}),a.createElement(i.b,{exact:!0,from:"/collections/*",to:"/collection/*"}),a.createElement(lr.a,{exact:!0,path:"/collection/:id/new",component:T}),a.createElement(lr.a,{exact:!0,path:"/collection/:id/:tab",component:pr}),a.createElement(lr.a,{exact:!0,path:"/collection/:id",component:pr}),a.createElement(lr.a,{exact:!0,path:"/d/".concat(k.l),component:fr}),a.createElement(lr.a,{exact:!0,path:"/doc/".concat(k.l,"/history/:revisionId?"),component:sr}),a.createElement(lr.a,{exact:!0,path:"/doc/".concat(k.l,"/edit"),component:sr}),a.createElement(lr.a,{path:"/doc/".concat(k.l),component:sr}),a.createElement(lr.a,{exact:!0,path:"/search",component:mr}),a.createElement(lr.a,{exact:!0,path:"/search/:term",component:mr}),a.createElement(lr.a,{path:"/404",component:H.a}),a.createElement(ur,null),a.createElement(lr.a,{component:H.a})))))}},GPU1:function(t,r,o){"use strict";o.d(r,"a",(function(){return d})),o.d(r,"b",(function(){return m}));var a=o("tsqv"),i=o("q1tI"),l=o("f5jo"),c=o("g0Ti"),u=o("b2r9"),p=o("ho7B"),d=Object(u.c)({name:function name(t){var r=t.t;return"".concat(r("Invite people"),"…")},icon:i.createElement(a.PlusIcon,null),keywords:"team member user",section:p.g,visible:function visible(t){var r,o=t.stores;return o.policies.abilities((null===(r=o.auth.team)||void 0===r?void 0:r.id)||"").inviteUser},perform:function perform(t){var r=t.t;l.a.dialogs.openModal({title:r("Invite people"),content:i.createElement(c.a,{onSubmit:l.a.dialogs.closeAllModals})})}}),m=[d]},HMRN:function(t,r,o){"use strict";(function(t){o("07d7"),o("FZtP"),o("tkto"),o("E9XD"),o("+2oP"),o("ExoC"),o("NBAS"),o("SuFq"),o("5s+n"),o("pNMO"),o("4Brf"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("ls82"),o("ma9I"),o("Ew+T"),o("sMBO"),o("rNhl");var a,i,l,c,u,p,d,m,y=o("QLaP"),b=o.n(y),h=o("2vnA"),v=o("TyAF"),g=o("q1tI"),_=o("VQJT"),w=o.n(_),E=o("yzbm"),O=o("vOnD"),A=o("ME/M"),k=o("KFZt"),S=o("IeSd"),C=o("9vYF"),j=o("oN2z"),T=o("vpRw"),x=o("YA5+");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}var I=Object(v.c)((m=d=function(r){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(ImageUpload,r);var o=_createSuper(ImageUpload);function ImageUpload(){var r,a;_classCallCheck(this,ImageUpload);for(var i=arguments.length,d=new Array(i),m=0;m<i;m++)d[m]=arguments[m];return _possibleConstructorReturn(a,(r=a=o.call.apply(o,[this].concat(d)),_initializerDefineProperty(a,"isUploading",l,_assertThisInitialized(a)),_initializerDefineProperty(a,"isCropping",c,_assertThisInitialized(a)),_initializerDefineProperty(a,"zoom",u,_assertThisInitialized(a)),_initializerDefineProperty(a,"file",p,_assertThisInitialized(a)),a.avatarEditorRef=g.createRef(),a.onDropAccepted=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:a.isCropping=!0,a.file=t[0];case 2:case"end":return r.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),a.handleCrop=function(){a.isUploading=!0,t(a.uploadImage)},a.uploadImage=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t,r,o,i,l;return regeneratorRuntime.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return r=null===(t=a.avatarEditorRef.current)||void 0===t?void 0:t.getImage(),b()(r,"canvas is not defined"),o=Object(x.a)(r.toDataURL()),c.prev=3,c.next=6,Object(T.a)(o,{maxHeight:512,maxWidth:512});case 6:return i=c.sent,c.next=9,Object(x.b)(i,{name:a.file.name,public:!0});case 9:l=c.sent,a.props.onSuccess(l.url),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(3),a.props.onError(c.t0.message);case 16:return c.prev=16,a.isUploading=!1,a.isCropping=!1,c.finish(16);case 20:case"end":return c.stop()}}),_callee2,null,[[3,13,16,20]])}))),a.handleClose=function(){a.isUploading=!1,a.isCropping=!1},a.handleZoom=function(t){var r=t.target;r instanceof HTMLInputElement&&(a.zoom=parseFloat(r.value))},r))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ImageUpload,[{key:"renderCropping",value:function renderCropping(){var t=this.props,r=t.ui,o=t.submitText;return g.createElement(C.a,{isOpen:!0,onRequestClose:this.handleClose,title:""},g.createElement(k.a,{auto:!0,column:!0,align:"center",justify:"center"},this.isUploading&&g.createElement(S.b,null),g.createElement(P,null,g.createElement(w.a,{ref:this.avatarEditorRef,image:this.file,width:250,height:250,border:25,borderRadius:this.props.borderRadius,color:"light"===r.theme?[255,255,255,.6]:[0,0,0,.6],scale:this.zoom,rotate:0})),g.createElement(D,{type:"range",min:"0.1",max:"2",step:"0.01",defaultValue:"1",onChange:this.handleZoom}),g.createElement(L,{onClick:this.handleCrop,disabled:this.isUploading},this.isUploading?"Uploading…":o)))}},{key:"render",value:function render(){var t=this;return this.isCropping?this.renderCropping():g.createElement(E.a,{accept:"image/png, image/jpeg",onDropAccepted:this.onDropAccepted},(function(r){var o=r.getRootProps,a=r.getInputProps;return g.createElement("div",o(),g.createElement("input",a()),t.props.children)}))}}]),ImageUpload}(g.Component),d.defaultProps={submitText:"Crop Image",borderRadius:150},l=_applyDecoratedDescriptor((i=m).prototype,"isUploading",[h.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),c=_applyDecoratedDescriptor(i.prototype,"isCropping",[h.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),u=_applyDecoratedDescriptor(i.prototype,"zoom",[h.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1}}),p=_applyDecoratedDescriptor(i.prototype,"file",[h.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=i))||a,P=Object(O.default)(k.a).withConfig({displayName:"ImageUpload__AvatarEditorContainer",componentId:"sc-1yyxgzl-0"})(["margin-bottom:30px;"]),D=O.default.input.withConfig({displayName:"ImageUpload__RangeInput",componentId:"sc-1yyxgzl-1"})(["display:block;width:300px;margin-bottom:30px;height:4px;cursor:pointer;color:inherit;border-radius:99999px;background-color:#dee1e3;appearance:none;&::-webkit-slider-thumb{-webkit-appearance:none;height:16px;width:16px;border-radius:50%;background:",";cursor:pointer;}&:focus{outline:none;}"],(function(t){return t.theme.text})),L=Object(O.default)(A.b).withConfig({displayName:"ImageUpload__CropButton",componentId:"sc-1yyxgzl-2"})(["width:300px;"]);r.a=Object(j.a)(I)}).call(this,o("URgk").setImmediate)},Hwz2:function(t,r,o){"use strict";var a=o("vOnD").default.img.withConfig({displayName:"TeamLogo",componentId:"sc-9zrn57-0"})(["width:",";height:",";border-radius:4px;border:1px solid ",";overflow:hidden;flex-shrink:0;"],(function(t){return t.width?"".concat(t.width,"px"):t.size||"auto"}),(function(t){return t.height?"".concat(t.height,"px"):t.size||"38px"}),(function(t){return t.theme.divider}));r.a=a},MwZc:function(t,r,o){"use strict";o.d(r,"a",(function(){return E}));o("tkto"),o("E9XD"),o("+2oP"),o("ExoC"),o("NBAS"),o("SuFq"),o("5s+n"),o("sMBO"),o("pjDv"),o("rB9j"),o("pNMO"),o("4Brf"),o("0oug"),o("TeQF"),o("5DmW"),o("27RR");var a,i,l,c=o("J2m7"),u=o.n(c),p=(o("ls82"),o("ma9I"),o("PKPk"),o("4mDm"),o("3bBZ"),o("07d7"),o("FZtP"),o("QLaP")),d=o.n(p),m=o("2vnA"),y=o("TyAF"),b=o("q1tI"),h=o("gFX4"),v=o.n(h),g=o("oN2z"),_="hidden",w="visibilitychange";function getVisibilityListener(){return w}function getPageVisible(){return!document[_]}function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return c=t.done,t},e:function e(t){u=!0,l=t},f:function f(){try{c||null==o.return||o.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}"hidden"in document?(_="hidden",w="visibilitychange"):"mozHidden"in document?(_="mozHidden",w="mozvisibilitychange"):"webkitHidden"in document&&(_="webkitHidden",w="webkitvisibilitychange");var E=b.createContext(null),O=Object(y.c)((i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(SocketProvider,t);var r=_createSuper(SocketProvider);function SocketProvider(){var t,o;_classCallCheck(this,SocketProvider);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),_initializerDefineProperty(o,"socket",l,_assertThisInitialized(o)),o.checkConnection=function(){var t;null!==(t=o.socket)&&void 0!==t&&t.disconnected&&getPageVisible()&&(o.socket.close(),o.socket=null,o.createConnection())},o.createConnection=function(){o.socket=v()(window.location.origin,{path:"/realtime",transports:["websocket"],reconnectionDelay:1e3,reconnectionDelayMax:3e4}),d()(o.socket,"Socket should be defined"),o.socket.authenticated=!1;var t=o.props,r=t.auth,a=t.toasts,i=t.documents,l=t.collections,c=t.groups,p=t.pins,m=t.stars,y=t.memberships,b=t.policies,h=t.presence,g=t.views,_=t.fileOperations;r.token&&(o.socket.on("connect",(function(){var t;null===(t=o.socket)||void 0===t||t.emit("authentication",{token:r.token})})),o.socket.on("disconnect",(function(){h.clear()})),o.socket.on("reconnect_attempt",(function(){var t;o.socket&&(o.socket.io.opts.transports=null!=r&&null!==(t=r.team)&&void 0!==t&&t.domain?["websocket"]:["websocket","polling"])})),o.socket.on("authenticated",(function(){o.socket&&(o.socket.authenticated=!0)})),o.socket.on("unauthorized",(function(t){throw o.socket&&(o.socket.authenticated=!1),a.showToast(t.message,{type:"error"}),t})),o.socket.on("entities",function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var o,a,p,d,m,h,v,g,_,w,E,O,A,k,S,C,j;return regeneratorRuntime.wrap((function _callee2$(T){for(;;)switch(T.prev=T.next){case 0:if(!t.documentIds){T.next=38;break}o=_createForOfIteratorHelper(t.documentIds),T.prev=2,o.s();case 4:if((a=o.n()).done){T.next=30;break}if(p=a.value,d=p.id,m=i.get(d)||{},"documents.delete"!==t.event){T.next=13;break}return(h=i.get(d))&&(h.deletedAt=p.updatedAt),b.remove(d),T.abrupt("continue",28);case 13:if(g=(v=m).title,v.updatedAt!==p.updatedAt){T.next=16;break}return T.abrupt("continue",28);case 16:return T.prev=16,T.next=19,i.fetch(d,{force:!0});case 19:m=T.sent,T.next=27;break;case 22:if(T.prev=22,T.t0=T.catch(16),404!==T.t0.statusCode&&403!==T.t0.statusCode){T.next=27;break}return i.remove(d),T.abrupt("return");case 27:g!==m.title&&(t.collectionIds||(t.collectionIds=[]),u()(t.collectionIds,{id:m.collectionId})||t.collectionIds.push({id:m.collectionId}));case 28:T.next=4;break;case 30:T.next=35;break;case 32:T.prev=32,T.t1=T.catch(2),o.e(T.t1);case 35:return T.prev=35,o.f(),T.finish(35);case 38:if(!t.collectionIds){T.next=60;break}_=_createForOfIteratorHelper(t.collectionIds),T.prev=40,E=regeneratorRuntime.mark((function _callee(){var r,o,a;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(r=w.value,o=r.id,a=l.get(o),"collections.delete"!==t.event){c.next=12;break}return a&&(a.deletedAt=r.updatedAt),i.inCollection(o).forEach((function(t){t.deletedAt=r.updatedAt,b.remove(t.id)})),i.removeCollectionDocuments(o),y.removeCollectionMemberships(o),l.remove(o),b.remove(o),c.abrupt("return","continue");case 12:if((null==a?void 0:a.updatedAt)!==r.updatedAt){c.next=14;break}return c.abrupt("return","continue");case 14:return c.prev=14,c.next=17,l.fetch(o,{force:!0});case 17:c.next=27;break;case 19:if(c.prev=19,c.t0=c.catch(14),404!==c.t0.statusCode&&403!==c.t0.statusCode){c.next=27;break}return i.removeCollectionDocuments(o),y.removeCollectionMemberships(o),l.remove(o),b.remove(o),c.abrupt("return",{v:void 0});case 27:case"end":return c.stop()}}),_callee,null,[[14,19]])})),_.s();case 43:if((w=_.n()).done){T.next=52;break}return T.delegateYield(E(),"t2",45);case 45:if("continue"!==(O=T.t2)){T.next=48;break}return T.abrupt("continue",50);case 48:if("object"!==_typeof(O)){T.next=50;break}return T.abrupt("return",O.v);case 50:T.next=43;break;case 52:T.next=57;break;case 54:T.prev=54,T.t3=T.catch(40),_.e(T.t3);case 57:return T.prev=57,_.f(),T.finish(57);case 60:if(!t.groupIds){T.next=89;break}A=_createForOfIteratorHelper(t.groupIds),T.prev=62,A.s();case 64:if((k=A.n()).done){T.next=81;break}if(S=k.value,C=S.id,j=c.get(C)||{},j.updatedAt!==S.updatedAt){T.next=71;break}return T.abrupt("continue",79);case 71:return T.prev=71,T.next=74,c.fetch(C,{force:!0});case 74:T.next=79;break;case 76:T.prev=76,T.t4=T.catch(71),404!==T.t4.statusCode&&403!==T.t4.statusCode||c.remove(C);case 79:T.next=64;break;case 81:T.next=86;break;case 83:T.prev=83,T.t5=T.catch(62),A.e(T.t5);case 86:return T.prev=86,A.f(),T.finish(86);case 89:if(!t.teamIds){T.next=92;break}return T.next=92,r.fetch();case 92:case"end":return T.stop()}}),_callee2,null,[[2,32,35,38],[16,22],[40,54,57,60],[62,83,86,89],[71,76]])})));return function(r){return t.apply(this,arguments)}}()),o.socket.on("pins.create",(function(t){p.add(t)})),o.socket.on("pins.update",(function(t){p.add(t)})),o.socket.on("pins.delete",(function(t){p.remove(t.modelId)})),o.socket.on("stars.create",(function(t){m.add(t)})),o.socket.on("stars.update",(function(t){m.add(t)})),o.socket.on("stars.delete",(function(t){m.remove(t.modelId)})),o.socket.on("documents.permanent_delete",(function(t){i.remove(t.documentId)})),o.socket.on("collections.add_user",(function(t){r.user&&t.userId===r.user.id&&l.fetch(t.collectionId,{force:!0}),i.inCollection(t.collectionId).forEach((function(t){b.remove(t.id)}))})),o.socket.on("collections.remove_user",(function(t){r.user&&t.userId===r.user.id?(l.remove(t.collectionId),y.removeCollectionMemberships(t.collectionId),i.removeCollectionDocuments(t.collectionId)):y.remove("".concat(t.userId,"-").concat(t.collectionId))})),o.socket.on("collections.update_index",(function(t){var r=l.get(t.collectionId);r&&r.updateIndex(t.index)})),o.socket.on("fileOperations.create",function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var o;return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:(o=r.user)&&_.add(_objectSpread(_objectSpread({},t),{},{user:o}));case 2:case"end":return a.stop()}}),_callee3)})));return function(r){return t.apply(this,arguments)}}()),o.socket.on("fileOperations.update",function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var o;return regeneratorRuntime.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:(o=r.user)&&_.add(_objectSpread(_objectSpread({},t),{},{user:o}));case 2:case"end":return a.stop()}}),_callee4)})));return function(r){return t.apply(this,arguments)}}()),o.socket.on("join",(function(t){var r;null===(r=o.socket)||void 0===r||r.emit("join",t)})),o.socket.on("leave",(function(t){var r;null===(r=o.socket)||void 0===r||r.emit("leave",t)})),o.socket.on("document.presence",(function(t){h.init(t.documentId,t.userIds,t.editingIds)})),o.socket.on("user.join",(function(t){h.touch(t.documentId,t.userId,t.isEditing),g.touch(t.documentId,t.userId)})),o.socket.on("user.leave",(function(t){h.leave(t.documentId,t.userId),g.touch(t.documentId,t.userId)})),o.socket.on("user.presence",(function(t){h.touch(t.documentId,t.userId,t.isEditing)})))},t))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(SocketProvider,[{key:"componentDidMount",value:function componentDidMount(){this.createConnection(),document.addEventListener(getVisibilityListener(),this.checkConnection)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.socket&&(this.socket.authenticated=!1,this.socket.disconnect()),document.removeEventListener(getVisibilityListener(),this.checkConnection)}},{key:"render",value:function render(){return b.createElement(E.Provider,{value:this.socket},this.props.children)}}]),SocketProvider}(b.Component),l=function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}(i.prototype,"socket",[m.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=i))||a;r.b=Object(g.a)(O)},PgeF:function(t,r,o){"use strict";o.d(r,"a",(function(){return useImportDocument}));o("ls82"),o("ma9I"),o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("sMBO"),o("pjDv"),o("rB9j"),o("5s+n");var a=o("QLaP"),i=o.n(a),l=o("q1tI"),c=o("9Koi"),u=o("Ty5D"),p=o("1RBS"),d=o("Y8J7");function _createForOfIteratorHelper(t,r){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return c=t.done,t},e:function e(t){u=!0,l=t},f:function f(){try{c||null==o.return||o.return()}finally{if(u)throw l}}}}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var m=!1;function useImportDocument(t,r){var o=Object(p.a)().documents,a=Object(d.a)().showToast,y=_slicedToArray(l.useState(!1),2),b=y[0],h=y[1],v=Object(c.a)().t,g=Object(u.h)();return{handleFiles:l.useCallback(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var l,c,u,p,d,y,b,_,w=arguments;return regeneratorRuntime.wrap((function _callee$(E){for(;;)switch(E.prev=E.next){case 0:if(l=w.length>0&&void 0!==w[0]?w[0]:[],!m){E.next=3;break}return E.abrupt("return");case 3:if(l.length){E.next=5;break}return E.abrupt("return");case 5:if(h(!0),m=!0,E.prev=7,c=t,u=1===l.length,!r||t){E.next=16;break}return E.next=13,o.fetch(r);case 13:p=E.sent,i()(p,"Document not available"),c=p.collectionId;case 16:d=_createForOfIteratorHelper(l),E.prev=17,d.s();case 19:if((y=d.n()).done){E.next=27;break}return b=y.value,E.next=23,o.import(b,r,c,{publish:!0});case 23:_=E.sent,u&&g.push(_.url);case 25:E.next=19;break;case 27:E.next=32;break;case 29:E.prev=29,E.t0=E.catch(17),d.e(E.t0);case 32:return E.prev=32,d.f(),E.finish(32);case 35:E.next=40;break;case 37:E.prev=37,E.t1=E.catch(7),a("".concat(v("Could not import file"),". ").concat(E.t1.message),{type:"error"});case 40:return E.prev=40,h(!1),m=!1,E.finish(40);case 44:case"end":return E.stop()}}),_callee,null,[[7,37,40,44],[17,29,32,35]])}))),[v,o,g,a,t,r]),isImporting:b}}},PiAM:function(t,r,o){"use strict";var a=o("vOnD").default.h1.withConfig({displayName:"Heading",componentId:"sc-1uhl3as-0"})(["display:flex;align-items:center;user-select:none;",""],(function(t){return t.centered?"text-align: center;":""}));r.a=a},W0Gj:function(t,r,o){"use strict";o("mRH6"),o("zKZe");var a=o("q1tI"),i=o("vOnD");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var l=a.forwardRef((function(t,r){return a.createElement(c,_extends({},t,{ref:r}))})),c=i.default.button.withConfig({displayName:"ButtonLink__Button",componentId:"sc-53a8i9-0"})(["margin:0;padding:0;border:0;color:",";line-height:inherit;background:none;text-decoration:none;cursor:pointer;"],(function(t){return t.theme.link}));r.a=l},XDOE:function(t,r,o){"use strict";o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("sMBO"),o("pjDv"),o("rB9j"),o("5s+n"),o("ls82");var a=o("TyAF"),i=o("q1tI"),l=o("9Koi"),c=o("3k8n"),u=o("Vc3o"),p=o("bJVt"),d=o("ME/M"),m=o("KFZt"),y=o("PHil"),b=o("9vYF"),h=o("yppz"),v=o("1RBS"),g=o("Y8J7");function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}r.a=Object(a.c)((function GroupNew(t){var r=t.onSubmit,o=Object(v.a)().groups,a=Object(l.a)().t,_=Object(g.a)().showToast,w=_slicedToArray(i.useState(),2),E=w[0],O=w[1],A=_slicedToArray(i.useState(!1),2),k=A[0],S=A[1],C=_slicedToArray(i.useState(),2),j=C[0],T=C[1],x=function(){var t=function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),S(!0),r=new u.a({name:E},o),a.prev=3,a.t0=T,a.next=7,r.save();case 7:a.t1=a.sent,(0,a.t0)(a.t1),a.next=14;break;case 11:a.prev=11,a.t2=a.catch(3),_(a.t2.message,{type:"error"});case 14:return a.prev=14,S(!1),a.finish(14);case 17:case"end":return a.stop()}}),_callee,null,[[3,11,14,17]])})));return function handleSubmit(r){return t.apply(this,arguments)}}();return i.createElement(i.Fragment,null,i.createElement("form",{onSubmit:x},i.createElement(h.a,{type:"secondary"},i.createElement(c.a,null,"Groups are for organizing your team. They work best when centered around a function or a responsibility — Support or Engineering for example.")),i.createElement(m.a,null,i.createElement(y.c,{type:"text",label:"Name",onChange:function handleNameChange(t){O(t.target.value)},value:E,required:!0,autoFocus:!0,flex:!0})),i.createElement(h.a,{type:"secondary"},i.createElement(c.a,null,"You’ll be able to add people to the group next.")),i.createElement(d.b,{type:"submit",disabled:k||!E},k?"".concat(a("Creating"),"…"):a("Continue"))),i.createElement(b.a,{title:a("Group members"),onRequestClose:r,isOpen:!!j},j&&i.createElement(p.a,{group:j})))}))},XvGy:function(t,r,o){"use strict";var a=o("q1tI"),i=o("9Koi"),l=o("a/BF");r.a=function DateFilter(t){var r=t.dateFilter,o=t.onSelect,c=Object(i.a)().t,u=a.useMemo((function(){return[{key:"",label:c("Any time")},{key:"day",label:c("Past day")},{key:"week",label:c("Past week")},{key:"month",label:c("Past month")},{key:"year",label:c("Past year")}]}),[c]);return a.createElement(l.a,{options:u,activeKey:r,onSelect:o,defaultLabel:c("Any time")})}},YNGt:function(t,r,o){"use strict";o.d(r,"a",(function(){return useQuery}));o("4mDm"),o("07d7"),o("PKPk"),o("3bBZ"),o("mGGf"),o("rB9j"),o("hByQ");var a=o("Ty5D");function useQuery(){return new URLSearchParams(Object(a.i)().search)}},"a/BF":function(t,r,o){"use strict";o("fbCW"),o("07d7"),o("ma9I"),o("2B1R"),o("zKZe");var a=o("q1tI"),i=o("LU5X"),l=o("EHHx"),c=o("vOnD"),u=o("ME/M"),p=o("Cqmt"),d=o("JFwc"),m=o("yppz");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var y=Object(c.default)(m.a).withConfig({displayName:"FilterOptions__Note",componentId:"b19bg4-0"})(["margin-top:2px;margin-bottom:0;line-height:1.2em;font-size:14px;font-weight:400;color:",";"],(function(t){return t.theme.textTertiary})),b=c.default.div.withConfig({displayName:"FilterOptions__LabelWithNote",componentId:"b19bg4-1"})(["font-weight:500;text-align:left;&:hover ","{color:",";}"],y,(function(t){return t.theme.white50})),h=Object(c.default)(u.b).withConfig({displayName:"FilterOptions__StyledButton",componentId:"b19bg4-2"})(["box-shadow:none;text-transform:none;border-color:transparent;height:auto;&:hover{background:transparent;}","{line-height:24px;min-height:auto;}"],u.a),v=c.default.div.withConfig({displayName:"FilterOptions__Wrapper",componentId:"b19bg4-3"})(["margin-right:8px;"]);r.a=function FilterOptions(t){var r=t.options,o=t.activeKey,c=void 0===o?"":o,u=t.defaultLabel,m=void 0===u?"Filter options":u,g=t.selectedPrefix,_=void 0===g?"":g,w=t.className,E=t.onSelect,O=Object(i.a)({modal:!0}),A=r.find((function(t){return t.key===c}))||r[0],k=A?"".concat(_," ").concat(A.label):"";return a.createElement(v,null,a.createElement(l.a,O,(function(t){return a.createElement(h,_extends({},t,{className:w,neutral:!0,disclosure:!0}),c?k:m)})),a.createElement(p.d,_extends({"aria-label":m},O),r.map((function(t){return a.createElement(d.c,_extends({key:t.key,onClick:function onClick(){E(t.key),O.hide()},selected:t.key===c},O),t.note?a.createElement(b,null,t.label,a.createElement(y,null,t.note)):t.label)}))))}},aQKp:function(t,r,o){"use strict";o("ToJy"),o("oVuX"),o("07d7"),o("5s+n"),o("zKZe"),o("ls82");var a=o("TyAF"),i=o("tsqv"),l=o("q1tI"),c=o("9Koi"),u=o("Ty5D"),p=o("LU5X"),d=o("EHHx"),m=o("s2m+"),y=o("PMWr"),b=o("lSJf"),h=(o("sMBO"),o("pNMO"),o("4Brf"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("pjDv"),o("rB9j"),o("3k8n")),v=o("ME/M"),g=o("KFZt"),_=o("yppz"),w=o("Y8J7");function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var E=Object(a.c)((function CollectionExport(t){var r=t.collection,o=t.onSubmit,a=_slicedToArray(l.useState(!1),2),i=a[0],u=a[1],p=Object(c.a)().t,d=Object(w.a)().showToast,m=l.useCallback(function(){var t=function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),u(!0),a.next=4,r.export();case 4:u(!1),d(p("Export started, you will receive an email when it’s complete.")),o();case 7:case"end":return a.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),[r,o,d,p]);return l.createElement(g.a,{column:!0},l.createElement("form",{onSubmit:m},l.createElement(_.a,{type:"secondary"},l.createElement(h.a,{defaults:"Exporting the collection <em>{{collectionName}}</em> may take a few seconds. Your documents will be a zip of folders with files in Markdown format. Please visit the Export section on settings to get the zip.",values:{collectionName:r.name},components:{em:l.createElement("strong",null)}})),l.createElement(v.b,{type:"submit",disabled:i,primary:!0},i?"".concat(p("Exporting"),"…"):p("Export Collection"))))})),O=o("5pTz"),A=o("wC+D"),k=o("SJh+"),S=o("1RBS"),C=o("R9tu");function CollectionDeleteDialog_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var j=Object(a.c)((function CollectionDeleteDialog(t){var r=t.collection,o=t.onSubmit,a=Object(k.a)(),i=Object(S.a)().ui,p=Object(u.h)(),d=Object(c.a)().t,m=function(){var t=function CollectionDeleteDialog_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){CollectionDeleteDialog_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){CollectionDeleteDialog_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=r.id===i.activeCollectionId,a.next=3,r.delete();case 3:o(),t&&p.push(Object(C.i)());case 5:case"end":return a.stop()}}),_callee)})));return function handleSubmit(){return t.apply(this,arguments)}}();return l.createElement(A.a,{onSubmit:m,submitText:d("I’m sure – Delete"),savingText:"".concat(d("Deleting"),"…"),danger:!0},l.createElement(l.Fragment,null,l.createElement(_.a,{type:"secondary"},l.createElement(h.a,{defaults:"Are you sure about that? Deleting the <em>{{collectionName}}</em> collection is permanent and cannot be restored, however documents within will be moved to the trash.",values:{collectionName:r.name},components:{em:l.createElement("strong",null)}})),a.defaultCollectionId===r.id?l.createElement(_.a,{type:"secondary"},l.createElement(h.a,{defaults:"Also, <em>{{collectionName}}</em> is being used as the start view – deleting it will reset the start view to the Home page.",values:{collectionName:r.name},components:{em:l.createElement("strong",null)}})):null))})),T=o("Cqmt"),x=o("dCEO"),I=o("wdeN"),P=o("e0LR");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function CollectionMenu_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}r.a=Object(a.c)((function CollectionMenu(t){var r=t.collection,o=t.label,a=t.modal,h=void 0===a||a,v=t.placement,g=t.onOpen,_=t.onClose,A=Object(p.a)({modal:h,placement:v}),D=Object(k.a)(),L=Object(S.a)(),R=L.documents,M=L.dialogs,G=Object(w.a)().showToast,N=Object(c.a)().t,z=Object(u.h)(),U=l.useRef(null),B=l.useCallback((function(){M.openModal({title:N("Collection permissions"),content:l.createElement(O.a,{collection:r})})}),[r,M,N]),H=l.useCallback((function(){M.openModal({title:N("Edit collection"),content:l.createElement(b.a,{collectionId:r.id,onSubmit:M.closeAllModals})})}),[r.id,M,N]),q=l.useCallback((function(){M.openModal({title:N("Export collection"),content:l.createElement(E,{collection:r,onSubmit:M.closeAllModals})})}),[r,M,N]),$=l.useCallback((function(t){t.preventDefault(),z.push(Object(C.m)(r.id))}),[z,r.id]),W=l.useCallback((function(t){t.stopPropagation()}),[]),K=l.useCallback((function(t){t.preventDefault(),t.stopPropagation(),U.current&&U.current.click()}),[U]),Z=l.useCallback(function(){var t=function CollectionMenu_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){CollectionMenu_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){CollectionMenu_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var o,a,i;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if((o=Object(y.a)(t)).length){l.next=3;break}return l.abrupt("return");case 3:return l.prev=3,a=o[0],l.next=7,R.import(a,null,r.id,{publish:!0});case 7:i=l.sent,z.push(i.url),l.next=15;break;case 11:throw l.prev=11,l.t0=l.catch(3),G(l.t0.message,{type:"error"}),l.t0;case 15:case"end":return l.stop()}}),_callee,null,[[3,11]])})));return function(r){return t.apply(this,arguments)}}(),[z,G,r.id,R]),V=l.useCallback((function(t){return A.hide(),r.save({sort:{field:t,direction:"asc"}})}),[r,A]),Y=l.useCallback((function(){M.openModal({isCentered:!0,title:N("Delete collection"),content:l.createElement(j,{collection:r,onSubmit:M.closeAllModals})})}),[M,N,r]),J=l.useCallback((function(t){t.preventDefault(),t.stopPropagation(),r.star()}),[r]),X=l.useCallback((function(t){t.preventDefault(),t.stopPropagation(),r.unstar()}),[r]),Q="title"===r.sort.field,ee=Object(P.a)(r.id),te=Object(P.a)(D.id),re=l.useMemo((function(){return[{type:"button",title:N("Unstar"),onClick:X,visible:r.isStarred&&!!ee.unstar,icon:l.createElement(i.UnstarredIcon,null)},{type:"button",title:N("Star"),onClick:J,visible:!r.isStarred&&!!ee.star,icon:l.createElement(i.StarredIcon,null)},{type:"separator"},{type:"button",title:N("New document"),visible:ee.update,onClick:$,icon:l.createElement(i.NewDocumentIcon,null)},{type:"button",title:N("Import document"),visible:ee.update,onClick:K,icon:l.createElement(i.ImportIcon,null)},{type:"separator"},{type:"submenu",title:N("Sort in sidebar"),visible:ee.update,icon:Q?l.createElement(i.AlphabeticalSortIcon,{color:"currentColor"}):l.createElement(i.ManualSortIcon,{color:"currentColor"}),items:[{type:"button",title:N("Alphabetical sort"),onClick:function onClick(){return V("title")},selected:Q},{type:"button",title:N("Manual sort"),onClick:function onClick(){return V("index")},selected:!Q}]},{type:"button",title:"".concat(N("Edit"),"…"),visible:ee.update,onClick:H,icon:l.createElement(i.EditIcon,null)},{type:"button",title:"".concat(N("Permissions"),"…"),visible:ee.update,onClick:B,icon:l.createElement(i.PadlockIcon,null)},{type:"button",title:"".concat(N("Export"),"…"),visible:!(!r||!te.export),onClick:q,icon:l.createElement(i.ExportIcon,null)},{type:"separator"},{type:"button",title:"".concat(N("Delete"),"…"),dangerous:!0,visible:!(!r||!ee.delete),onClick:Y,icon:l.createElement(i.TrashIcon,null)}]}),[N,X,r,ee.unstar,ee.star,ee.update,ee.delete,J,$,K,Q,H,B,te.export,q,Y,V]);return re.length?l.createElement(l.Fragment,null,l.createElement(m.a,null,l.createElement("label",null,N("Import document"),l.createElement("input",{type:"file",ref:U,onChange:Z,onClick:W,accept:R.importFileTypes.join(", "),tabIndex:-1}))),o?l.createElement(d.a,A,o):l.createElement(x.a,_extends({"aria-label":N("Show menu")},A)),l.createElement(T.d,_extends({},A,{onOpen:g,onClose:_,"aria-label":N("Collection")}),l.createElement(I.a,_extends({},A,{items:re})))):null}))},bJVt:function(t,r,o){"use strict";o("ls82"),o("sMBO"),o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("pjDv"),o("rB9j"),o("5s+n");var a=o("TyAF"),i=o("tsqv"),l=o("q1tI"),c=o("9Koi"),u=o("3k8n"),p=o("ME/M"),d=o("W//j"),m=o("KFZt"),y=o("9vYF"),b=o("A4e3"),h=o("SQX4"),v=o("yppz"),g=o("e0LR"),_=o("1RBS"),w=o("Y8J7"),E=(o("FZtP"),o("tkto"),o("E9XD"),o("ExoC"),o("NBAS"),o("SuFq"),o("sEfC")),O=o.n(E),A=(o("ma9I"),o("2vnA")),k=o("LCzB"),S=o("g0Ti"),C=o("W0Gj"),j=o("PHil"),T=o("oN2z"),x=o("98Z2"),I=o("xfcy"),P=o("lICW"),D=o("Jrrx"),L=(o("zKZe"),o("LU5X")),R=o("Cqmt"),M=o("dCEO"),G=o("wdeN");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var N,z,U,B,H=Object(a.c)((function GroupMemberMenu(t){var r=t.onRemove,o=Object(c.a)().t,a=Object(L.a)({modal:!0});return l.createElement(l.Fragment,null,l.createElement(M.a,_extends({"aria-label":o("Show menu")},a)),l.createElement(R.d,_extends({},a,{"aria-label":o("Group member options")}),l.createElement(G.a,_extends({},a,{items:[{type:"button",dangerous:!0,title:o("Remove"),onClick:r}]}))))})),q=function GroupMemberListItem(t){var r=t.user,o=t.onRemove,a=t.onAdd;return l.createElement(P.b,{title:r.name,subtitle:l.createElement(l.Fragment,null,r.lastActiveAt?l.createElement(l.Fragment,null,"Active ",l.createElement(D.a,{dateTime:r.lastActiveAt})," ago"):"Never signed in",r.isInvited&&l.createElement(I.a,null,"Invited"),r.isAdmin&&l.createElement(I.a,{primary:r.isAdmin},"Admin")),image:l.createElement(x.b,{src:r.avatarUrl,size:32}),actions:l.createElement(m.a,{align:"center"},o&&l.createElement(H,{onRemove:o}),a&&l.createElement(p.b,{onClick:a,neutral:!0},"Add"))})};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}var $=Object(a.c)((z=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(AddPeopleToGroup,t);var r=_createSuper(AddPeopleToGroup);function AddPeopleToGroup(){var t,o;_classCallCheck(this,AddPeopleToGroup);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),_initializerDefineProperty(o,"inviteModalOpen",U,_assertThisInitialized(o)),_initializerDefineProperty(o,"query",B,_assertThisInitialized(o)),o.handleInviteModalOpen=function(){o.inviteModalOpen=!0},o.handleInviteModalClose=function(){o.inviteModalOpen=!1},o.handleFilter=function(t){o.query=t.target.value,o.debouncedFetch()},o.debouncedFetch=O()((function(){o.props.users.fetchPage({query:o.query})}),250),o.handleAddUser=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return r=o.props.t,a.prev=1,a.next=4,o.props.groupMemberships.create({groupId:o.props.group.id,userId:t.id});case 4:o.props.toasts.showToast(r("{{userName}} was added to the group",{userName:t.name}),{type:"success"}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),o.props.toasts.showToast(r("Could not add user"),{type:"error"});case 10:case"end":return a.stop()}}),_callee,null,[[1,7]])})));return function(r){return t.apply(this,arguments)}}(),t))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(AddPeopleToGroup,[{key:"render",value:function render(){var t=this,r=this.props,o=r.users,a=r.group,i=r.auth,c=r.t,u=i.user,p=i.team;return u&&p?l.createElement(m.a,{column:!0},l.createElement(v.a,{type:"secondary"},c("Add team members below to give them access to the group. Need to add someone who’s not yet on the team yet?")," ",l.createElement(C.a,{onClick:this.handleInviteModalOpen},c("Invite them to {{teamName}}",{teamName:p.name})),"."),l.createElement(j.c,{type:"search",placeholder:"".concat(c("Search by name"),"…"),value:this.query,onChange:this.handleFilter,label:c("Search people"),labelHidden:!0,autoFocus:!0,flex:!0}),l.createElement(b.a,{empty:this.query?l.createElement(d.a,null,c("No people matching your search")):l.createElement(d.a,null,c("No people left to add")),items:o.notInGroup(a.id,this.query),fetch:this.query?void 0:o.fetchPage,renderItem:function renderItem(r){return l.createElement(q,{key:r.id,user:r,onAdd:function onAdd(){return t.handleAddUser(r)}})}}),l.createElement(y.a,{title:c("Invite people"),onRequestClose:this.handleInviteModalClose,isOpen:this.inviteModalOpen},l.createElement(S.a,{onSubmit:this.handleInviteModalClose}))):null}}]),AddPeopleToGroup}(l.Component),U=_applyDecoratedDescriptor(z.prototype,"inviteModalOpen",[A.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),B=_applyDecoratedDescriptor(z.prototype,"query",[A.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),N=z))||N,W=Object(k.a)()(Object(T.a)($));function GroupMembers_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var K=Object(a.c)((function GroupMembers(t){var r=t.group,o=_slicedToArray(l.useState(!1),2),a=o[0],E=o[1],O=Object(_.a)(),A=O.users,k=O.groupMemberships,S=Object(w.a)().showToast,C=Object(c.a)().t,j=Object(g.a)(r.id),T=function handleAddModal(t){E(t)},x=function(){var t=function GroupMembers_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){GroupMembers_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){GroupMembers_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,k.delete({groupId:r.id,userId:t.id});case 3:S(C("{{userName}} was removed from the group",{userName:t.name}),{type:"success"}),o.next=9;break;case 6:o.prev=6,o.t0=o.catch(0),S(C("Could not remove user"),{type:"error"});case 9:case"end":return o.stop()}}),_callee,null,[[0,6]])})));return function handleRemoveUser(r){return t.apply(this,arguments)}}();return l.createElement(m.a,{column:!0},j.update?l.createElement(l.Fragment,null,l.createElement(v.a,{type:"secondary"},l.createElement(u.a,{defaults:"Add and remove team members in the <em>{{groupName}}</em> group. Adding people to the group will give them access to any collections this group has been added to.",values:{groupName:r.name},components:{em:l.createElement("strong",null)}})),l.createElement("span",null,l.createElement(p.b,{type:"button",onClick:function onClick(){return T(!0)},icon:l.createElement(i.PlusIcon,null),neutral:!0},C("Add people"),"…"))):l.createElement(v.a,{type:"secondary"},l.createElement(u.a,{defaults:"Listing team members in the <em>{{groupName}}</em> group.",values:{groupName:r.name},components:{em:l.createElement("strong",null)}})),l.createElement(h.a,null,l.createElement(u.a,null,"Members")),l.createElement(b.a,{items:A.inGroup(r.id),fetch:k.fetchPage,options:{id:r.id},empty:l.createElement(d.a,null,C("This group has no members.")),renderItem:function renderItem(t){return l.createElement(q,{key:t.id,user:t,onRemove:j.update?function(){return x(t)}:void 0})}}),j.update&&l.createElement(y.a,{title:C("Add people to {{groupName}}",{groupName:r.name}),onRequestClose:function onRequestClose(){return T(!1)},isOpen:a},l.createElement(W,{group:r,onSubmit:function onSubmit(){return T(!1)}})))}));r.a=K},g0Ti:function(t,r,o){"use strict";o("ls82"),o("rB9j"),o("EnZy"),o("sMBO"),o("pDQq"),o("2B1R"),o("pNMO"),o("4Brf"),o("07d7"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("+2oP"),o("pjDv"),o("5s+n");var a=o("TyAF"),i=o("tsqv"),l=o("q1tI"),c=o("9Koi"),u=o("3k8n"),p=o("55Ip"),d=o("vOnD"),m=o("ME/M"),y=o("6HK0"),b=o("KFZt"),h=o("PHil"),v=(o("zKZe"),o("sbG7"));function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var g=function InputSelectRole(t){var r=Object(c.a)().t;return l.createElement(v.a,_extends({label:r("Role"),options:[{label:r("Member"),value:"member"},{label:r("Viewer"),value:"viewer"},{label:r("Admin"),value:"admin"}],ariaLabel:r("Role")},t))},_=o("JGNK"),w=o("yppz"),E=o("FvP1"),O=o("SJh+"),A=o("6BWE"),k=o("e0LR"),S=o("1RBS"),C=o("Y8J7");function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var j=Object(d.default)("div").withConfig({displayName:"Invite__CopyBlock",componentId:"k7l87i-0"})(["margin:2em 0;font-size:14px;background:",";border-radius:8px;padding:16px 16px 8px;"],(function(t){return t.theme.secondaryBackground})),T=Object(d.default)("div").withConfig({displayName:"Invite__Remove",componentId:"k7l87i-1"})(["margin-top:6px;position:absolute;right:-32px;"]);r.a=Object(a.c)((function Invite(t){var r=t.onSubmit,o=_slicedToArray(l.useState(!1),2),a=o[0],d=o[1],v=_slicedToArray(l.useState(!1),2),x=v[0],I=v[1],P=_slicedToArray(l.useState([{email:"",name:"",role:"member"},{email:"",name:"",role:"member"},{email:"",name:"",role:"member"}]),2),D=P[0],L=P[1],R=Object(S.a)().users,M=Object(C.a)().showToast,G=Object(A.a)(),N=Object(O.a)(),z=Object(c.a)().t,U=G.email.split("@")[1],B=Object(k.a)(N.id),H=l.useCallback(function(){var t=function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var o;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),d(!0),a.prev=2,a.next=5,R.invite(D);case 5:o=a.sent,r(),o.sent.length>0?M(z("We sent out your invites!"),{type:"success"}):M(z("Those email addresses are already invited"),{type:"success"}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),M(a.t0.message,{type:"error"});case 13:return a.prev=13,d(!1),a.finish(13);case 16:case"end":return a.stop()}}),_callee,null,[[2,10,13,16]])})));return function(r){return t.apply(this,arguments)}}(),[r,M,D,z,R]),q=l.useCallback((function(t,r){L((function(o){var a=_toConsumableArray(o);return a[r][t.target.name]=t.target.value,a}))}),[]),$=l.useCallback((function(){D.length>=20&&M(z("Sorry, you can only send {{MAX_INVITES}} invites at a time",{MAX_INVITES:20}),{type:"warning"}),L((function(t){var r=_toConsumableArray(t);return r.push({email:"",name:"",role:"member"}),r}))}),[M,D,z]),W=l.useCallback((function(t,r){t.preventDefault(),L((function(t){var o=_toConsumableArray(t);return o.splice(r,1),o}))}),[]),K=l.useCallback((function(){I(!0),M(z("Share link copied"),{type:"success"})}),[M,z]),Z=l.useCallback((function(t,r){L((function(o){var a=_toConsumableArray(o);return a[r].role=t,a}))}),[]);return l.createElement("form",{onSubmit:H},N.guestSignin?l.createElement(w.a,{type:"secondary"},l.createElement(u.a,{defaults:"Invite team members or guests to join your knowledge base. Team members can sign in with {{signinMethods}} or use their email address.",values:{signinMethods:N.signinMethods}})):l.createElement(w.a,{type:"secondary"},l.createElement(u.a,{defaults:"Invite team members to join your knowledge base. They will need to sign in with {{signinMethods}}.",values:{signinMethods:N.signinMethods}})," ",B.update&&l.createElement(u.a,null,"As an admin you can also"," ",l.createElement(p.a,{to:"/settings/security"},"enable email sign-in"),".")),N.subdomain&&l.createElement(j,null,l.createElement(b.a,{align:"flex-end"},l.createElement(h.c,{type:"text",value:N.url,label:z("Want a link to share directly with your team?"),readOnly:!0,flex:!0}),"  ",l.createElement(y.a,{text:N.url,onCopy:K},l.createElement(m.b,{type:"button",icon:l.createElement(i.LinkIcon,null),style:{marginBottom:"16px"},neutral:!0},z(x?"Link copied":"Copy link"))))),D.map((function(t,r){return l.createElement(b.a,{key:r,gap:8},l.createElement(h.c,{type:"email",name:"email",label:z("Email"),labelHidden:0!==r,onChange:function onChange(t){return q(t,r)},placeholder:"example@".concat(U),value:t.email,required:0===r,autoFocus:0===r,flex:!0}),l.createElement(h.c,{type:"text",name:"name",label:z("Full name"),labelHidden:0!==r,onChange:function onChange(t){return q(t,r)},value:t.name,required:!!t.email}),l.createElement(g,{onChange:function onChange(t){return Z(t,r)},value:t.role,labelHidden:0!==r,short:!0}),0!==r&&l.createElement(T,null,l.createElement(E.a,{tooltip:z("Remove invite"),placement:"top"},l.createElement(_.a,{onClick:function onClick(t){return W(t,r)}},l.createElement(i.CloseIcon,null)))))})),l.createElement(b.a,{justify:"space-between"},D.length<=20?l.createElement(m.b,{type:"button",onClick:$,neutral:!0},l.createElement(u.a,null,"Add another"),"…"):l.createElement("span",null),l.createElement(m.b,{type:"submit",disabled:a,"data-on":"click","data-event-category":"invite","data-event-action":"sendInvites"},a?"".concat(z("Inviting"),"…"):z("Send Invites"))),l.createElement("br",null))}))},jwCy:function(t,r,o){"use strict";o("E9XD"),o("07d7"),o("sMBO"),o("zKZe");var a=o("TyAF"),i=o("tsqv"),l=o("q1tI"),c=o("9Koi"),u=o("LU5X"),p=o("EHHx"),d=o("vOnD"),m=o("ME/M"),y=o("cgb6"),b=o("Cqmt"),h=o("4HXL"),v=o("wdeN"),g=o("SJh+"),_=o("e0LR"),w=o("1RBS"),E=o("R9tu");function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var O=function ColorCollectionIcon(t){var r=t.collection;return l.createElement(y.a,{collection:r})};var A=d.default.div.withConfig({displayName:"NewDocumentMenu__CollectionName",componentId:"zt4kha-0"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"]);r.a=Object(a.c)((function NewDocumentMenu(){var t=Object(u.a)({modal:!0}),r=Object(c.a)().t,o=Object(g.a)(),a=Object(w.a)(),d=a.collections,y=a.policies,k=Object(_.a)(o.id),S=l.useMemo((function(){return d.orderedData.reduce((function(t,r){return y.abilities(r.id).update&&t.push({type:"route",to:Object(E.m)(r.id),title:l.createElement(A,null,r.name),icon:l.createElement(O,{collection:r})}),t}),[])}),[d.orderedData,y]);return k.createDocument?l.createElement(l.Fragment,null,l.createElement(p.a,t,(function(t){return l.createElement(m.b,_extends({icon:l.createElement(i.PlusIcon,null),disabled:0===S.length},t),"".concat(r("New doc"),"…"))})),l.createElement(b.d,_extends({},t,{"aria-label":r("New document")}),l.createElement(h.a,null,r("Choose a collection")),l.createElement(v.a,_extends({},t,{items:S})))):null}))},kiQV:function(t){t.exports=JSON.parse('{"a":"0.64.3"}')},vpRw:function(t,r,o){"use strict";o.d(r,"a",(function(){return l}));o("ls82"),o("07d7"),o("5s+n"),o("tkto"),o("pNMO"),o("TeQF"),o("5DmW"),o("FZtP"),o("27RR");var a=o("fI17"),i=o.n(a);function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var l=function(){var t=function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,r){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,a){new i.a(t,_objectSpread(_objectSpread({},r),{},{success:o,error:a}))})));case 1:case"end":return o.stop()}}),_callee)})));return function compressImage(r,o){return t.apply(this,arguments)}}()},xJBO:function(t,r,o){"use strict";o("07d7"),o("FZtP"),o("tkto"),o("E9XD"),o("ExoC"),o("NBAS"),o("SuFq"),o("pNMO"),o("4Brf"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("ma9I"),o("2B1R"),o("+2oP"),o("sMBO");var a,i,l,c=o("2vnA"),u=o("TyAF"),p=o("tsqv"),d=o("q1tI"),m=o("vOnD"),y=o("Iks1"),b=o("bJVt"),h=o("3Y7y"),v=o("KFZt"),g=o("lICW"),_=o("9vYF"),w=o("oN2z");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _initializerDefineProperty(t,r,o,a){o&&Object.defineProperty(t,r,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,a=_getPrototypeOf(t);if(r){var i=_getPrototypeOf(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=Object(u.c)((i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(GroupListItem,t);var r=_createSuper(GroupListItem);function GroupListItem(){var t,o;_classCallCheck(this,GroupListItem);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(i)),_initializerDefineProperty(o,"membersModalOpen",l,_assertThisInitialized(o)),o.handleMembersModalOpen=function(){o.membersModalOpen=!0},o.handleMembersModalClose=function(){o.membersModalOpen=!1},t))}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(GroupListItem,[{key:"render",value:function render(){var t=this.props,r=t.group,o=t.groupMemberships,a=t.showFacepile,i=t.renderActions,l=r.memberCount,c=o.inGroup(r.id).slice(0,y.a).map((function(t){return t.user})),u=l-c.length;return d.createElement(d.Fragment,null,d.createElement(g.b,{image:d.createElement(O,null,d.createElement(p.GroupIcon,{size:24})),title:d.createElement(A,{onClick:this.handleMembersModalOpen},r.name),subtitle:d.createElement(d.Fragment,null,l," member",1===l?"":"s"),actions:d.createElement(v.a,{align:"center",gap:8},a&&d.createElement(h.a,{onClick:this.handleMembersModalOpen,users:c,overflow:u}),i({openMembersModal:this.handleMembersModalOpen}))}),d.createElement(_.a,{title:"Group members",onRequestClose:this.handleMembersModalClose,isOpen:this.membersModalOpen},d.createElement(b.a,{group:r})))}}]),GroupListItem}(d.Component),l=function _applyDecoratedDescriptor(t,r,o,a,i){var l={};return Object.keys(a).forEach((function(t){l[t]=a[t]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=o.slice().reverse().reduce((function(o,a){return a(t,r,o)||o}),l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(t,r,l),l=null),l}(i.prototype,"membersModalOpen",[c.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),a=i))||a,O=Object(m.default)(v.a).withConfig({displayName:"GroupListItem__Image",componentId:"sc-1ff03fs-0"})(["align-items:center;justify-content:center;width:32px;height:32px;background:",";border-radius:32px;"],(function(t){return t.theme.secondaryBackground})),A=m.default.span.withConfig({displayName:"GroupListItem__Title",componentId:"sc-1ff03fs-1"})(["&:hover{text-decoration:underline;cursor:pointer;}"]);r.a=Object(w.a)(E)},"zA/5":function(t,r,o){"use strict";o("E9XD"),o("07d7"),o("tkto"),o("ma9I"),o("pNMO"),o("4Brf"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("pjDv"),o("+2oP"),o("sMBO"),o("rB9j");var a=o("tsqv"),i=o("q1tI"),l=o.n(i),c=o("9Koi"),u=(o("ls82"),o("5s+n"),o("TyAF")),p=o("3k8n"),d=o("ME/M"),m=(o("yXV3"),o("zKZe"),o("cgb6")),y=o("KFZt"),b=o("sbG7"),h=o("XfqE"),v=o("1RBS"),g=o("Y8J7"),_=["onSelectCollection","defaultCollectionId"];function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function _objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var w=function DefaultCollectionInputSelect(t){var r=t.onSelectCollection,o=t.defaultCollectionId,u=_objectWithoutProperties(t,_),p=Object(c.a)().t,d=Object(v.a)().collections,w=_slicedToArray(Object(i.useState)(!1),2),E=w[0],O=w[1],A=_slicedToArray(Object(i.useState)(),2),k=A[0],S=A[1],C=Object(g.a)().showToast;l.a.useEffect((function(){function _load(){return(_load=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(d.isLoaded||E||k){t.next=14;break}return t.prev=1,O(!0),t.next=5,d.fetchPage({limit:100});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),C(p("Collections could not be loaded, please reload the app"),{type:"error"}),S(t.t0);case 11:return t.prev=11,O(!1),t.finish(11);case 14:case"end":return t.stop()}}),_callee,null,[[1,7,11,14]])})))).apply(this,arguments)}!function load(){return _load.apply(this,arguments)}()}),[C,k,p,E,d]);var j=l.a.useMemo((function(){return d.publicCollections.reduce((function(t,r){return[].concat(_toConsumableArray(t),[{label:l.a.createElement(y.a,{align:"center"},l.a.createElement(h.a,null,l.a.createElement(m.a,{collection:r})),r.name),value:r.id}])}),[{label:l.a.createElement(y.a,{align:"center"},l.a.createElement(h.a,null,l.a.createElement(a.HomeIcon,{color:"currentColor"})),p("Home")),value:"home"}])}),[d.publicCollections,p]);return E?null:l.a.createElement(b.a,_extends({value:null!=o?o:"home",options:j,onChange:r,ariaLabel:p("Default collection"),short:!0},u))},E=o("PiAM"),O=o("PHil"),A=o("RgOh"),k=o("yppz"),S=o("pXru"),C=o("SJh+"),j=o("BDQ4"),T=o("vOnD"),x=o("HMRN"),I=["src"];function ImageInput_objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function ImageInput_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}function ImageInput(t){var r=t.src,o=ImageInput_objectWithoutProperties(t,I),a=Object(c.a)().t;return i.createElement(M,null,i.createElement(x.a,o,i.createElement(R,{src:r}),i.createElement(y.a,{auto:!0,align:"center",justify:"center"},a("Upload"))))}var P,D,L="\n  width: 64px;\n  height: 64px;\n",R=T.default.img.withConfig({displayName:"ImageInput__Avatar",componentId:"sc-1u4qzse-0"})(["",";"],L),M=Object(T.default)(y.a).withConfig({displayName:"ImageInput__ImageBox",componentId:"sc-1u4qzse-1"})(["",";position:relative;font-size:14px;border-radius:8px;box-shadow:0 0 0 1px ",";background:",";overflow:hidden;div div{",";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer;transition:all 250ms;}&:hover div{opacity:1;background:rgba(0,0,0,0.75);color:",";}"],L,(function(t){return t.theme.secondaryBackground}),(function(t){return t.theme.background}),L,(function(t){return t.theme.white})),G=(o("3KgV"),o("ufqH")),N=o("ewKk");function _taggedTemplateLiteral(t,r){return r||(r=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))}var z=Object(T.default)(y.a).withConfig({displayName:"SettingRow__Row",componentId:"sc-1i2i6ep-0"})(["display:block;padding:24px 0;border-bottom:1px solid ",";",";&:last-child{border-bottom:0;}"],(function(t){return!1===t.$border?"transparent":Object(G.d)(.5,t.theme.divider)}),Object(N.a)("tablet")(P||(P=_taggedTemplateLiteral(["\n    display: flex;\n  "])))),U=T.default.div.withConfig({displayName:"SettingRow__Column",componentId:"sc-1i2i6ep-1"})(["display:flex;flex-direction:column;flex-basis:100%;flex:1;&:first-child{min-width:60%;}&:last-child{min-width:0;}",";"],Object(N.a)("tablet")(D||(D=_taggedTemplateLiteral(["\n    p {\n      margin-bottom: 0;\n    }\n  "])))),B=Object(T.default)(k.a).withConfig({displayName:"SettingRow__Label",componentId:"sc-1i2i6ep-2"})(["margin-bottom:4px;"]),H=function SettingRow(t){var r=t.visible,o=t.description,a=t.name,l=t.label,c=t.border,u=t.children;return!1===r?null:i.createElement(z,{gap:32,$border:c},i.createElement(U,null,i.createElement(B,{as:"h3"},i.createElement("label",{htmlFor:a},l)),i.createElement(k.a,{type:"secondary"},o)),i.createElement(U,null,u))};function Details_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Details_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Details_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Details_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Details_slicedToArray(t,r){return function Details_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Details_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Details_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Details_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Details_arrayLikeToArray(t,r)}(t,r)||function Details_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Details_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var q=Object(u.c)((function Details(){var t,r=Object(v.a)().auth,o=Object(g.a)().showToast,l=Object(c.a)().t,u=Object(C.a)(),m=Object(i.useRef)(null),y=Details_slicedToArray(Object(i.useState)(u.name),2),b=y[0],h=y[1],_=Details_slicedToArray(Object(i.useState)(u.subdomain),2),T=_[0],x=_[1],I=Details_slicedToArray(Object(i.useState)(u.avatarUrl),2),P=I[0],D=I[1],L=Details_slicedToArray(Object(i.useState)(u.defaultCollectionId),2),R=L[0],M=L[1],G=i.useCallback(function(){var t=Details_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t&&t.preventDefault(),a.prev=1,a.next=4,r.updateTeam({name:b,avatarUrl:P,subdomain:T,defaultCollectionId:R});case 4:o(l("Settings saved"),{type:"success"}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),o(a.t0.message,{type:"error"});case 10:case"end":return a.stop()}}),_callee,null,[[1,7]])})));return function(r){return t.apply(this,arguments)}}(),[r,b,P,T,R,o,l]),N=i.useCallback((function(t){h(t.target.value)}),[]),z=i.useCallback((function(t){x(t.target.value.toLowerCase())}),[]),U=function(){var t=Details_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return D(t),a.next=3,r.updateTeam({avatarUrl:t});case 3:o(l("Logo updated"),{type:"success"});case 4:case"end":return a.stop()}}),_callee2)})));return function handleAvatarUpload(r){return t.apply(this,arguments)}}(),B=i.useCallback((function(t){o(t||l("Unable to upload new logo"))}),[o,l]),q=i.useCallback(function(){var t=Details_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:M("home"===t?null:t);case 2:case"end":return r.stop()}}),_callee3)})));return function(r){return t.apply(this,arguments)}}(),[]),$=null===(t=m.current)||void 0===t?void 0:t.checkValidity();return i.createElement(A.a,{title:l("Details"),icon:i.createElement(a.TeamIcon,{color:"currentColor"})},i.createElement(E.a,null,l("Details")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"These settings affect the way that your knowledge base appears to everyone on the team.")),i.createElement("form",{onSubmit:G,ref:m},i.createElement(H,{label:l("Logo"),name:"avatarUrl",description:l("The logo is displayed at the top left of the application.")},i.createElement(ImageInput,{onSuccess:U,onError:B,src:P,borderRadius:0})),i.createElement(H,{label:l("Name"),name:"name",description:l("The team name, usually the same as your company name.")},i.createElement(O.c,{id:"name",autoComplete:"organization",value:b,onChange:N,required:!0})),i.createElement(H,{visible:S.a.SUBDOMAINS_ENABLED&&j.a,label:l("Subdomain"),name:"subdomain",description:T?i.createElement(i.Fragment,null,i.createElement(p.a,null,"Your knowledge base will be accessible at")," ",i.createElement("strong",null,T,".getoutline.com")):l("Choose a subdomain to enable a login page just for your team.")},i.createElement(O.c,{id:"subdomain",value:T||"",onChange:z,autoComplete:"off",minLength:4,maxLength:32})),i.createElement(H,{border:!1,label:l("Start view"),name:"defaultCollectionId",description:l("This is the screen that team members will first see when they sign in.")},i.createElement(w,{id:"defaultCollectionId",onSelectCollection:q,defaultCollectionId:R})),i.createElement(d.b,{type:"submit",disabled:r.isSaving||!$},r.isSaving?"".concat(l("Saving"),"…"):l("Save"))))})),$=o("A4e3"),W=o("6BWE"),K=o("9TNq"),Z=o("lICW");function Spinner_extends(){return(Spinner_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function Spinner(t){return i.createElement(V,Spinner_extends({width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement(Y,{fill:"none",strokeWidth:"2",strokeLinecap:"round",cx:"8",cy:"8",r:"6"}))}var V=T.default.svg.withConfig({displayName:"Spinner__SVG",componentId:"vqgnqi-0"})(["@keyframes rotator{0%{transform:rotate(0deg);}100%{transform:rotate(270deg);}}animation:rotator 1.4s linear infinite;margin:4px;"]),Y=T.default.circle.withConfig({displayName:"Spinner__Circle",componentId:"vqgnqi-1"})(["@keyframes dash{0%{stroke-dashoffset:47;}50%{stroke-dashoffset:11;transform:rotate(135deg);}100%{stroke-dashoffset:47;transform:rotate(450deg);}}stroke:",";stroke-dasharray:46;stroke-dashoffset:0;transform-origin:center;animation:dash 1.4s ease-in-out infinite;"],(function(t){return t.theme.textSecondary})),J=o("Jrrx"),X=o("LU5X"),Q=o("Cqmt"),ee=o("dCEO"),te=o("wdeN");function FileOperationMenu_extends(){return(FileOperationMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var re=function FileOperationMenu(t){var r=t.id,o=t.onDelete,l=Object(c.a)().t,u=Object(X.a)({modal:!0});return i.createElement(i.Fragment,null,i.createElement(ee.a,FileOperationMenu_extends({"aria-label":l("Show menu")},u)),i.createElement(Q.d,FileOperationMenu_extends({},u,{"aria-label":l("Export options")}),i.createElement(te.a,FileOperationMenu_extends({},u,{items:[{type:"link",title:l("Download"),icon:i.createElement(a.DownloadIcon,null),href:"/api/fileOperations.redirect?id="+r},{type:"separator"},{type:"button",title:l("Delete"),icon:i.createElement(a.TrashIcon,null),dangerous:!0,onClick:o}]}))))};function FileOperationListItem_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var ne=Object(u.c)((function FileOperationListItem(t){var r=t.fileOperation,o=t.handleDelete,l=Object(c.a)().t,u=Object(W.a)(),p=Object(T.useTheme)(),d={creating:l("Processing"),expired:l("Expired"),uploading:l("Processing"),error:l("Failed")},m={creating:i.createElement(Spinner,null),uploading:i.createElement(Spinner,null),expired:i.createElement(a.ArchiveIcon,{color:p.textTertiary}),complete:i.createElement(a.DoneIcon,{color:p.primary}),error:i.createElement(a.WarningIcon,{color:p.danger})},y="import"===r.type||r.collectionId?r.name:l("All collections");return i.createElement(Z.b,{title:y,image:m[r.state],subtitle:i.createElement(i.Fragment,null,"complete"!==r.state&&i.createElement(i.Fragment,null,d[r.state]," • "),r.error&&i.createElement(i.Fragment,null,r.error," • "),l("{{userName}} requested",{userName:u.id===r.user.id?l("You"):r.user.name})," ",i.createElement(J.a,{dateTime:r.createdAt,addSuffix:!0,shorten:!0})," • ",r.sizeInMB),actions:"complete"===r.state&&o?i.createElement(K.a,null,i.createElement(re,{id:r.id,onDelete:function(){var t=function FileOperationListItem_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){FileOperationListItem_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){FileOperationListItem_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,o(r);case 3:case"end":return a.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}()})):void 0})}));function Export_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Export_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Export_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Export_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Export_slicedToArray(t,r){return function Export_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Export_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Export_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Export_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Export_arrayLikeToArray(t,r)}(t,r)||function Export_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Export_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var oe=Object(u.c)((function Export(){var t=Object(c.a)().t,r=Object(W.a)(),o=Object(v.a)(),l=o.fileOperations,u=o.collections,m=Object(g.a)().showToast,y=Export_slicedToArray(i.useState(!1),2),b=y[0],h=y[1],_=Export_slicedToArray(i.useState(!1),2),w=_[0],O=_[1],S=i.useCallback(function(){var r=Export_asyncToGenerator(regeneratorRuntime.mark((function _callee(r){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r.preventDefault(),h(!0),o.prev=2,o.next=5,u.export();case 5:O(!0),m(t("Export in progress…"));case 7:return o.prev=7,h(!1),o.finish(7);case 10:case"end":return o.stop()}}),_callee,null,[[2,,7,10]])})));return function(t){return r.apply(this,arguments)}}(),[t,u,m]),C=i.useCallback(function(){var r=Export_asyncToGenerator(regeneratorRuntime.mark((function _callee2(r){return regeneratorRuntime.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,l.delete(r);case 3:m(t("Export deleted")),o.next=9;break;case 6:o.prev=6,o.t0=o.catch(0),m(o.t0.message,{type:"error"});case 9:case"end":return o.stop()}}),_callee2,null,[[0,6]])})));return function(t){return r.apply(this,arguments)}}(),[l,m,t]);return i.createElement(A.a,{title:t("Export"),icon:i.createElement(a.DownloadIcon,{color:"currentColor"})},i.createElement(E.a,null,t("Export")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,{defaults:"A full export might take some time, consider exporting a single document or collection. The exported data is a zip of your documents in Markdown format. You may leave this page once the export has started – we will email a link to <em>{{ userEmail }}</em> when it’s complete.",values:{userEmail:r.email},components:{em:i.createElement("strong",null)}})),i.createElement(d.b,{type:"submit",onClick:S,disabled:b||w,primary:!0},w?t("Export Requested"):b?"".concat(t("Requesting Export"),"…"):t("Export Data")),i.createElement("br",null),i.createElement($.a,{items:l.exports,fetch:l.fetchPage,options:{type:"export"},heading:i.createElement("h2",null,i.createElement(p.a,null,"Recent exports")),renderItem:function renderItem(t){return i.createElement(ne,{key:t.id,fileOperation:t,handleDelete:C})}}))})),ae=(o("TeQF"),o("5DmW"),o("FZtP"),o("27RR"),o("DPW8"));function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function Features_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Features_slicedToArray(t,r){return function Features_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Features_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Features_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Features_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Features_arrayLikeToArray(t,r)}(t,r)||function Features_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Features_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ie=Object(u.c)((function Features(){var t=Object(v.a)().auth,r=Object(C.a)(),o=Object(c.a)().t,l=Object(g.a)().showToast,u=Features_slicedToArray(Object(i.useState)({collaborativeEditing:r.collaborativeEditing}),2),d=u[0],m=u[1],y=i.useCallback(function(){var r=function Features_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Features_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Features_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(r){var a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return a=_objectSpread(_objectSpread({},d),{},_defineProperty({},r.target.name,r.target.checked)),m(a),i.next=4,t.updateTeam(a);case 4:l(o("Settings saved"),{type:"success"});case 5:case"end":return i.stop()}}),_callee)})));return function(t){return r.apply(this,arguments)}}(),[t,d,l,o]);return i.createElement(A.a,{title:o("Features"),icon:i.createElement(a.BeakerIcon,{color:"currentColor"})},i.createElement(E.a,null,o("Features")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Manage optional and beta features. Changing these settings will affect the experience for all team members.")),i.createElement(H,{name:"collaborativeEditing",label:o("Collaborative editing"),description:o("When enabled multiple people can edit documents at the same time with shared presence and live cursors.")},i.createElement(ae.a,{id:"collaborativeEditing",name:"collaborativeEditing",checked:d.collaborativeEditing,disabled:d.collaborativeEditing,onChange:y})))})),le=o("XDOE"),ce=o("W//j"),ue=o("xJBO"),se=o("9vYF"),pe=o("SQX4"),de=o("1BaO"),me=o("e0LR"),fe=o("Ty5D"),ye=o("R9tu");function GroupDelete_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function GroupDelete_slicedToArray(t,r){return function GroupDelete_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function GroupDelete_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function GroupDelete_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return GroupDelete_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return GroupDelete_arrayLikeToArray(t,r)}(t,r)||function GroupDelete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupDelete_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var be=Object(u.c)((function GroupDelete(t){var r=t.group,o=t.onSubmit,a=Object(c.a)().t,l=Object(g.a)().showToast,u=Object(fe.h)(),m=GroupDelete_slicedToArray(i.useState(!1),2),b=m[0],h=m[1],v=function(){var t=function GroupDelete_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){GroupDelete_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){GroupDelete_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),h(!0),a.prev=2,a.next=5,r.delete();case 5:u.push(Object(ye.h)()),o(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),l(a.t0.message,{type:"error"});case 12:return a.prev=12,h(!1),a.finish(12);case 15:case"end":return a.stop()}}),_callee,null,[[2,9,12,15]])})));return function handleSubmit(r){return t.apply(this,arguments)}}();return i.createElement(y.a,{column:!0},i.createElement("form",{onSubmit:v},i.createElement(k.a,{type:"secondary"},i.createElement(p.a,{defaults:"Are you sure about that? Deleting the <em>{{groupName}}</em> group will cause its members to lose access to collections and documents that it is associated with.",values:{groupName:r.name},components:{em:i.createElement("strong",null)}})),i.createElement(d.b,{type:"submit",danger:!0},b?"".concat(a("Deleting"),"…"):a("I’m sure – Delete"))))}));function GroupEdit_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function GroupEdit_slicedToArray(t,r){return function GroupEdit_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function GroupEdit_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function GroupEdit_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return GroupEdit_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return GroupEdit_arrayLikeToArray(t,r)}(t,r)||function GroupEdit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupEdit_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var he=Object(u.c)((function GroupEdit(t){var r=t.group,o=t.onSubmit,a=Object(g.a)().showToast,l=Object(c.a)().t,u=GroupEdit_slicedToArray(i.useState(r.name),2),m=u[0],b=u[1],h=GroupEdit_slicedToArray(i.useState(!1),2),v=h[0],_=h[1],w=i.useCallback(function(){var t=function GroupEdit_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){GroupEdit_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){GroupEdit_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return t.preventDefault(),_(!0),i.prev=2,i.next=5,r.save({name:m});case 5:o(),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),a(i.t0.message,{type:"error"});case 11:return i.prev=11,_(!1),i.finish(11);case 14:case"end":return i.stop()}}),_callee,null,[[2,8,11,14]])})));return function(r){return t.apply(this,arguments)}}(),[r,o,a,m]),E=i.useCallback((function(t){b(t.target.value)}),[]);return i.createElement("form",{onSubmit:w},i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"You can edit the name of this group at any time, however doing so too often might confuse your team mates.")),i.createElement(y.a,null,i.createElement(O.c,{type:"text",label:l("Name"),onChange:E,value:m,required:!0,autoFocus:!0,flex:!0})),i.createElement(d.b,{type:"submit",disabled:v||!m},v?"".concat(l("Saving"),"…"):l("Save")))}));function GroupMenu_extends(){return(GroupMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function GroupMenu_slicedToArray(t,r){return function GroupMenu_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function GroupMenu_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function GroupMenu_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return GroupMenu_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return GroupMenu_arrayLikeToArray(t,r)}(t,r)||function GroupMenu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupMenu_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ve=Object(u.c)((function GroupMenu(t){var r=t.group,o=t.onMembers,l=Object(c.a)().t,u=Object(X.a)({modal:!0}),p=GroupMenu_slicedToArray(i.useState(!1),2),d=p[0],m=p[1],y=GroupMenu_slicedToArray(i.useState(!1),2),b=y[0],h=y[1],v=Object(me.a)(r.id);return i.createElement(i.Fragment,null,i.createElement(se.a,{title:l("Edit group"),onRequestClose:function onRequestClose(){return m(!1)},isOpen:d},i.createElement(he,{group:r,onSubmit:function onSubmit(){return m(!1)}})),i.createElement(se.a,{title:l("Delete group"),onRequestClose:function onRequestClose(){return h(!1)},isOpen:b,isCentered:!0},i.createElement(be,{group:r,onSubmit:function onSubmit(){return h(!1)}})),i.createElement(ee.a,GroupMenu_extends({"aria-label":l("Show menu")},u)),i.createElement(Q.d,GroupMenu_extends({},u,{"aria-label":l("Group options")}),i.createElement(te.a,GroupMenu_extends({},u,{items:[{type:"button",title:"".concat(l("Members"),"…"),icon:i.createElement(a.GroupIcon,null),onClick:o,visible:!(!r||!v.read)},{type:"separator"},{type:"button",title:"".concat(l("Edit"),"…"),icon:i.createElement(a.EditIcon,null),onClick:function onClick(){return m(!0)},visible:!(!r||!v.update)},{type:"button",title:"".concat(l("Delete"),"…"),icon:i.createElement(a.TrashIcon,null),dangerous:!0,onClick:function onClick(){return h(!0)},visible:!(!r||!v.delete)}]}))))}));function Groups_slicedToArray(t,r){return function Groups_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Groups_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Groups_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Groups_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Groups_arrayLikeToArray(t,r)}(t,r)||function Groups_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Groups_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ge=Object(u.c)((function Groups(){var t=Object(c.a)().t,r=Object(v.a)().groups,o=Object(C.a)(),l=Object(me.a)(o.id),u=Groups_slicedToArray(Object(de.a)(),3),m=u[0],y=u[1],b=u[2];return i.createElement(A.a,{title:t("Groups"),icon:i.createElement(a.GroupIcon,{color:"currentColor"}),actions:i.createElement(i.Fragment,null,l.createGroup&&i.createElement(K.a,null,i.createElement(d.b,{type:"button",onClick:y,icon:i.createElement(a.PlusIcon,null)},"".concat(t("New group"),"…"))))},i.createElement(E.a,null,t("Groups")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Groups can be used to organize and manage the people on your team.")),i.createElement(pe.a,null,t("All groups")),i.createElement($.a,{items:r.orderedData,empty:i.createElement(ce.a,null,t("No groups have been created yet")),fetch:r.fetchPage,renderItem:function renderItem(t){return i.createElement(ue.a,{key:t.id,group:t,renderActions:function renderActions(r){var o=r.openMembersModal;return i.createElement(ve,{group:t,onMembers:o})},showFacepile:!0})}}),i.createElement(se.a,{title:t("Create a group"),onRequestClose:b,isOpen:m},i.createElement(le.a,{onSubmit:b})))})),_e=o("0I4T"),we=o("2EM/"),Ee=o("yzbm"),Oe=o("IeSd"),Ae=o("YA5+");function DropToImport_extends(){return(DropToImport_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function DropToImport_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function DropToImport_slicedToArray(t,r){return function DropToImport_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function DropToImport_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function DropToImport_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return DropToImport_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return DropToImport_arrayLikeToArray(t,r)}(t,r)||function DropToImport_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DropToImport_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ke=Object(T.default)(a.NewDocumentIcon).withConfig({displayName:"DropToImport__Icon",componentId:"z2iu50-0"})(["padding:4px;border-radius:50%;background:",";color:white;"],(function(t){return t.theme.brand.blue})),Se=T.default.div.withConfig({displayName:"DropToImport__DropzoneContainer",componentId:"z2iu50-1"})(["background:",";border-radius:8px;border:1px dashed ",";padding:52px;text-align:center;font-size:15px;cursor:pointer;opacity:",";&:hover{background:",";}"],(function(t){return t.$isDragActive?t.theme.secondaryBackground:t.theme.background}),(function(t){return t.theme.divider}),(function(t){return t.$disabled?.5:1}),(function(t){return t.theme.secondaryBackground})),Ce=Object(u.c)((function DropToImport(t){var r=t.disabled,o=t.onSubmit,a=t.children,l=t.format,u=Object(c.a)().t,p=Object(v.a)().collections,d=Object(g.a)().showToast,m=DropToImport_slicedToArray(i.useState(!1),2),b=m[0],h=m[1],_=i.useCallback(function(){var t=function DropToImport_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){DropToImport_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){DropToImport_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r,a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(t.length>1)){i.next=3;break}return d(u("Please choose a single file to import"),{type:"error"}),i.abrupt("return");case 3:return r=t[0],h(!0),i.prev=5,i.next=8,Object(Ae.b)(r,{name:r.name});case 8:return a=i.sent,i.next=11,p.import(a.id,l);case 11:o(),d(u("Your import is being processed, you can safely leave this page"),{type:"success",timeout:6e3}),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(5),d(i.t0.message);case 18:return i.prev=18,h(!1),i.finish(18);case 21:case"end":return i.stop()}}),_callee,null,[[5,15,18,21]])})));return function(r){return t.apply(this,arguments)}}(),[u,o,p,l,d]),w=i.useCallback((function(){d(u("File not supported – please upload a valid ZIP file"),{type:"error"})}),[u,d]);return r?a:i.createElement(i.Fragment,null,b&&i.createElement(Oe.b,null),i.createElement(Ee.a,{accept:"application/zip",onDropAccepted:_,onDropRejected:w,disabled:b},(function(t){var r=t.getRootProps,o=t.getInputProps,l=t.isDragActive;return i.createElement(Se,DropToImport_extends({},r(),{$disabled:b,$isDragActive:l,tabIndex:-1}),i.createElement("input",o()),i.createElement(y.a,{align:"center",gap:4,column:!0},i.createElement(ke,{size:32,color:"#fff"}),a))})))})),je=o("Y4yP"),Te=o("CMOZ"),xe=o("3OAb");function HelpDisclosure_extends(){return(HelpDisclosure_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var Ie=Object(T.default)(xe.a).withConfig({displayName:"HelpDisclosure__HelpContent",componentId:"sc-191ma9r-0"})(["transition:opacity 250ms ease-in-out;opacity:0;&[data-enter]{opacity:1;}"]),Pe=function HelpDisclosure(t){var r=t.title,o=t.children,l=Object(je.a)({animated:!0}),c=Object(T.useTheme)();return i.createElement("div",null,i.createElement(Te.a,l,(function(t){return i.createElement(d.b,HelpDisclosure_extends({icon:i.createElement(a.QuestionMarkIcon,{color:c.text}),neutral:!0,borderOnHover:!0},t),r)})),i.createElement(Ie,l,i.createElement(k.a,{type:"secondary"},i.createElement("br",null),o)))};var De=Object(u.c)((function ImportNotionDialog(){var t=Object(v.a)().dialogs;return i.createElement(y.a,{column:!0},i.createElement(k.a,{type:"secondary"},i.createElement(Ce,{onSubmit:t.closeAllModals,format:"notion"},i.createElement(p.a,null,"Drag and drop the zip file from Notion's HTML export option, or click to upload"))),i.createElement(Pe,{title:i.createElement(p.a,null,"Where do I find the file?")},i.createElement(p.a,{defaults:"In Notion, click <em>Settings & Members</em> in the left sidebar and open Settings. Look for the Export section, and click <em>Export all workspace content</em>. Choose <em>HTML</em> as the format for the best data compatability.",components:{em:i.createElement("strong",null)}})))}));var Le=Object(u.c)((function ImportOutlineDialog(){var t=Object(v.a)().dialogs;return i.createElement(y.a,{column:!0},i.createElement(k.a,{type:"secondary"},i.createElement(Ce,{onSubmit:t.closeAllModals,format:"outline-markdown"},i.createElement(p.a,null,"Drag and drop the zip file from Outline's export option, or click to upload"))),i.createElement(Pe,{title:i.createElement(p.a,null,"How does this work?")},i.createElement(p.a,{defaults:"You can import a zip file that was previously exported from an Outline installation – collections, documents, and images will be imported. In Outline, open <em>Export</em> in the Settings sidebar and click on <em>Export Data</em>.",components:{em:i.createElement("strong",null)}})))}));var Re=Object(u.c)((function Import(){var t=Object(c.a)().t,r=Object(v.a)(),o=r.dialogs,l=r.fileOperations;return i.createElement(A.a,{title:t("Import"),icon:i.createElement(a.NewDocumentIcon,{color:"currentColor"})},i.createElement(E.a,null,t("Import")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Quickly transfer your existing documents, pages, and files from other tools and services into Outline. You can also drag and drop any HTML, Markdown, and text documents directly into Collections in the app.")),i.createElement("div",null,i.createElement(Z.b,{border:!1,image:i.createElement(we.a,{size:28,fill:"currentColor"}),title:"Outline",subtitle:t("Import a backup file that was previously exported from Outline"),actions:i.createElement(d.b,{type:"submit",onClick:function onClick(){o.openModal({title:t("Import data"),isCentered:!0,content:i.createElement(Le,null)})},neutral:!0},t("Import"),"…")}),i.createElement(Z.b,{border:!1,image:i.createElement("img",{src:Object(_e.a)("/images/notion.png"),width:28}),title:"Notion",subtitle:t("Import pages exported from Notion"),actions:i.createElement(d.b,{type:"submit",onClick:function onClick(){o.openModal({title:t("Import data"),isCentered:!0,content:i.createElement(De,null)})},neutral:!0},t("Import"),"…")}),i.createElement(Z.b,{border:!1,image:i.createElement("img",{src:Object(_e.a)("/images/confluence.png"),width:28}),title:"Confluence",subtitle:t("Import pages from a Confluence instance"),actions:i.createElement(d.b,{type:"submit",disabled:!0,neutral:!0},t("Coming soon"))})),i.createElement("br",null),i.createElement($.a,{items:l.imports,fetch:l.fetchPage,options:{type:"import"},heading:i.createElement("h2",null,i.createElement(p.a,null,"Recent imports")),renderItem:function renderItem(t){return i.createElement(ne,{key:t.id,fileOperation:t})}}))})),Me=o("xweI"),Ge=o.n(Me),Ne=(o("4l63"),o("2B1R"),o("yq1k"),o("JTJg"),o("UxlC"),o("JfAA"),o("N/mu")),ze=o("g0Ti"),Fe=o("/Jwf"),Ue=o("YNGt"),Be=o("98Z2"),He=o("xfcy"),qe=o("HIsj");function TableFromParams_extends(){return(TableFromParams_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}var $e=i.lazy((function(){return Promise.all([o.e("vendors~table"),o.e("table")]).then(o.bind(null,"YawP"))})),We=function TableFromParams(t){var r=i.useRef(),o=Object(fe.i)(),a=Object(fe.h)(),l=Object(Ue.a)(),c=i.useCallback((function(t,r){t?l.set("sort",t):l.delete("sort"),l.set("direction",r.toLowerCase()),a.replace({pathname:o.pathname,search:l.toString()})}),[l,a,o.pathname]),u=i.useCallback((function(t){t?l.set("page",t.toString()):l.delete("page"),a.replace({pathname:o.pathname,search:l.toString()}),r.current&&Object(qe.a)(r.current,{scrollMode:"if-needed",behavior:"auto",block:"start"})}),[l,a,o.pathname]);return i.createElement($e,TableFromParams_extends({topRef:r,onChangeSort:c,onChangePage:u},t))};function UserMenu_extends(){return(UserMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function UserMenu_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var Ke=Object(u.c)((function UserMenu(t){var r=t.user,o=Object(v.a)().users,a=Object(c.a)().t,l=Object(X.a)({modal:!0}),u=Object(me.a)(r.id),p=Object(g.a)().showToast,d=i.useCallback((function(t){t.preventDefault(),window.confirm(a("Are you sure you want to make {{ userName }} an admin? Admins can modify team and billing information.",{userName:r.name}))&&o.promote(r)}),[o,r,a]),m=i.useCallback((function(t){t.preventDefault(),window.confirm(a("Are you sure you want to make {{ userName }} a member?",{userName:r.name}))&&o.demote(r,"member")}),[o,r,a]),y=i.useCallback((function(t){t.preventDefault(),window.confirm(a("Are you sure you want to make {{ userName }} a read-only viewer? They will not be able to edit any content",{userName:r.name}))&&o.demote(r,"viewer")}),[o,r,a]),b=i.useCallback((function(t){t.preventDefault(),window.confirm(a("Are you sure you want to suspend this account? Suspended users will be prevented from logging in."))&&o.suspend(r)}),[o,r,a]),h=i.useCallback((function(t){t.preventDefault(),o.delete(r,{confirmation:!0})}),[o,r]),_=i.useCallback(function(){var t=function UserMenu_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){UserMenu_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){UserMenu_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var i;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t.preventDefault(),l.prev=1,l.next=4,o.resendInvite(r);case 4:p(a("Invite was resent to ".concat(r.name)),{type:"success"}),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(1),p(null!==(i=l.t0.message)&&void 0!==i?i:a("An error occurred while sending the invite"),{type:"error"});case 10:case"end":return l.stop()}}),_callee,null,[[1,7]])})));return function(r){return t.apply(this,arguments)}}(),[o,r,a,p]),w=i.useCallback((function(t){t.preventDefault(),o.activate(r)}),[o,r]);return i.createElement(i.Fragment,null,i.createElement(ee.a,UserMenu_extends({"aria-label":a("Show menu")},l)),i.createElement(Q.d,UserMenu_extends({},l,{"aria-label":a("User options")}),i.createElement(te.a,UserMenu_extends({},l,{items:[{type:"button",title:a("Make {{ userName }} a member",{userName:r.name}),onClick:m,visible:u.demote&&"member"!==r.role},{type:"button",title:a("Make {{ userName }} a viewer",{userName:r.name}),onClick:y,visible:u.demote&&"viewer"!==r.role},{type:"button",title:a("Make {{ userName }} an admin…",{userName:r.name}),onClick:d,visible:u.promote&&"admin"!==r.role},{type:"button",title:a("Resend invite"),onClick:_,visible:u.resendInvite},{type:"separator"},{type:"button",title:"".concat(a("Revoke invite"),"…"),dangerous:!0,onClick:h,visible:r.isInvited},{type:"button",title:a("Activate account"),onClick:w,visible:!r.isInvited&&r.isSuspended},{type:"button",title:"".concat(a("Suspend account"),"…"),dangerous:!0,onClick:b,visible:!r.isInvited&&!r.isSuspended}]}))))})),Ze=["canManage"];function PeopleTable_extends(){return(PeopleTable_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function PeopleTable_objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function PeopleTable_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var Ve=T.default.div.withConfig({displayName:"PeopleTable__Badges",componentId:"sc-1krgr8n-0"})(["margin-left:-10px;"]),Ye=function PeopleTable(t){var r=t.canManage,o=PeopleTable_objectWithoutProperties(t,Ze),a=Object(c.a)().t,l=Object(W.a)(),p=i.useMemo((function(){return[{id:"name",Header:a("Name"),accessor:"name",Cell:Object(u.c)((function(t){var r=t.value,o=t.row;return i.createElement(y.a,{align:"center",gap:8},i.createElement(Be.b,{src:o.original.avatarUrl,size:32})," ",r," ",l.id===o.original.id&&"(".concat(a("You"),")"))}))},r?{id:"email",Header:a("Email"),accessor:"email",Cell:Object(u.c)((function(t){var r=t.value;return i.createElement(i.Fragment,null,r)}))}:void 0,{id:"lastActiveAt",Header:a("Last active"),accessor:"lastActiveAt",Cell:Object(u.c)((function(t){var r=t.value;return r?i.createElement(J.a,{dateTime:r,addSuffix:!0}):null}))},{id:"isAdmin",Header:a("Role"),accessor:"rank",Cell:Object(u.c)((function(t){var r=t.row;return i.createElement(Ve,null,!r.original.lastActiveAt&&i.createElement(He.a,null,a("Invited")),r.original.isAdmin&&i.createElement(He.a,{primary:!0},a("Admin")),r.original.isViewer&&i.createElement(He.a,null,a("Viewer")),r.original.isSuspended&&i.createElement(He.a,null,a("Suspended")))}))},r?{Header:" ",accessor:"id",className:"actions",disableSortBy:!0,Cell:Object(u.c)((function(t){var r=t.row,o=t.value;return l.id!==o?i.createElement(Ke,{user:r.original}):null}))}:void 0].filter((function(t){return t}))}),[a,r,l]);return i.createElement(We,PeopleTable_extends({columns:p},o))},Je=o("a/BF"),Xe=["activeKey","onSelect"];function UserStatusFilter_extends(){return(UserStatusFilter_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function UserStatusFilter_objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function UserStatusFilter_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var Qe=function UserStatusFilter(t){var r=t.activeKey,o=t.onSelect,a=UserStatusFilter_objectWithoutProperties(t,Xe),l=Object(c.a)().t,u=i.useMemo((function(){return[{key:"",label:l("Active")},{key:"all",label:l("Everyone")},{key:"admins",label:l("Admins")},{key:"suspended",label:l("Suspended")},{key:"invited",label:l("Invited")},{key:"viewers",label:l("Viewers")}]}),[l]);return i.createElement(Je.a,UserStatusFilter_extends({options:u,activeKey:r,onSelect:o,defaultLabel:l("Active")},a))};function Members_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Members_slicedToArray(t,r){return function Members_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Members_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Members_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Members_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Members_arrayLikeToArray(t,r)}(t,r)||function Members_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Members_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var et=Object(T.default)(Qe).withConfig({displayName:"Members__LargeUserStatusFilter",componentId:"voloej-0"})(["height:32px;"]),tt=Object(u.c)((function Members(){var t=Object(fe.i)(),r=Object(fe.h)(),o=Members_slicedToArray(Object(de.a)(),3),l=o[0],u=o[1],m=o[2],b=Object(C.a)(),h=Object(v.a)().users,g=Object(c.a)().t,_=Object(Ue.a)(),w=Members_slicedToArray(i.useState(!1),2),O=w[0],S=w[1],j=Members_slicedToArray(i.useState([]),2),T=j[0],x=j[1],I=Members_slicedToArray(i.useState(0),2),P=I[0],D=I[1],L=Members_slicedToArray(i.useState([]),2),R=L[0],M=L[1],G=Object(me.a)(b.id),N=_.get("query")||"",z=_.get("filter")||"",U=_.get("sort")||"name",B=(_.get("direction")||"asc").toUpperCase(),H=parseInt(_.get("page")||"0",10);i.useEffect((function(){(function(){var t=function Members_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Members_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Members_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return S(!0),r.prev=1,r.next=4,h.fetchPage({offset:25*H,limit:25,sort:U,direction:B,query:N,filter:z});case 4:t=r.sent,D(Math.ceil(t[Ne.b].total/25)),M(t.map((function(t){return t.id})));case 7:return r.prev=7,S(!1),r.finish(7);case 10:case"end":return r.stop()}}),_callee,null,[[1,,7,10]])})));return function fetchData(){return t.apply(this,arguments)}})()()}),[N,U,z,H,B,h]),i.useEffect((function(){var t=h.orderedData;z?"all"===z?t=h.orderedData.filter((function(t){return R.includes(t.id)})):"admins"===z?t=h.admins.filter((function(t){return R.includes(t.id)})):"suspended"===z?t=h.suspended.filter((function(t){return R.includes(t.id)})):"invited"===z?t=h.invited.filter((function(t){return R.includes(t.id)})):"viewers"===z&&(t=h.viewers.filter((function(t){return R.includes(t.id)}))):t=h.active.filter((function(t){return R.includes(t.id)})),x(Ge()(t,(function(t){return R.indexOf(t.id)})))}),[z,h.active,h.admins,h.orderedData,h.suspended,h.invited,h.viewers,R]);var q=i.useCallback((function(o){o?(_.set("filter",o),_.delete("page")):_.delete("filter"),r.replace({pathname:t.pathname,search:_.toString()})}),[_,r,t.pathname]),$=i.useCallback((function(o){o.target.value?(_.set("query",o.target.value),_.delete("page")):_.delete("query"),r.replace({pathname:t.pathname,search:_.toString()})}),[_,r,t.pathname]);return i.createElement(A.a,{title:g("Members"),icon:i.createElement(a.UserIcon,{color:"currentColor"}),actions:i.createElement(i.Fragment,null,G.inviteUser&&i.createElement(K.a,null,i.createElement(d.b,{type:"button","data-on":"click","data-event-category":"invite","data-event-action":"peoplePage",onClick:u,icon:i.createElement(a.PlusIcon,null)},g("Invite people"),"…")))},i.createElement(E.a,null,g("Members")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Everyone that has signed into Outline appears here. It’s possible that there are other users who have access through ",b.signinMethods," but haven’t signed in yet.")),i.createElement(y.a,{gap:8},i.createElement(Fe.a,{short:!0,value:N,placeholder:"".concat(g("Filter"),"…"),onChange:$}),i.createElement(et,{activeKey:z,onSelect:q})),i.createElement(Ye,{data:T,canManage:G.manage,isLoading:O,page:H,pageSize:25,totalPages:P,defaultSortDirection:"ASC"}),G.inviteUser&&i.createElement(se.a,{title:g("Invite people"),onRequestClose:m,isOpen:l},i.createElement(ze.a,{onSubmit:m})))})),rt=o("sEfC"),nt=o.n(rt),ot=(o("hByQ"),o("y0yR"));function Notifications_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var at=Object(u.c)((function Notifications(){var t=Object(v.a)().notificationSettings,r=Object(g.a)().showToast,o=Object(W.a)(),l=Object(c.a)().t,u=[{event:"documents.publish",title:l("Document published"),description:l("Receive a notification whenever a new document is published")},{event:"documents.update",title:l("Document updated"),description:l("Receive a notification when a document you created is edited")},{event:"collections.create",title:l("Collection created"),description:l("Receive a notification whenever a new collection is created")},{separator:!0},{visible:j.a,event:"emails.onboarding",title:l("Getting started"),description:l("Tips on getting started with Outline`s features and functionality")},{visible:j.a,event:"emails.features",title:l("New features"),description:l("Receive an email when new features of note are added")}];i.useEffect((function(){t.fetchPage({})}),[t]);var d=nt()((function(){r(l("Notifications saved"),{type:"success"})}),500),m=i.useCallback(function(){var r=function Notifications_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Notifications_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Notifications_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(r){var o;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(o=t.getByEvent(r.target.name),!r.target.checked){a.next=6;break}return a.next=4,t.save({event:r.target.name});case 4:a.next=9;break;case 6:if(!o){a.next=9;break}return a.next=9,t.delete(o);case 9:d();case 10:case"end":return a.stop()}}),_callee)})));return function(t){return r.apply(this,arguments)}}(),[t,d]),y="?success"===window.location.search;return i.createElement(A.a,{title:l("Notifications"),icon:i.createElement(a.EmailIcon,{color:"currentColor"})},i.createElement(E.a,null,l("Notifications")),y&&i.createElement(ot.a,null,i.createElement(p.a,null,"Unsubscription successful. Your notification settings were updated")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Manage when and where you receive email notifications.")),S.a.EMAIL_ENABLED?i.createElement(i.Fragment,null,i.createElement(H,{label:l("Email address"),name:"email",description:l("Your email address should be updated in your SSO provider.")},i.createElement(O.c,{type:"email",value:o.email,readOnly:!0})),i.createElement("h2",null,l("Notifications")),u.map((function(r){if(r.separator||!r.event)return i.createElement("br",null);var o=t.getByEvent(r.event);return i.createElement(H,{visible:r.visible,label:r.title,name:r.event,description:r.description},i.createElement(ae.a,{key:r.event,id:r.event,name:r.event,checked:!!o,onChange:m,disabled:o&&o.isSaving||t.isFetching}))}))):i.createElement(ot.a,null,i.createElement(p.a,null,"The email integration is currently disabled. Please set the associated environment variables and restart the server to enable notifications.")))})),it=o("JX95");function UserDelete_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function UserDelete_slicedToArray(t,r){return function UserDelete_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function UserDelete_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function UserDelete_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return UserDelete_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return UserDelete_arrayLikeToArray(t,r)}(t,r)||function UserDelete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UserDelete_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var lt=Object(u.c)((function UserDelete(t){var r=t.onRequestClose,o=UserDelete_slicedToArray(i.useState(!1),2),a=o[0],l=o[1],u=Object(v.a)().auth,m=Object(g.a)().showToast,b=Object(c.a)().t,h=i.useCallback(function(){var t=function UserDelete_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){UserDelete_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){UserDelete_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),l(!0),r.prev=2,r.next=5,u.deleteUser();case 5:u.logout(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),m(r.t0.message,{type:"error"});case 11:return r.prev=11,l(!1),r.finish(11);case 14:case"end":return r.stop()}}),_callee,null,[[2,8,11,14]])})));return function(r){return t.apply(this,arguments)}}(),[u,m]);return i.createElement(se.a,{isOpen:!0,title:b("Delete Account"),onRequestClose:r},i.createElement(y.a,{column:!0},i.createElement("form",{onSubmit:h},i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Are you sure? Deleting your account will destroy identifying data associated with your user and cannot be undone. You will be immediately logged out of Outline and all your API tokens will be revoked.")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,{defaults:"<em>Note:</em> Signing back in will cause a new account to be automatically reprovisioned.",components:{em:i.createElement("strong",null)}})),i.createElement(d.b,{type:"submit",danger:!0},a?"".concat(b("Deleting"),"…"):b("Delete My Account")))))}));function Profile_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Profile_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Profile_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Profile_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Profile_slicedToArray(t,r){return function Profile_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Profile_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Profile_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Profile_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Profile_arrayLikeToArray(t,r)}(t,r)||function Profile_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Profile_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ct=T.default.div.withConfig({displayName:"Profile__DangerZone",componentId:"k13m9h-0"})(["margin-top:60px;"]),ut=Object(u.c)((function Profile(){var t,r=Object(v.a)().auth,o=Object(W.a)(),l=i.useRef(null),u=Profile_slicedToArray(i.useState(o.name||""),2),m=u[0],y=u[1],h=Profile_slicedToArray(i.useState(o.avatarUrl),2),_=h[0],w=h[1],S=Profile_slicedToArray(i.useState(!1),2),C=S[0],j=S[1],T=Profile_slicedToArray(i.useState(o.language),2),x=T[0],I=T[1],P=Object(g.a)().showToast,D=Object(c.a)().t,L=function(){var t=Profile_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),o.prev=1,o.next=4,r.updateUser({name:m,avatarUrl:_,language:x});case 4:P(D("Profile saved"),{type:"success"}),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(1),P(o.t0.message,{type:"error"});case 10:case"end":return o.stop()}}),_callee,null,[[1,7]])})));return function handleSubmit(r){return t.apply(this,arguments)}}(),R=function(){var t=Profile_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return w(t),o.next=3,r.updateUser({avatarUrl:t});case 3:P(D("Profile picture updated"),{type:"success"});case 4:case"end":return o.stop()}}),_callee2)})));return function handleAvatarUpload(r){return t.apply(this,arguments)}}(),M=function toggleDeleteAccount(){j((function(t){return!t}))},G=null===(t=l.current)||void 0===t?void 0:t.checkValidity(),N=r.isSaving;return i.createElement(A.a,{title:D("Profile"),icon:i.createElement(a.ProfileIcon,{color:"currentColor"})},i.createElement(E.a,null,D("Profile")),i.createElement("form",{onSubmit:L,ref:l},i.createElement(H,{label:D("Photo"),name:"avatarUrl",description:D("Choose a photo or image to represent yourself.")},i.createElement(ImageInput,{onSuccess:R,onError:function handleAvatarError(t){P(t||D("Unable to upload new profile picture"),{type:"error"})},src:_})),i.createElement(H,{label:D("Full name"),name:"name",description:D("This could be your real name, or a nickname — however you’d like people to refer to you.")},i.createElement(O.c,{id:"name",autoComplete:"name",value:m,onChange:function handleNameChange(t){y(t.target.value)},required:!0})),i.createElement(H,{border:!1,label:D("Language"),name:"language",description:i.createElement(i.Fragment,null,i.createElement(p.a,null,"Please note that translations are currently in early access. Community contributions are accepted though our"," ",i.createElement("a",{href:"https://translate.getoutline.com",target:"_blank",rel:"noreferrer"},"translation portal"),"."))},i.createElement(b.a,{id:"language",options:it.b,value:x,onChange:function handleLanguageChange(t){I(t)},ariaLabel:D("Language")})),i.createElement(d.b,{type:"submit",disabled:N||!G},N?"".concat(D("Saving"),"…"):D("Save"))),i.createElement(ct,null,i.createElement("h2",null,D("Delete Account")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"You may delete your account at any time, note that this is unrecoverable")),i.createElement(d.b,{onClick:M,neutral:!0},D("Delete account"),"…")),C&&i.createElement(lt,{onRequestClose:M}))})),st=(o("pDQq"),o("wC+D")),pt=o("sZuP"),dt=o("JGNK"),mt=o("FvP1");function Security_toConsumableArray(t){return function Security_arrayWithoutHoles(t){if(Array.isArray(t))return Security_arrayLikeToArray(t)}(t)||function Security_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Security_unsupportedIterableToArray(t)||function Security_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Security_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,a)}return o}function Security_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?Security_ownKeys(Object(o),!0).forEach((function(r){Security_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Security_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function Security_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function Security_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Security_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Security_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Security_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}function Security_slicedToArray(t,r){return function Security_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Security_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||Security_unsupportedIterableToArray(t,r)||function Security_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Security_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return Security_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Security_arrayLikeToArray(t,r):void 0}}function Security_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var ft=Object(T.default)("div").withConfig({displayName:"Security__Remove",componentId:"sc-5gimm9-0"})(["margin-top:6px;"]),yt=Object(u.c)((function Security(){var t,r,o=Object(v.a)(),l=o.auth,u=o.dialogs,m=Object(C.a)(),h=Object(c.a)().t,_=Object(g.a)().showToast,w=Security_slicedToArray(Object(i.useState)({sharing:m.sharing,documentEmbeds:m.documentEmbeds,guestSignin:m.guestSignin,defaultUserRole:m.defaultUserRole,memberCollectionCreate:m.memberCollectionCreate,inviteRequired:m.inviteRequired,allowedDomains:m.allowedDomains}),2),T=w[0],x=w[1],I=m.signinMethods,P=i.useMemo((function(){return nt()((function(){_(h("Settings saved"),{type:"success"})}),250)}),[_,h]),D=Security_slicedToArray(Object(i.useState)(!1),2),L=D[0],R=D[1],M=i.useCallback(function(){var t=Security_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,x(t),r.next=4,l.updateTeam(t);case 4:P(),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),_(r.t0.message,{type:"error"});case 10:return r.prev=10,R(!1),r.finish(10);case 13:case"end":return r.stop()}}),_callee,null,[[0,7,10,13]])})));return function(r){return t.apply(this,arguments)}}(),[l,P,_]),G=i.useCallback(function(){var t=Security_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M(Security_objectSpread(Security_objectSpread({},T),{},Security_defineProperty({},t.target.id,t.target.checked)));case 2:case"end":return r.stop()}}),_callee2)})));return function(r){return t.apply(this,arguments)}}(),[T,M]),N=i.useCallback(function(){var t=Security_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M(Security_objectSpread(Security_objectSpread({},T),{},{defaultUserRole:t}));case 2:case"end":return r.stop()}}),_callee3)})));return function(r){return t.apply(this,arguments)}}(),[T,M]),z=i.useCallback(function(){var t=Security_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var r,o;return regeneratorRuntime.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:if(r=!t.target.checked,o=Security_objectSpread(Security_objectSpread({},T),{},{inviteRequired:r}),!r){a.next=5;break}return u.openModal({isCentered:!0,title:h("Are you sure you want to disable authorized signups?"),content:i.createElement(st.a,{onSubmit:Security_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(o);case 2:case"end":return t.stop()}}),_callee4)}))),submitText:h("I’m sure — Disable"),savingText:"".concat(h("Disabling"),"…"),danger:!0},i.createElement(p.a,{defaults:"New account creation using <em>{{ authenticationMethods }}</em> will be disabled. New users will need to be invited.",values:{authenticationMethods:I},components:{em:i.createElement("strong",null)}}))}),a.abrupt("return");case 5:return a.next=7,M(o);case 7:case"end":return a.stop()}}),_callee5)})));return function(r){return t.apply(this,arguments)}}(),[T,M,h,u,I]),U=function(){var t=Security_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var r;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:(r=Security_objectSpread({},T)).allowedDomains&&r.allowedDomains.splice(t,1),x(r),R(!0);case 4:case"end":return o.stop()}}),_callee6)})));return function handleRemoveDomain(r){return t.apply(this,arguments)}}(),B=function createOnDomainChangedHandler(t){return function(r){var o=Security_objectSpread({},T);o.allowedDomains[t]=r.currentTarget.value,x(o),R(!0)}};return i.createElement(A.a,{title:h("Security"),icon:i.createElement(a.PadlockIcon,{color:"currentColor"})},i.createElement(E.a,null,h("Security")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Settings that impact the access, security, and content of your knowledge base.")),i.createElement(H,{label:h("Allow email authentication"),name:"guestSignin",description:S.a.EMAIL_ENABLED?h("When enabled, users can sign-in using their email address"):h("The server must have SMTP configured to enable this setting")},i.createElement(ae.a,{id:"guestSignin",checked:T.guestSignin,onChange:G,disabled:!S.a.EMAIL_ENABLED})),i.createElement(H,{label:h("Public document sharing"),name:"sharing",description:h("When enabled, documents can be shared publicly on the internet by any team member")},i.createElement(ae.a,{id:"sharing",checked:T.sharing,onChange:G})),i.createElement(H,{label:h("Rich service embeds"),name:"documentEmbeds",description:h("Links to supported services are shown as rich embeds within your documents")},i.createElement(ae.a,{id:"documentEmbeds",checked:T.documentEmbeds,onChange:G})),i.createElement(H,{label:h("Collection creation"),name:"memberCollectionCreate",description:h("Allow members to create new collections within the knowledge base")},i.createElement(ae.a,{id:"memberCollectionCreate",checked:T.memberCollectionCreate,onChange:G})),j.a&&i.createElement(H,{label:h("Allow authorized signups"),name:"allowSignups",description:i.createElement(p.a,{defaults:"Allow authorized <em>{{ authenticationMethods }}</em> users to create new accounts without first receiving an invite",values:{authenticationMethods:I},components:{em:i.createElement("strong",null)}})},i.createElement(ae.a,{id:"allowSignups",checked:!T.inviteRequired,onChange:z})),i.createElement(H,{label:h("Default role"),name:"defaultUserRole",description:h("The default user role for new accounts. Changing this setting does not affect existing user accounts.")},i.createElement(b.a,{id:"defaultUserRole",value:T.defaultUserRole,options:[{label:h("Member"),value:"member"},{label:h("Viewer"),value:"viewer"}],onChange:N,ariaLabel:h("Default role"),short:!0})),i.createElement(H,{label:h("Allowed Domains"),name:"allowedDomains",description:h("The domains which should be allowed to create accounts. This applies to both SSO and Email logins. Changing this setting does not affect existing user accounts.")},T.allowedDomains&&T.allowedDomains.map((function(t,r){return i.createElement(y.a,{key:r,gap:4},i.createElement(O.c,{key:r,id:"allowedDomains".concat(r),value:t,autoFocus:!t,placeholder:"example.com",required:!0,flex:!0,onChange:B(r)}),i.createElement(ft,null,i.createElement(mt.a,{tooltip:h("Remove domain"),placement:"top"},i.createElement(dt.a,{onClick:function onClick(){return U(r)}},i.createElement(a.CloseIcon,null)))))})),i.createElement(y.a,{justify:"space-between",gap:4,style:{flexWrap:"wrap"}},null!==(t=T.allowedDomains)&&void 0!==t&&t.length&&""===T.allowedDomains[T.allowedDomains.length-1]?i.createElement("span",null):i.createElement(pt.a,null,i.createElement(d.b,{type:"button",onClick:function handleAddDomain(){var t=Security_objectSpread(Security_objectSpread({},T),{},{allowedDomains:[].concat(Security_toConsumableArray(T.allowedDomains||[]),[""])});x(t)},neutral:!0},null!==(r=T.allowedDomains)&&void 0!==r&&r.length?i.createElement(p.a,null,"Add another"):i.createElement(p.a,null,"Add a domain"))),L&&i.createElement(pt.a,null,i.createElement(d.b,{type:"button",onClick:G,disabled:l.isSaving},i.createElement(p.a,null,"Save changes"))))))})),bt=o("55Ip"),ht=o("JFwc"),vt=o("6HK0");function ShareMenu_extends(){return(ShareMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function ShareMenu_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var gt=Object(u.c)((function ShareMenu(t){var r=t.share,o=Object(X.a)({modal:!0}),l=Object(v.a)().shares,u=Object(g.a)().showToast,p=Object(c.a)().t,d=Object(fe.h)(),m=Object(me.a)(r.id),y=i.useCallback((function(t){t.preventDefault(),d.push(r.documentUrl)}),[d,r]),b=i.useCallback(function(){var t=function ShareMenu_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){ShareMenu_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){ShareMenu_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),o.prev=1,o.next=4,l.revoke(r);case 4:u(p("Share link revoked"),{type:"info"}),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(1),u(o.t0.message,{type:"error"});case 10:case"end":return o.stop()}}),_callee,null,[[1,7]])})));return function(r){return t.apply(this,arguments)}}(),[p,l,r,u]),h=i.useCallback((function(){u(p("Share link copied"),{type:"info"})}),[p,u]);return i.createElement(i.Fragment,null,i.createElement(ee.a,ShareMenu_extends({"aria-label":p("Show menu")},o)),i.createElement(Q.d,ShareMenu_extends({},o,{"aria-label":p("Share options")}),i.createElement(vt.a,{text:r.url,onCopy:h},i.createElement(ht.c,ShareMenu_extends({},o,{icon:i.createElement(a.CopyIcon,null)}),p("Copy link"))),i.createElement(ht.c,ShareMenu_extends({},o,{onClick:y,icon:i.createElement(a.ArrowIcon,null)}),p("Go to document")),m.revoke&&i.createElement(i.Fragment,null,i.createElement("hr",null),i.createElement(ht.c,ShareMenu_extends({},o,{onClick:b,icon:i.createElement(a.TrashIcon,null),dangerous:!0}),p("Revoke link")))))})),_t=["canManage"];function SharesTable_extends(){return(SharesTable_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function SharesTable_objectWithoutProperties(t,r){if(null==t)return{};var o,a,i=function SharesTable_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,a,i={},l=Object.keys(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||(i[o]=t[o]);return i}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(i[o]=t[o])}return i}var wt=function SharesTable(t){var r=t.canManage,o=SharesTable_objectWithoutProperties(t,_t),l=Object(c.a)().t,p=Object(T.useTheme)(),d=i.useMemo((function(){return[{id:"documentTitle",Header:l("Document"),accessor:"documentTitle",disableSortBy:!0,Cell:Object(u.c)((function(t){var r=t.value;return i.createElement(i.Fragment,null,r)}))},{id:"createdAt",Header:l("Date shared"),accessor:"createdAt",Cell:Object(u.c)((function(t){var r=t.value,o=t.row;return r?i.createElement(i.Fragment,null,i.createElement(J.a,{dateTime:r,addSuffix:!0})," ",l("by {{ name }}",{name:o.original.createdBy.name})):null}))},{id:"lastAccessedAt",Header:l("Last accessed"),accessor:"lastAccessedAt",Cell:Object(u.c)((function(t){var r=t.value;return r?i.createElement(J.a,{dateTime:r,addSuffix:!0}):null}))},{id:"includeChildDocuments",Header:l("Shared nested"),accessor:"includeChildDocuments",Cell:Object(u.c)((function(t){return t.value?i.createElement(y.a,{align:"center"},i.createElement(a.CheckmarkIcon,{color:p.primary})):null}))},r?{Header:" ",accessor:"id",className:"actions",disableSortBy:!0,Cell:Object(u.c)((function(t){var r=t.row;return i.createElement(y.a,{align:"center"},i.createElement(gt,{share:r.original}))}))}:void 0].filter((function(t){return t}))}),[l,p.primary,r]);return i.createElement(We,SharesTable_extends({columns:d},o))};function Shares_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function Shares_slicedToArray(t,r){return function Shares_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Shares_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Shares_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Shares_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Shares_arrayLikeToArray(t,r)}(t,r)||function Shares_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Shares_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Et=Object(u.c)((function Shares(){var t=Object(C.a)(),r=Object(c.a)().t,o=Object(v.a)(),l=o.shares,u=o.auth,d=u.team&&u.team.sharing,m=Object(me.a)(t.id),y=Shares_slicedToArray(i.useState(!1),2),b=y[0],h=y[1],g=Shares_slicedToArray(i.useState([]),2),_=g[0],w=g[1],O=Shares_slicedToArray(i.useState(0),2),S=O[0],j=O[1],T=Shares_slicedToArray(i.useState([]),2),x=T[0],I=T[1],P=Object(Ue.a)(),D=P.get("query")||"",L=P.get("sort")||"createdAt",R=(P.get("direction")||"desc").toUpperCase(),M=parseInt(P.get("page")||"0",10);return i.useEffect((function(){(function(){var t=function Shares_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){Shares_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){Shares_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return h(!0),r.prev=1,r.next=4,l.fetchPage({offset:25*M,limit:25,sort:L,direction:R});case 4:t=r.sent,j(Math.ceil(t[Ne.b].total/25)),I(t.map((function(t){return t.id})));case 7:return r.prev=7,h(!1),r.finish(7);case 10:case"end":return r.stop()}}),_callee,null,[[1,,7,10]])})));return function fetchData(){return t.apply(this,arguments)}})()()}),[D,L,M,R,l]),i.useEffect((function(){w(Ge()(l.orderedData.filter((function(t){return x.includes(t.id)})),(function(t){return x.indexOf(t.id)})))}),[l.orderedData,x]),i.createElement(A.a,{title:r("Share Links"),icon:i.createElement(a.LinkIcon,{color:"currentColor"})},i.createElement(E.a,null,r("Share Links")),m.manage&&!d&&i.createElement(i.Fragment,null,i.createElement(ot.a,{icon:i.createElement(a.WarningIcon,{color:"currentColor"})},r("Sharing is currently disabled.")," ",i.createElement(p.a,{defaults:"You can globally enable and disable public document sharing in the <em>security settings</em>.",components:{em:i.createElement(bt.a,{to:"/settings/security"})}})),i.createElement("br",null)),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Documents that have been shared are listed below. Anyone that has the public link can access a read-only version of the document until the link has been revoked.")),i.createElement(wt,{data:_,canManage:m.manage,isLoading:b,page:M,pageSize:25,totalPages:S,defaultSortDirection:"ASC"}))})),Ot=o("J2m7"),At=o.n(Ot),kt=(o("ToJy"),T.default.ol.withConfig({displayName:"List",componentId:"sc-1gs1ouz-0"})(["margin:0;padding:0;list-style:none;"]));function SlackIcon(t){var r=t.color,o=void 0===r?"#4E5C6E":r;return i.createElement("svg",{fill:o,width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},i.createElement("path",{d:"M7.36156352,14.1107492 C7.36156352,15.0358306 6.60586319,15.7915309 5.68078176,15.7915309 C4.75570033,15.7915309 4,15.0358306 4,14.1107492 C4,13.1856678 4.75570033,12.4299674 5.68078176,12.4299674 L7.36156352,12.4299674 L7.36156352,14.1107492 Z M8.20846906,14.1107492 C8.20846906,13.1856678 8.96416938,12.4299674 9.88925081,12.4299674 C10.8143322,12.4299674 11.5700326,13.1856678 11.5700326,14.1107492 L11.5700326,18.3192182 C11.5700326,19.2442997 10.8143322,20 9.88925081,20 C8.96416938,20 8.20846906,19.2442997 8.20846906,18.3192182 C8.20846906,18.3192182 8.20846906,14.1107492 8.20846906,14.1107492 Z M9.88925081,7.36156352 C8.96416938,7.36156352 8.20846906,6.60586319 8.20846906,5.68078176 C8.20846906,4.75570033 8.96416938,4 9.88925081,4 C10.8143322,4 11.5700326,4.75570033 11.5700326,5.68078176 L11.5700326,7.36156352 L9.88925081,7.36156352 Z M9.88925081,8.20846906 C10.8143322,8.20846906 11.5700326,8.96416938 11.5700326,9.88925081 C11.5700326,10.8143322 10.8143322,11.5700326 9.88925081,11.5700326 L5.68078176,11.5700326 C4.75570033,11.5700326 4,10.8143322 4,9.88925081 C4,8.96416938 4.75570033,8.20846906 5.68078176,8.20846906 C5.68078176,8.20846906 9.88925081,8.20846906 9.88925081,8.20846906 Z M16.6384365,9.88925081 C16.6384365,8.96416938 17.3941368,8.20846906 18.3192182,8.20846906 C19.2442997,8.20846906 20,8.96416938 20,9.88925081 C20,10.8143322 19.2442997,11.5700326 18.3192182,11.5700326 L16.6384365,11.5700326 L16.6384365,9.88925081 Z M15.7915309,9.88925081 C15.7915309,10.8143322 15.0358306,11.5700326 14.1107492,11.5700326 C13.1856678,11.5700326 12.4299674,10.8143322 12.4299674,9.88925081 L12.4299674,5.68078176 C12.4299674,4.75570033 13.1856678,4 14.1107492,4 C15.0358306,4 15.7915309,4.75570033 15.7915309,5.68078176 L15.7915309,9.88925081 Z M14.1107492,16.6384365 C15.0358306,16.6384365 15.7915309,17.3941368 15.7915309,18.3192182 C15.7915309,19.2442997 15.0358306,20 14.1107492,20 C13.1856678,20 12.4299674,19.2442997 12.4299674,18.3192182 L12.4299674,16.6384365 L14.1107492,16.6384365 Z M14.1107492,15.7915309 C13.1856678,15.7915309 12.4299674,15.0358306 12.4299674,14.1107492 C12.4299674,13.1856678 13.1856678,12.4299674 14.1107492,12.4299674 L18.3192182,12.4299674 C19.2442997,12.4299674 20,13.1856678 20,14.1107492 C20,15.0358306 19.2442997,15.7915309 18.3192182,15.7915309 L14.1107492,15.7915309 Z"}))}var St=o("8CVq");var Ct=function SlackButton(t){var r=t.state,o=void 0===r?"":r,a=t.scopes,l=t.redirectUri,u=t.label,p=t.icon,m=Object(c.a)().t;return i.createElement(d.b,{onClick:function handleClick(){S.a.SLACK_CLIENT_ID&&(window.location.href=Object(St.e)(o,a,S.a.SLACK_CLIENT_ID,l))},icon:p,neutral:!0},u||m("Add to Slack"))},jt=o("7tbW"),Tt=o.n(jt),xt=(o("oVuX"),o("tC9W")),It=o("HKtz"),Pt=o("W0Gj"),Dt=o("YGlK");function SlackListItem_extends(){return(SlackListItem_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t}).apply(this,arguments)}function SlackListItem_toConsumableArray(t){return function SlackListItem_arrayWithoutHoles(t){if(Array.isArray(t))return SlackListItem_arrayLikeToArray(t)}(t)||function SlackListItem_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function SlackListItem_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return SlackListItem_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return SlackListItem_arrayLikeToArray(t,r)}(t)||function SlackListItem_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SlackListItem_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}function SlackListItem_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}var Lt=T.default.div.withConfig({displayName:"SlackListItem__Events",componentId:"ld17q3-0"})(["color:",";margin-top:-12px;"],(function(t){return t.theme.text})),Rt=Object(u.c)((function SlackListItem(t){var r=t.integration,o=t.collection,a=Object(c.a)().t,l=Object(g.a)().showToast,u=function(){var t=function SlackListItem_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){SlackListItem_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){SlackListItem_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return t.target.checked?r.events=Tt()([].concat(SlackListItem_toConsumableArray(r.events),[t.target.name])):r.events=r.events.filter((function(r){return r!==t.target.name})),o.next=3,r.save();case 3:l(a("Settings saved"),{type:"success"});case 4:case"end":return o.stop()}}),_callee)})));return function handleChange(r){return t.apply(this,arguments)}}(),b={"documents.publish":a("document published"),"documents.update":a("document updated")},h=Object(xt.a)({gutter:0,placement:"bottom-start"});return i.createElement(Z.b,{key:r.id,title:i.createElement(y.a,{align:"center",gap:6},i.createElement(m.a,{collection:o})," ",o.name),subtitle:i.createElement(i.Fragment,null,i.createElement(p.a,{defaults:"Posting to the <em>{{ channelName }}</em> channel on",values:{channelName:r.settings.channel,events:r.events.map((function(t){return b[t]})).join(", ")},components:{em:i.createElement("strong",null)}})," ",i.createElement(It.a,h,(function(t){return i.createElement(Pt.a,t,r.events.map((function(t){return b[t]})).join(", "))})),i.createElement(Dt.a,SlackListItem_extends({},h,{"aria-label":a("Settings")}),i.createElement(Lt,null,i.createElement("h3",null,a("Notifications")),i.createElement(k.a,{type:"secondary"},a("These events should be posted to Slack")),i.createElement(ae.a,{label:a("Document published"),name:"documents.publish",checked:r.events.includes("documents.publish"),onChange:u}),i.createElement(ae.a,{label:a("Document updated"),name:"documents.update",checked:r.events.includes("documents.update"),onChange:u})))),actions:i.createElement(d.b,{onClick:r.delete,neutral:!0},a("Disconnect"))})}));function Slack_slicedToArray(t,r){return function Slack_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Slack_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Slack_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Slack_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Slack_arrayLikeToArray(t,r)}(t,r)||function Slack_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Slack_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Mt=T.default.code.withConfig({displayName:"Slack__Code",componentId:"sc-18qr98l-0"})(["padding:4px 6px;margin:0 2px;background:",";border-radius:4px;"],(function(t){return t.theme.codeBackground})),Gt=Object(u.c)((function Slack(){var t=Object(C.a)(),r=Object(v.a)(),o=r.collections,a=r.integrations,l=Object(c.a)().t,u=Object(Ue.a)().get("error");i.useEffect((function(){o.fetchPage({limit:100}),a.fetchPage({limit:100})}),[o,a]);var y=At()(a.slackIntegrations,(function(t){return"command"===t.type})),b=o.orderedData.map((function(t){return[t,At()(a.slackIntegrations,{collectionId:t.id})]})).sort((function(t){return t[1]?-1:1}));return i.createElement(A.a,{title:"Slack",icon:i.createElement(SlackIcon,{color:"currentColor"})},i.createElement(E.a,null,"Slack"),"access_denied"===u&&i.createElement(ot.a,null,i.createElement(p.a,null,"Whoops, you need to accept the permissions in Slack to connect Outline to your team. Try again?")),"unauthenticated"===u&&i.createElement(ot.a,null,i.createElement(p.a,null,"Something went wrong while authenticating your request. Please try logging in again?")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,{defaults:"Get rich previews of Outline links shared in Slack and use the <em>{{ command }}</em> slash command to search for documents without leaving your chat.",values:{command:"/outline"},components:{em:i.createElement(Mt,null)}})),S.a.SLACK_CLIENT_ID?i.createElement(i.Fragment,null,i.createElement("p",null,y?i.createElement(d.b,{onClick:function onClick(){return y.delete()}},l("Disconnect")):i.createElement(Ct,{scopes:["commands","links:read","links:write"],redirectUri:"".concat(S.a.URL,"/auth/slack.commands"),state:t.id,icon:i.createElement(SlackIcon,{color:"currentColor"})})),i.createElement("p",null," "),i.createElement("h2",null,l("Collections")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,"Connect Outline collections to Slack channels and messages will be automatically posted to Slack when documents are published or updated.")),i.createElement(kt,null,b.map((function(t){var r=Slack_slicedToArray(t,2),o=r[0],a=r[1];return a?i.createElement(Rt,{key:a.id,collection:o,integration:a}):i.createElement(Z.b,{key:o.id,title:o.name,image:i.createElement(m.a,{collection:o}),actions:i.createElement(Ct,{scopes:["incoming-webhook"],redirectUri:"".concat(S.a.URL,"/auth/slack.post"),state:o.id,label:l("Connect")})})})))):i.createElement(ot.a,null,i.createElement(p.a,null,"The Slack integration is currently disabled. Please set the associated environment variables and restart the server to enable the integration.")))}));function APITokenNew_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function APITokenNew_slicedToArray(t,r){return function APITokenNew_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function APITokenNew_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function APITokenNew_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return APITokenNew_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return APITokenNew_arrayLikeToArray(t,r)}(t,r)||function APITokenNew_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function APITokenNew_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Nt=function APITokenNew(t){var r=t.onSubmit,o=APITokenNew_slicedToArray(i.useState(""),2),a=o[0],l=o[1],u=APITokenNew_slicedToArray(i.useState(!1),2),m=u[0],b=u[1],h=Object(v.a)().apiKeys,_=Object(g.a)().showToast,w=Object(c.a)().t,E=i.useCallback(function(){var t=function APITokenNew_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){APITokenNew_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){APITokenNew_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),b(!0),o.prev=2,o.next=5,h.create({name:a});case 5:_(w("API token created",{type:"success"})),r(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),_(o.t0.message,{type:"error"});case 12:return o.prev=12,b(!1),o.finish(12);case 15:case"end":return o.stop()}}),_callee,null,[[2,9,12,15]])})));return function(r){return t.apply(this,arguments)}}(),[w,_,a,r,h]),A=i.useCallback((function(t){l(t.target.value)}),[]);return i.createElement("form",{onSubmit:E},i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,'Name your token something that will help you to remember it\'s use in the future, for example "local development", "production", or "continuous integration".')),i.createElement(y.a,null,i.createElement(O.c,{type:"text",label:"Name",onChange:A,value:a,required:!0,autoFocus:!0,flex:!0})),i.createElement(d.b,{type:"submit",disabled:m||!a},m?"Creating…":"Create"))};function TokenRevokeDialog_asyncGeneratorStep(t,r,o,a,i,l,c){try{var u=t[l](c),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(a,i)}function TokenRevokeDialog(t){var r=t.token,o=t.onSubmit,a=Object(c.a)().t,l=function(){var t=function TokenRevokeDialog_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(a,i){var l=t.apply(r,o);function _next(t){TokenRevokeDialog_asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){TokenRevokeDialog_asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.delete();case 2:o();case 3:case"end":return t.stop()}}),_callee)})));return function handleSubmit(){return t.apply(this,arguments)}}();return i.createElement(st.a,{onSubmit:l,submitText:a("Revoke"),savingText:"".concat(a("Revoking"),"…"),danger:!0},a("Are you sure you want to revoke the {{ tokenName }} token?",{tokenName:r.name}))}function TokenListItem_slicedToArray(t,r){return function TokenListItem_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function TokenListItem_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function TokenListItem_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return TokenListItem_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return TokenListItem_arrayLikeToArray(t,r)}(t,r)||function TokenListItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TokenListItem_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var zt=function TokenListItem(t){var r=t.token,o=Object(c.a)().t,l=Object(g.a)().showToast,u=Object(v.a)().dialogs,p=TokenListItem_slicedToArray(i.useState(!1),2),m=p[0],y=p[1];i.useEffect((function(){m&&setTimeout((function(){y(!1)}),3e3)}),[m]);var b=i.useCallback((function(){y(!0),l(o("API token copied to clipboard"),{type:"success"})}),[l,o]),h=i.useCallback((function(){u.openModal({title:o("Revoke token"),isCentered:!0,content:i.createElement(TokenRevokeDialog,{onSubmit:u.closeAllModals,token:r})})}),[o,u,r]);return i.createElement(Z.b,{key:r.id,title:r.name,subtitle:i.createElement("code",null,r.secret),actions:i.createElement(i.Fragment,null,i.createElement(vt.a,{text:r.secret,onCopy:b},i.createElement(d.b,{type:"button",icon:i.createElement(a.CopyIcon,null),neutral:!0,borderOnHover:!0},o(m?"Copied":"Copy"))),i.createElement(d.b,{onClick:h,neutral:!0},"Revoke"))})};function Tokens_slicedToArray(t,r){return function Tokens_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function Tokens_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,i,l=[],c=!0,u=!1;try{for(o=o.call(t);!(c=(a=o.next()).done)&&(l.push(a.value),!r||l.length!==r);c=!0);}catch(t){u=!0,i=t}finally{try{c||null==o.return||o.return()}finally{if(u)throw i}}return l}(t,r)||function Tokens_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Tokens_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Tokens_arrayLikeToArray(t,r)}(t,r)||function Tokens_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tokens_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}var Ft=Object(u.c)((function Tokens(){var t=Object(C.a)(),r=Object(c.a)().t,o=Object(v.a)().apiKeys,l=Tokens_slicedToArray(Object(de.a)(),3),u=l[0],m=l[1],y=l[2],b=Object(me.a)(t.id);return i.createElement(A.a,{title:r("API Tokens"),icon:i.createElement(a.CodeIcon,{color:"currentColor"}),actions:i.createElement(i.Fragment,null,b.createApiKey&&i.createElement(K.a,null,i.createElement(d.b,{type:"submit",value:"".concat(r("New token"),"…"),onClick:m})))},i.createElement(E.a,null,r("API Tokens")),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,{defaults:"You can create an unlimited amount of personal tokens to authenticate with the API. Tokens have the same permissions as your user account. For more details see the <em>developer documentation</em>.",components:{em:i.createElement("a",{href:"https://www.getoutline.com/developers",target:"_blank"})}})),i.createElement($.a,{fetch:o.fetchPage,items:o.orderedData,heading:i.createElement(pe.a,{sticky:!0},r("Tokens")),renderItem:function renderItem(t){return i.createElement(zt,{key:t.id,token:t})}}),i.createElement(se.a,{title:r("Create a token"),onRequestClose:y,isOpen:u},i.createElement(Nt,{onSubmit:y})))}));function ZapierIcon(t){var r=t.color,o=void 0===r?"#4E5C6E":r;return i.createElement("svg",{fill:o,width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},i.createElement("path",{d:"M14,12.00348 C13.9996,12.59796 13.89092,13.16708 13.6928,13.69244 C13.16752,13.89072 12.59816,13.99964 12.00344,14.00004 L11.99656,14.00004 C11.40216,13.99964 10.83296,13.89104 10.30768,13.69284 C10.10952,13.16764 10.0004,12.59828 10,12.00364 L10,11.99672 C10.0004,11.40224 10.10928,10.83312 10.30712,10.3078 C10.83264,10.10964 11.40192,10.0006 11.99656,10.0002 L12.00344,10.0002 C12.59816,10.0006 13.16752,10.10964 13.69276,10.3078 C13.89076,10.83316 13.99956,11.40228 13.99996,11.99676 L13.99996,12.00368 L13.99996,12.0036 L14,12.00348 Z M19.8888,10.66668 L15.21896,10.66668 L18.52096,7.36468 C18.2617173,7.00059444 17.9725547,6.65876921 17.65648,6.34276 L17.65632,6.34244 C17.340564,6.02673022 16.9990638,5.73786527 16.63536,5.47884 L13.33336,8.78084 L13.33336,4.11128 C12.894135,4.03747693 12.4495423,4.00025584 12.00416,4 L11.99568,4 C11.5503533,4.00023789 11.1058145,4.03743219 10.66664,4.1112 L10.66664,8.78108 L7.36464,5.47908 C7.00075543,5.7381962 6.65910565,6.02719699 6.34324,6.34308 L6.34204,6.34416 C6.02660762,6.65978768 5.73799769,7.00112635 5.4792,7.36464 L8.7812,10.66664 L4.1112,10.66664 C4.1112,10.66664 4.00016,11.54384 4,11.99704 L4,12.00284 C4.00016664,12.4487002 4.03736113,12.8937765 4.1112,13.33348 L8.78104,13.33348 L5.47904,16.63548 C5.99830995,17.3645251 6.63559493,18.0018101 7.36464,18.52108 L10.66664,15.21916 L10.66664,19.8888 C11.1053956,19.962476 11.5495017,19.9996699 11.9944,20 L12.00584,20 C12.4506842,19.999644 12.8947349,19.9624502 13.33344,19.8888 L13.33344,15.21892 L16.63544,18.52092 C16.9992044,18.2618792 17.3407586,17.972987 17.65656,17.65724 L17.65736,17.65664 C17.9730579,17.3408301 18.2619218,16.9992911 18.52096,16.63556 L15.21896,13.33348 L19.8888,13.33348 C19.9624671,12.8947771 19.999661,12.4507249 20,12.00588 L20,11.9944 C19.999644,11.5495558 19.9624502,11.1055051 19.8888,10.6668 L19.8888,10.66668 Z"}))}var Ut=function Zapier(){var t=Object(c.a)().t;return i.createElement(A.a,{title:"Zapier",icon:i.createElement(ZapierIcon,{color:"currentColor"})},i.createElement(E.a,null,"Zapier"),i.createElement(k.a,{type:"secondary"},i.createElement(p.a,null,'Zapier is a platform that allows Outline to easily integrate with thousands of other business tools. Head over to Zapier to setup a "Zap" and start programmatically interacting with Outline.\'')),i.createElement("p",null,i.createElement(d.b,{onClick:function onClick(){return window.location.href="https://zapier.com/apps/outline"}},t("Open Zapier")," →")))};function useAuthorizedSettingsConfig_toConsumableArray(t){return function useAuthorizedSettingsConfig_arrayWithoutHoles(t){if(Array.isArray(t))return useAuthorizedSettingsConfig_arrayLikeToArray(t)}(t)||function useAuthorizedSettingsConfig_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function useAuthorizedSettingsConfig_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return useAuthorizedSettingsConfig_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return useAuthorizedSettingsConfig_arrayLikeToArray(t,r)}(t)||function useAuthorizedSettingsConfig_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useAuthorizedSettingsConfig_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=t[o];return a}r.a=function useAuthorizedSettingsConfig(){var t=Object(C.a)(),r=Object(me.a)(t.id),o=Object(c.a)().t,i=l.a.useMemo((function(){return{Profile:{name:o("Profile"),path:"/settings",component:ut,enabled:!0,group:o("Account"),icon:a.ProfileIcon},Notifications:{name:o("Notifications"),path:"/settings/notifications",component:at,enabled:!0,group:o("Account"),icon:a.EmailIcon},Api:{name:o("API Tokens"),path:"/settings/tokens",component:Ft,enabled:r.createApiKey,group:o("Account"),icon:a.CodeIcon},Details:{name:o("Details"),path:"/settings/details",component:q,enabled:r.update,group:o("Team"),icon:a.TeamIcon},Security:{name:o("Security"),path:"/settings/security",component:yt,enabled:r.update,group:o("Team"),icon:a.PadlockIcon},Features:{name:o("Features"),path:"/settings/features",component:ie,enabled:r.update,group:o("Team"),icon:a.BeakerIcon},Members:{name:o("Members"),path:"/settings/members",component:tt,enabled:!0,group:o("Team"),icon:a.UserIcon},Groups:{name:o("Groups"),path:"/settings/groups",component:ge,enabled:!0,group:o("Team"),icon:a.GroupIcon},Shares:{name:o("Share Links"),path:"/settings/shares",component:Et,enabled:!0,group:o("Team"),icon:a.LinkIcon},Import:{name:o("Import"),path:"/settings/import",component:Re,enabled:r.manage,group:o("Team"),icon:a.NewDocumentIcon},Export:{name:o("Export"),path:"/settings/export",component:oe,enabled:r.export,group:o("Team"),icon:a.DownloadIcon},Slack:{name:"Slack",path:"/settings/integrations/slack",component:Gt,enabled:r.update&&(!!S.a.SLACK_CLIENT_ID||j.a),group:o("Integrations"),icon:SlackIcon},Zapier:{name:"Zapier",path:"/settings/integrations/zapier",component:Ut,enabled:r.update&&j.a,group:o("Integrations"),icon:ZapierIcon}}}),[r.createApiKey,r.export,r.manage,r.update,o]);return l.a.useMemo((function(){return Object.keys(i).reduce((function(t,r){return i[r].enabled?[].concat(useAuthorizedSettingsConfig_toConsumableArray(t),[i[r]]):t}),[])}),[i])}}}]);
//# sourceMappingURL=authenticated-routes.e36dbb6dd8387f2dbb41.js.map