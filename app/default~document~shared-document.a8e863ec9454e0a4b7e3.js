(window.webpackJsonp=window.webpackJsonp||[]).push([["default~document~shared-document"],{DhMN:function(e,t,n){n("ofBz")},E4Hn:function(e,t,n){"use strict";n.d(t,"a",(function(){return Loading}));var r=n("q1tI"),o=n("9Koi"),i=n("TmSf"),l=n("A9A3"),c=n("DY/r"),u=n("m0xK");function Loading(e){var t=e.location,n=Object(o.a)().t;return r.createElement(u.a,{column:!0,auto:!0},r.createElement(l.a,{title:t.state?t.state.title:n("Untitled")}),r.createElement(i.a,null,r.createElement(c.a,null)))}},OrGx:function(e,t,n){"use strict";var r=n("q1tI"),o=n("9Koi"),i=n("TmSf"),l=n("W//j"),c=n("A9A3");t.a=function ErrorOffline(){var e=Object(o.a)().t;return r.createElement(i.a,null,r.createElement(c.a,{title:e("Offline")}),r.createElement("h1",null,e("Offline")),r.createElement(l.a,null,e("We were unable to load the document while offline.")))}},Zo60:function(e,t,n){"use strict";n.d(t,"a",(function(){return useUserLocale}));var r=n("1RBS");function useUserLocale(){var e=Object(r.a)().auth;if(e.user&&e.user.language)return e.user.language}},baCs:function(e,t){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=Object.keys(r.default).reduce((function(e,t){return e.concat(r.default[t])}),[]);t.default=function(e){return-1===o.indexOf(e.key)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={modifier:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"],legacyModifier:["Hyper","Super"],whiteSpace:["Enter","Tab"],navigation:["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"],editing:["Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo"],ui:["Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut"],device:["BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp"],imeCompositionKeys:["AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate"],koreanSpecific:["HangulMode","HanjaMode","JunjaMode"],japaneseSpecific:["Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku"],commonFunction:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4"],multimedia:["ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck"],multimediaNumpad:["Key11","Key12"],audio:["AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute"],speech:["SpeechCorrectionList","SpeechInputToggle"],application:["LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor"],browser:["BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop"],mobilePhone:["AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial"],tv:["TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer"],mediaControls:["AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]}}]).default},cmEr:function(e,t,n){"use strict";n("FZtP"),n("tkto"),n("E9XD"),n("+2oP"),n("ExoC"),n("NBAS"),n("SuFq"),n("5s+n"),n("pNMO"),n("5DmW"),n("27RR"),n("3KgV"),n("4Brf"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ");var r=n("sEfC"),o=n.n(r),i=(n("ls82"),n("ma9I"),n("rB9j"),n("UxlC"),n("inlA"),n("SYor"),n("oVuX"),n("2B1R"),n("TeQF"),n("07d7"),n("sMBO"),n("Rm1S"),n("2vnA")),l=n("TyAF"),c=n("UxO+"),u=n("q1tI"),s=n("LCzB"),d=n("Ty5D"),p=n("vOnD"),f=n("ewKk");n("DhMN"),n("pjDv");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=/\[(X|\s|_|-)\]\s(.*)?/gi;function getTasks(e){var t=_toConsumableArray(e.matchAll(m)),n=t.length;return n?{completed:n-t.reduce((function(e,t){return" "===t[1]?e+1:e}),0),total:n}:{completed:0,total:0}}var y,h=n("+Zgb"),b=n("METa"),v=n("BZF0"),g=n("pXru"),w=n("2EM/");var O,_=p.default.a.withConfig({displayName:"Branding__Link",componentId:"sc-17gnqbc-0"})(["justify-content:center;padding-bottom:16px;font-weight:600;font-size:14px;text-decoration:none;border-top-right-radius:2px;color:",";display:flex;align-items:center;svg{fill:",";}&:hover{background:",";}",";"],(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.sidebarBackground}),Object(f.a)("tablet")(y||(y=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    z-index: ",";\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 16px;\n  "])),v.b.sidebar+1)),E=function Branding(e){var t=e.href,n=void 0===t?g.a.URL:t;return u.createElement(_,{href:n},u.createElement(w.a,{size:16})," Outline")},S=n("tsqv"),C=n("9Koi"),T=n("sZuP"),x=n("JGNK"),j=n("FvP1"),A=n("1RBS");var k=Object(p.default)(x.a).withConfig({displayName:"ConnectionStatus__Button",componentId:"sc-9uq8ky-0"})(["display:none;position:fixed;bottom:0;right:32px;margin:24px;",";@media print{display:none;}"],Object(f.a)("tablet")(O||(O=function ConnectionStatus_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    display: block;\n  "])))),D=p.default.div.withConfig({displayName:"ConnectionStatus__Centered",componentId:"sc-9uq8ky-1"})(["text-align:center;"]),I=Object(l.c)((function ConnectionStatus(){var e=Object(A.a)().ui,t=Object(p.useTheme)(),n=Object(C.a)().t;return"connecting"===e.multiplayerStatus||"disconnected"===e.multiplayerStatus?u.createElement(j.a,{tooltip:u.createElement(D,null,u.createElement("strong",null,n("Server connection lost")),u.createElement("br",null),n("Edits you make will sync once you’re online")),placement:"bottom"},u.createElement(k,null,u.createElement(T.a,null,u.createElement(S.DisconnectedIcon,{color:t.sidebarText})))):null})),P=n("zPY8"),M=n("KFZt"),R=n("IeSd"),L=n("9vYF"),B=n("A9A3"),N=n("DY/r"),F=n("q7Ez"),z=n("oN2z"),H=n("yT6F"),W=n("hYhh");var V=n("9Hsk"),U=n("R9tu"),K=n("m0xK"),G=n("yppz"),$=n("DzJC"),q=n.n($),J=(n("zKZe"),n("92Fa"));function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function useWindowScrollPosition_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return useWindowScrollPosition_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useWindowScrollPosition_arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useWindowScrollPosition_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y,Z,X=function getPosition(){return{x:window.pageXOffset,y:window.pageYOffset}},Q={throttle:100};function Contents_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Contents_slicedToArray(e,t){return function Contents_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Contents_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function Contents_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Contents_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Contents_arrayLikeToArray(e,t)}(e,t)||function Contents_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Contents_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Contents(e){var t=e.headings,n=e.isFullWidth,r=Contents_slicedToArray(u.useState(),2),o=r[0],i=r[1],l=function useWindowScrollPosition(e){var t=Object.assign({},Q,e),n=_slicedToArray(Object(u.useState)(X()),2),r=n[0],o=n[1];return Object(u.useEffect)((function(){var e=q()((function(){o(X())}),t.throttle);return window.addEventListener("scroll",e,!!J.c&&{passive:!0}),function(){e.cancel(),window.removeEventListener("scroll",e)}}),[t.throttle]),r}({throttle:100});u.useEffect((function(){for(var e=0;e<t.length;e++){var n=t[e],r=window.document.getElementById(decodeURIComponent(n.id));if(r)if(r.getBoundingClientRect().top>20){var o=t[Math.max(0,e-1)];return void i(o.id)}}}),[l,t]);var c=t.reduce((function(e,t){return t.level<e?t.level:e}),1/0)-1,s=Object(C.a)().t;return u.createElement(ee,{isFullWidth:n},u.createElement(te,null,u.createElement(ne,null,s("Contents")),t.length?u.createElement(ie,null,t.map((function(e){return u.createElement(oe,{key:e.id,level:e.level-c,active:o===e.id},u.createElement(ae,{href:"#".concat(e.id)},e.title))}))):u.createElement(re,null,s("Headings you add to the document will appear here"))))}var ee=p.default.div.withConfig({displayName:"Contents__Wrapper",componentId:"k72mg6-0"})(["width:256px;display:none;",";",""],Object(f.a)("tablet")(Y||(Y=Contents_taggedTemplateLiteral(["\n    display: block;\n  "]))),(function(e){return!e.isFullWidth&&Object(f.a)("desktopLarge")(Z||(Z=Contents_taggedTemplateLiteral(["\n    transform: translateX(-256px);\n    width: 0;\n    "])))})),te=p.default.div.withConfig({displayName:"Contents__Sticky",componentId:"k72mg6-1"})(["position:sticky;top:80px;max-height:calc(100vh - 80px);box-shadow:1px 0 0 ",";margin-top:40px;margin-right:52px;min-width:204px;width:204px;min-height:40px;overflow-y:auto;"],(function(e){return e.theme.divider})),ne=p.default.h3.withConfig({displayName:"Contents__Heading",componentId:"k72mg6-2"})(["font-size:11px;font-weight:600;text-transform:uppercase;color:",";letter-spacing:0.04em;"],(function(e){return e.theme.sidebarText})),re=Object(p.default)(G.a).withConfig({displayName:"Contents__Empty",componentId:"k72mg6-3"})(["margin:1em 0 4em;padding-right:2em;font-size:14px;"]),oe=p.default.li.withConfig({displayName:"Contents__ListItem",componentId:"k72mg6-4"})(["margin-left:","px;margin-bottom:8px;padding-right:2em;line-height:1.3;border-right:3px solid ",";a{color:",";}"],(function(e){return 10*(e.level-1)}),(function(e){return e.active?e.theme.divider:"transparent"}),(function(e){return e.active?e.theme.primary:e.theme.text})),ae=p.default.a.withConfig({displayName:"Contents__Link",componentId:"k72mg6-5"})(["color:",";font-size:14px;&:hover{color:",";}"],(function(e){return e.theme.text}),(function(e){return e.theme.primary})),ie=p.default.ol.withConfig({displayName:"Contents__List",componentId:"k72mg6-6"})(["padding:0;list-style:none;"]),le=(n("yXV3"),n("ubb/")),ce=n("k9rE"),ue=n("hzRC"),se=u.lazy((function(){return Promise.all([n.e("vendors~multiplayer-editor~shared-editor"),n.e("vendors~authenticated-routes~multiplayer-editor"),n.e("vendors~multiplayer-editor"),n.e("shared-editor"),n.e("multiplayer-editor")]).then(n.bind(null,"2ncL"))})),de=n("Iks1"),pe=n("I/3w"),fe=n("3l2V"),me=n("baCs"),ye=n.n(me);function useOnScreen_slicedToArray(e,t){return function useOnScreen_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function useOnScreen_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function useOnScreen_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return useOnScreen_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useOnScreen_arrayLikeToArray(e,t)}(e,t)||function useOnScreen_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useOnScreen_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=["disabled","onChange","onInput","onBlur","onKeyDown","value","children","className","maxLength","autoFocus","placeholder","readOnly","dir","onClick"];function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ContentEditable_slicedToArray(e,t){return function ContentEditable_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function ContentEditable_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function ContentEditable_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return ContentEditable_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ContentEditable_arrayLikeToArray(e,t)}(e,t)||function ContentEditable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ContentEditable_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var be=u.forwardRef((function(e,t){var n=e.disabled,r=e.onChange,o=e.onInput,i=e.onBlur,l=e.onKeyDown,c=e.value,s=e.children,d=e.className,p=e.maxLength,f=e.autoFocus,m=e.placeholder,y=e.readOnly,h=e.dir,b=e.onClick,v=_objectWithoutProperties(e,he),g=u.useRef(null),w=ContentEditable_slicedToArray(u.useState(c),2),O=w[0],_=w[1],E=u.useRef("");u.useImperativeHandle(t,(function(){return{focus:function focus(){var e;null===(e=g.current)||void 0===e||e.focus()},focusAtStart:function focusAtStart(){g.current&&(g.current.focus(),placeCaret(g.current,!0))},focusAtEnd:function focusAtEnd(){g.current&&(g.current.focus(),placeCaret(g.current,!1))},getComputedDirection:function getComputedDirection(){return g.current?window.getComputedStyle(g.current).direction:"ltr"}}}));var S=function wrappedEvent(e){return function(t){var n,o=(null===(n=g.current)||void 0===n?void 0:n.innerText)||"";p&&ye()(t)&&o.length>=p?null==t||t.preventDefault():(o!==E.current&&(E.current=o,r&&r(o)),null==e||e(t))}},C=function useOnScreen(e){var t="IntersectionObserver"in window,n=useOnScreen_slicedToArray(u.useState(!t),2),r=n[0],o=n[1];return u.useEffect((function(){var n,r,i=e.current;return t&&(n=new IntersectionObserver((function(e){var t=useOnScreen_slicedToArray(e,1)[0];o(t.isIntersecting)}))),i&&(null===(r=n)||void 0===r||r.observe(i)),function(){var e;i&&(null===(e=n)||void 0===e||e.unobserve(i))}}),[]),r}(g);u.useEffect((function(){var e;f&&C&&!n&&!y&&(null===(e=g.current)||void 0===e||e.focus())}),[f,n,C,y,g]),u.useEffect((function(){var e;c!==(null===(e=g.current)||void 0===e?void 0:e.innerText)&&_(c)}),[c,g]);var T=u.useCallback((function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");window.document.execCommand("insertText",!1,t)}),[]);return u.createElement("div",{className:d,dir:h,onClick:b},u.createElement(ge,_extends({ref:g,contentEditable:!n&&!y,onInput:S(o),onBlur:S(i),onKeyDown:S(l),onPaste:T,"data-placeholder":m,suppressContentEditableWarning:!0,role:"textbox"},v),O),s)}));function placeCaret(e,t){if(void 0!==window.getSelection&&void 0!==document.createRange){var n=document.createRange();n.selectNodeContents(e),n.collapse(t);var r=window.getSelection();null==r||r.removeAllRanges(),null==r||r.addRange(n)}}var ve,ge=p.default.span.withConfig({displayName:"ContentEditable__Content",componentId:"sc-146c620-0"})(["background:",";transition:",";color:",";-webkit-text-fill-color:",";outline:none;resize:none;cursor:text;&:empty{display:inline-block;}&:empty::before{display:inline-block;color:",";-webkit-text-fill-color:",";content:attr(data-placeholder);pointer-events:none;height:0;}"],(function(e){return e.theme.background}),(function(e){return e.theme.backgroundTransition}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.placeholder}),(function(e){return e.theme.placeholder})),we=be,Oe=n("dK6A");n("4l63");var _e="1.25",Ee="2.25em",Se=u.forwardRef((function(e,t){var n=e.value,r=e.document,o=e.readOnly,i=e.onChange,l=e.onSave,c=e.onGoToNextInput,s=e.onBlur,d=e.starrable,p=e.placeholder,f=!n&&o?r.titleWithDefault:n,m=u.useCallback((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[t]),y=u.useCallback((function(e){return"Enter"===e.key?(e.preventDefault(),Object(V.b)(e)?void(null==l||l({done:!0})):void c(!0)):"Tab"===e.key||"ArrowDown"===e.key?(e.preventDefault(),void c()):"p"===e.key&&Object(V.b)(e)&&e.shiftKey?(e.preventDefault(),void(null==l||l({publish:!0,done:!0}))):"s"===e.key&&Object(V.b)(e)?(e.preventDefault(),void(null==l||l({}))):void 0}),[c,l]),h=u.useCallback((function(e){var n;if(/\/date\s$/.test(e))i(Object(fe.a)()),null===(n=t.current)||void 0===n||n.focusAtEnd();else if(/\/time$/.test(e)){var r;i(Object(fe.c)()),null===(r=t.current)||void 0===r||r.focusAtEnd()}else if(/\/datetime$/.test(e)){var o;i(Object(fe.b)()),null===(o=t.current)||void 0===o||o.focusAtEnd()}else i(e)}),[t,i]),b=function useEmojiWidth(e,t){var n=t.fontSize,r=void 0===n?"2.25em":n,o=t.lineHeight,i=void 0===o?"1.25":o;return u.useMemo((function(){var t,n,o=window.document.createElement("span");if(!e)return 0;o.innerText="".concat(e," "),o.style.visibility="hidden",o.style.position="absolute",o.style.left="-9999px",o.style.lineHeight=i,o.style.fontSize=r,o.style.width="max-content",null===(t=window.document.body)||void 0===t||t.appendChild(o);var l=window.getComputedStyle(o).width;return null===(n=window.document.body)||void 0===n||n.removeChild(o),parseInt(l,10)}),[e,r,i])}(r.emoji,{fontSize:Ee,lineHeight:_e});return u.createElement(Te,{onClick:m,onChange:h,onKeyDown:y,onBlur:s,placeholder:p,value:f,$emojiWidth:b,$isStarred:r.isStarred,autoFocus:!n,maxLength:de.b,readOnly:o,dir:"auto",ref:t},!1!==d&&u.createElement(Ce,{document:r,size:32}))})),Ce=Object(p.default)(Oe.b).withConfig({displayName:"EditableTitle__StarButton",componentId:"sc-15pcygz-0"})(["position:relative;top:4px;left:10px;overflow:hidden;width:24px;svg{position:relative;left:-4px;}"]),Te=Object(p.default)(we).withConfig({displayName:"EditableTitle__Title",componentId:"sc-15pcygz-1"})(["line-height:",";margin-top:1em;margin-bottom:0.5em;font-size:",";font-weight:500;border:0;padding:0;cursor:",";> span{outline:none;}&::placeholder{color:",";-webkit-text-fill-color:",";}",";","{opacity:",";}&:hover{","{opacity:0.5;&:hover{opacity:1;}}}@media print{color:",";-webkit-text-fill-color:",";background:none;}"],_e,Ee,(function(e){return e.readOnly?"default":"text"}),(function(e){return e.theme.placeholder}),(function(e){return e.theme.placeholder}),Object(f.a)("tablet")(ve||(ve=function EditableTitle_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-left: ","px;\n  "])),(function(e){return-e.$emojiWidth})),Oe.a,(function(e){return e.$isStarred?"1 !important":0}),Oe.a,pe.d.text,pe.d.text),xe=Object(l.c)(Se),je=["document","title","onChangeTitle","isDraft","shareId","readOnly","children","multiplayer"];function Editor_extends(){return(Editor_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Editor_objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function Editor_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DocumentEditor(e,t){var n,r=u.useRef(null),o=Object(C.a)().t,i=Object(d.k)(),l=e.document,c=e.title,s=e.onChangeTitle,p=e.isDraft,f=e.shareId,m=e.readOnly,y=e.children,h=e.multiplayer,b=Editor_objectWithoutProperties(e,je),v=u.useCallback((function(){t.current&&t.current.focusAtStart()}),[t]),g=u.useCallback((function(){e.onSave({autosave:!0})}),[e]),w=u.useCallback((function(e){if(e&&t.current){var n=t.current.view,r=n.dispatch,o=n.state;r(o.tr.insert(0,o.schema.nodes.paragraph.create()))}v()}),[v,t]),O=h?se:ue.a;return u.createElement(M.a,{auto:!0,column:!0},u.createElement(xe,{ref:r,value:c,readOnly:m,document:l,onGoToNextInput:w,onChange:s,onBlur:g,starrable:!f,placeholder:o("Untitled")}),!f&&u.createElement(ce.a,{isDraft:p,document:l,to:i.path===U.k?Object(U.e)(l):Object(U.c)(l),rtl:"rtl"===(null===(n=r.current)||void 0===n?void 0:n.getComputedDirection())}),u.createElement(O,Editor_extends({ref:t,autoFocus:!!c&&!e.defaultValue,placeholder:o("Type '/' to insert, or start writing…"),scrollTo:window.location.hash,readOnly:m,shareId:f,extensions:le.a,grow:!0},b)),y)}var Ae=Object(l.c)(u.forwardRef(DocumentEditor)),ke=n("55Ip"),De=n("JH2x"),Ie=n("9TNq"),Pe=n("xfcy"),Me=n("ME/M"),Re=n("Y+p1"),Le=n.n(Re),Be=n("7tbW"),Ne=n.n(Be),Fe=n("k4Da"),ze=n.n(Fe),He=n("xweI"),We=n.n(He),Ve=(n("yq1k"),n("JTJg"),n("ToJy"),n("tC9W")),Ue=n("HKtz"),Ke=n("98Z2"),Ge=n("unct"),$e=n("3Y7y"),qe=n("YGlK"),Je=n("SJh+"),Ye=n("6BWE");function Collaborators_extends(){return(Collaborators_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Collaborators_toConsumableArray(e){return function Collaborators_arrayWithoutHoles(e){if(Array.isArray(e))return Collaborators_arrayLikeToArray(e)}(e)||function Collaborators_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Collaborators_unsupportedIterableToArray(e)||function Collaborators_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Collaborators_slicedToArray(e,t){return function Collaborators_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Collaborators_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||Collaborators_unsupportedIterableToArray(e,t)||function Collaborators_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Collaborators_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return Collaborators_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Collaborators_arrayLikeToArray(e,t):void 0}}function Collaborators_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=Object(l.c)((function Collaborators(e){var t=Object(C.a)().t,n=Object(Ye.a)(),r=Object(Je.a)(),o=null==n?void 0:n.id,i=Collaborators_slicedToArray(u.useState([]),2),l=i[0],c=i[1],s=Object(A.a)(),d=s.users,p=s.presence,f=s.ui,m=e.document,y=p.get(m.id),h=y?Array.from(y.values()):[],b=h.map((function(e){return e.userId})),v=h.filter((function(e){return e.isEditing})).map((function(e){return e.userId})),g=u.useMemo((function(){return We()(ze()(d.orderedData,(function(e){return(b.includes(e.id)||m.collaboratorIds.includes(e.id))&&!e.isSuspended})),(function(e){return b.includes(e.id)}))}),[m.collaboratorIds,d.orderedData,b]);u.useEffect((function(){var e=Ne()([].concat(Collaborators_toConsumableArray(m.collaboratorIds),Collaborators_toConsumableArray(b))).filter((function(e){return!d.get(e)})).sort();!Le()(l,e)&&e.length>0&&(c(e),d.fetchPage({ids:e,limit:100}))}),[m,d,b,m.collaboratorIds,l]);var w=Object(Ve.a)({gutter:0,placement:"bottom-end"});return u.createElement(u.Fragment,null,u.createElement(Ue.a,w,(function(e){return u.createElement(x.a,Collaborators_extends({width:32*g.length,height:32},e),u.createElement($e.a,{users:g,renderAvatar:function renderAvatar(e){var t=b.includes(e.id),i=v.includes(e.id),l=f.observingUserId===e.id,c=r.collaborativeEditing&&e.id!==n.id;return u.createElement(Ke.a,{key:e.id,user:e,isPresent:t,isEditing:i,isObserving:l,isCurrentUser:o===e.id,profileOnClick:!1,onClick:c?function(n){t&&(n.preventDefault(),n.stopPropagation(),f.setObservingUser(l?void 0:e.id))}:void 0})}}))})),u.createElement(qe.a,Collaborators_extends({},w,{width:300,"aria-label":t("Viewers"),tabIndex:0}),u.createElement(Ge.a,{document:m,isOpen:w.visible})))})),Xe=n("QlJP"),Qe=n("HH5C"),et=n("AgUJ"),tt=n("e0LR"),nt=n("ahuT"),rt=n("3k8n"),ot=n("LU5X"),at=n("EHHx"),it=n("Cqmt"),lt=n("wdeN");function NewChildDocumentMenu_extends(){return(NewChildDocumentMenu_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ct=Object(l.c)((function NewChildDocumentMenu(e){var t=e.document,n=e.label,r=Object(ot.a)({modal:!0}),o=Object(A.a)().collections,i=Object(C.a)().t,l=o.get(t.collectionId),c=l?l.name:i("collection");return u.createElement(u.Fragment,null,u.createElement(at.a,r,n),u.createElement(it.d,NewChildDocumentMenu_extends({},r,{"aria-label":i("New child document")}),u.createElement(lt.a,NewChildDocumentMenu_extends({},r,{items:[{type:"route",title:u.createElement("span",null,u.createElement(rt.a,{defaults:"New document in <em>{{ collectionName }}</em>",values:{collectionName:c},components:{em:u.createElement("strong",null)}})),to:Object(U.m)(t.collectionId)},{type:"route",title:i("New nested document"),to:Object(U.m)(t.collectionId,{parentDocumentId:t.id})}]}))))}));function TableOfContentsMenu_extends(){return(TableOfContentsMenu_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function TableOfContentsMenu_toConsumableArray(e){return function TableOfContentsMenu_arrayWithoutHoles(e){if(Array.isArray(e))return TableOfContentsMenu_arrayLikeToArray(e)}(e)||function TableOfContentsMenu_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function TableOfContentsMenu_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return TableOfContentsMenu_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TableOfContentsMenu_arrayLikeToArray(e,t)}(e)||function TableOfContentsMenu_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TableOfContentsMenu_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut=Object(l.c)((function TableOfContentsMenu(e){var t=e.headings,n=Object(ot.a)({modal:!0,unstable_preventOverflow:!0,unstable_fixed:!0,unstable_flip:!0}),r=Object(C.a)().t,o=t.reduce((function(e,t){return t.level<e?t.level:e}),1/0),i=u.useMemo((function(){var e=[{type:"heading",visible:!0,title:r("Contents")}].concat(TableOfContentsMenu_toConsumableArray(t.map((function(e){return{type:"link",href:"#".concat(e.id),title:r(e.title),level:e.level-o}}))));return 1===e.length&&e.push({type:"link",href:"#",title:r("Headings you add to the document will appear here"),disabled:!0}),e}),[r,t,o]);return u.createElement(u.Fragment,null,u.createElement(at.a,n,(function(e){return u.createElement(Me.b,TableOfContentsMenu_extends({},e,{icon:u.createElement(S.TableOfContentsIcon,null),iconColor:"currentColor",borderOnHover:!0,neutral:!0}))})),u.createElement(it.d,TableOfContentsMenu_extends({},n,{"aria-label":r("Table of contents")}),u.createElement(lt.a,TableOfContentsMenu_extends({},n,{items:i}))))})),st=n("JFwc"),dt=n("/19Q");function TemplatesMenu_extends(){return(TemplatesMenu_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pt=p.default.div.withConfig({displayName:"TemplatesMenu__TemplateItem",componentId:"dvnwkp-0"})(["text-align:left;"]),ft=p.default.div.withConfig({displayName:"TemplatesMenu__Author",componentId:"dvnwkp-1"})(["font-size:13px;"]),mt=Object(l.c)((function TemplatesMenu(e){var t=e.onSelectTemplate,n=e.document,r=Object(ot.a)({modal:!0}),o=Object(A.a)().documents,i=Object(C.a)().t,l=o.templates;if(!l.length)return null;var c=l.filter((function(e){return e.collectionId===n.collectionId})),s=l.filter((function(e){return e.collectionId!==n.collectionId})),d=function renderTemplate(e){return u.createElement(st.c,TemplatesMenu_extends({key:e.id,onClick:function onClick(){return t(e)},icon:u.createElement(S.DocumentIcon,null)},r),u.createElement(pt,null,u.createElement("strong",null,e.titleWithDefault),u.createElement("br",null),u.createElement(ft,null,i("By {{ author }}",{author:e.createdBy.name}))))};return u.createElement(u.Fragment,null,u.createElement(at.a,r,(function(e){return u.createElement(Me.b,TemplatesMenu_extends({},e,{disclosure:!0,neutral:!0}),i("Templates"))})),u.createElement(it.d,TemplatesMenu_extends({},r,{"aria-label":i("Templates")}),c.map(d),s.length&&c.length?u.createElement(dt.a,null):void 0,s.map(d)))})),yt=n("8PNI"),ht=n("M4ns"),bt={type:"spring",stiffness:500,damping:30};var vt=p.default.div.withConfig({displayName:"ObservingBanner__Positioner",componentId:"sc-39l6xu-0"})(["position:fixed;top:0;left:50%;transform:translateX(-50%);"]),gt=Object(p.default)(ht.a.div).withConfig({displayName:"ObservingBanner__Banner",componentId:"sc-39l6xu-1"})(["padding:6px 6px 1px;font-size:13px;font-weight:500;z-index:",";color:",";background:",";border-bottom-left-radius:4px;border-bottom-right-radius:4px;"],v.b.header+1,(function(e){return e.theme.white}),(function(e){return e.$color})),wt=Object(l.c)((function ObservingBanner(){var e=Object(A.a)(),t=e.ui,n=e.users,r=Object(C.a)().t,o=t.observingUserId?n.get(t.observingUserId):void 0;return u.createElement(vt,null,u.createElement(yt.a,null,o&&u.createElement(gt,{$color:o.color,transition:bt,initial:{opacity:0,y:-20},animate:{opacity:1,y:-5},exit:{opacity:0,y:-30}},r("Observing {{ userName }}",{userName:o.name}))))})),Ot=n("0i7a");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PublicBreadcrumb_toConsumableArray(e){return function PublicBreadcrumb_arrayWithoutHoles(e){if(Array.isArray(e))return PublicBreadcrumb_arrayLikeToArray(e)}(e)||function PublicBreadcrumb_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function PublicBreadcrumb_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return PublicBreadcrumb_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PublicBreadcrumb_arrayLikeToArray(e,t)}(e)||function PublicBreadcrumb_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PublicBreadcrumb_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=function PublicBreadcrumb(e){var t=e.documentId,n=e.shareId,r=e.sharedTree,o=e.children,i=u.useMemo((function(){return function pathToDocument(e,t){var n=[];return e&&function traveler(e,r){e.forEach((function(e){var o=[].concat(PublicBreadcrumb_toConsumableArray(r),[e]);if(e.id!==t)return traveler(e.children,o);n=o}))}([e],[]),n}(r,t).slice(0,-1).map((function(e){return _objectSpread(_objectSpread({},e),{},{type:"route",to:"/share/".concat(n).concat(e.url)})}))}),[r,n,t]);return u.createElement(Ot.a,{items:i,children:o})},Et=n("7xvl"),St=n("QLaP"),Ct=n.n(St),Tt=n("6HK0"),xt=n("PHil"),jt=n("y0yR"),At=n("DPW8"),kt=n("2Kol"),Dt=n("Y8J7"),It=n("Zo60"),Pt=n("9FT3");function asyncGeneratorStep(e,t,n,r,o,i,l){try{var c=e[i](l),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function SharePopover_slicedToArray(e,t){return function SharePopover_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function SharePopover_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function SharePopover_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return SharePopover_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SharePopover_arrayLikeToArray(e,t)}(e,t)||function SharePopover_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SharePopover_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mt=p.default.h2.withConfig({displayName:"SharePopover__Heading",componentId:"sc-1xkf29h-0"})(["display:flex;align-items:center;margin-top:12px;margin-left:-4px;"]),Rt=p.default.div.withConfig({displayName:"SharePopover__SwitchWrapper",componentId:"sc-1xkf29h-1"})(["margin:20px 0;"]),Lt=Object(p.default)(xt.c).withConfig({displayName:"SharePopover__InputLink",componentId:"sc-1xkf29h-2"})(["flex-grow:1;margin-right:8px;"]),Bt=Object(p.default)(M.a).withConfig({displayName:"SharePopover__SwitchLabel",componentId:"sc-1xkf29h-3"})(["svg{flex-shrink:0;}"]),Nt=Object(p.default)(G.a).withConfig({displayName:"SharePopover__SwitchText",componentId:"sc-1xkf29h-4"})(["margin:0;font-size:15px;"]),Ft=Object(l.c)((function SharePopover(e){var t,n=e.document,r=e.share,o=e.sharedParent,i=e.onRequestClose,l=e.visible,c=Object(C.a)().t,s=Object(A.a)(),d=s.shares,p=s.auth,f=Object(Dt.a)().showToast,m=SharePopover_slicedToArray(u.useState(!1),2),y=m[0],h=m[1],b=u.useRef(),v=u.useRef(null),g=Object(tt.a)(r?r.id:""),w=Object(tt.a)(n.id),O=g.update&&!n.isTemplate&&(null===(t=p.team)||void 0===t?void 0:t.sharing)&&w.share,_=r&&r.published||o&&o.published&&!n.isDraft;Object(kt.a)("Escape",i),u.useEffect((function(){var e;l&&(n.share(),null===(e=v.current)||void 0===e||e.focus());return function(){return b.current?clearTimeout(b.current):void 0}}),[n,l]);var E=u.useCallback(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var t;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=d.getByDocumentId(n.id),Ct()(t,"Share must exist"),r.prev=2,r.next=5,t.save({published:e.currentTarget.checked});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),f(r.t0.message,{type:"error"});case 10:case"end":return r.stop()}}),_callee,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[n.id,d,f]),T=u.useCallback(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){var t;return regeneratorRuntime.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=d.getByDocumentId(n.id),Ct()(t,"Share must exist"),r.prev=2,r.next=5,t.save({includeChildDocuments:e.currentTarget.checked});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),f(r.t0.message,{type:"error"});case 10:case"end":return r.stop()}}),_callee2,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[n.id,d,f]),x=u.useCallback((function(){h(!0),b.current=setTimeout((function(){h(!1),i(),f(c("Share link copied"),{type:"info"})}),250)}),[c,i,f]),j=Object(It.a)(),k=j?Object(Pt.a)(j):void 0;return u.createElement(u.Fragment,null,u.createElement(Mt,null,_?u.createElement(S.GlobeIcon,{size:28,color:"currentColor"}):u.createElement(S.PadlockIcon,{size:28,color:"currentColor"})," ",c("Share this document")),o&&!n.isDraft&&u.createElement(jt.a,null,u.createElement(rt.a,{defaults:"This document is shared because the parent <em>{{ documentTitle }}</em> is publicly shared",values:{documentTitle:o.documentTitle},components:{em:u.createElement("strong",null)}})),O?u.createElement(Rt,null,u.createElement(At.a,{id:"published",label:c("Publish to internet"),onChange:E,checked:!!r&&r.published,disabled:!r}),u.createElement(Bt,null,u.createElement(Nt,null,null!=r&&r.published?c("Anyone with the link can view this document"):c("Only team members with permission can view"),(null==r?void 0:r.lastAccessedAt)&&u.createElement(u.Fragment,null,"."," ",c("The shared link was last accessed {{ timeAgo }}.",{timeAgo:Object(Et.a)(Date.parse(null==r?void 0:r.lastAccessedAt),{addSuffix:!0,locale:k})}))))):u.createElement(G.a,{type:"secondary"},c("Only team members with permission can view")),O&&(null==r?void 0:r.published)&&!n.isDraft&&u.createElement(Rt,null,u.createElement(At.a,{id:"includeChildDocuments",label:c("Share nested documents"),onChange:T,checked:!!r&&r.includeChildDocuments,disabled:!r}),u.createElement(Bt,null,u.createElement(Nt,null,r.includeChildDocuments?c("Nested documents are publicly available"):c("Nested documents are not shared")))),u.createElement(M.a,null,u.createElement(Lt,{type:"text",label:c("Link"),placeholder:"".concat(c("Loading"),"…"),value:r?r.url:"",labelHidden:!0,readOnly:!0}),u.createElement(Tt.a,{text:r?r.url:"",onCopy:x},u.createElement(Me.b,{type:"submit",disabled:y||!r,ref:v,primary:!0},c("Copy link")))))}));function ShareButton_extends(){return(ShareButton_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var zt=Object(l.c)((function ShareButton(e){var t=e.document,n=Object(C.a)().t,r=Object(A.a)().shares,o=r.getByDocumentId(t.id),i=r.getByDocumentParents(t.id),l=(null==o?void 0:o.published)||(null==i?void 0:i.published)&&!t.isDraft,c=Object(Ve.a)({gutter:0,placement:"bottom-end",unstable_fixed:!0});return u.createElement(u.Fragment,null,u.createElement(Ue.a,c,(function(e){return u.createElement(j.a,{tooltip:l?u.createElement(rt.a,null,"Anyone with the link ",u.createElement("br",null),"can view this document"):"",delay:500,placement:"bottom"},u.createElement(Me.b,ShareButton_extends({icon:l?u.createElement(S.GlobeIcon,null):void 0,neutral:!0},e),n("Share")))})),u.createElement(qe.a,ShareButton_extends({},c,{"aria-label":n("Share")}),u.createElement(Ft,{document:t,share:o,sharedParent:i,onRequestClose:c.hide,visible:c.visible})))}));function Header_extends(){return(Header_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Header_slicedToArray(e,t){return function Header_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Header_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function Header_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Header_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Header_arrayLikeToArray(e,t)}(e,t)||function Header_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Header_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ht,Wt=Object(p.default)(Ie.a).withConfig({displayName:"Header__Status",componentId:"yxvzzt-0"})(["padding-left:0;padding-right:4px;color:",";"],(function(e){return e.theme.slate})),Vt=Object(l.c)((function DocumentHeader(e){var t=e.document,n=e.documentHasHeadings,r=e.shareId,o=e.isEditing,i=e.isDraft,l=e.isPublishing,c=e.isRevision,s=e.isSaving,d=e.savingIsDisabled,p=e.publishingIsDisabled,f=e.sharedTree,m=e.onSelectTemplate,y=e.onSave,h=e.headings,b=Object(C.a)().t,v=Object(A.a)(),g=v.ui,w=v.auth,O=g.resolvedTheme,_=w.team,E=Object(et.a)(),T=Header_slicedToArray(u.useState(t.isPersistedOnce),1)[0],x=u.useCallback((function(){y({done:!0})}),[y]),k=u.useCallback((function(){y({done:!0,publish:!0})}),[y]),D=t.isDeleted,I=t.isTemplate,P=Object(tt.a)(t.id),M=null==_?void 0:_.documentEmbeds,R=P.update&&!o,L=u.createElement(j.a,{tooltip:g.tocVisible?b("Hide contents"):b("Show contents"),shortcut:"ctrl+alt+h",delay:250,placement:"bottom"},u.createElement(Me.b,{onClick:g.tocVisible?g.hideTableOfContents:g.showTableOfContents,icon:u.createElement(S.TableOfContentsIcon,null),iconColor:"currentColor",borderOnHover:!0,neutral:!0})),B=u.createElement(Ie.a,null,u.createElement(j.a,{tooltip:b("Edit {{noun}}",{noun:t.noun}),shortcut:"e",delay:500,placement:"bottom"},u.createElement(Me.b,{as:ke.a,icon:u.createElement(S.EditIcon,null),to:Object(U.g)(t),neutral:!0},b("Edit")))),N=u.createElement(Ie.a,null,u.createElement(j.a,{tooltip:b("light"===O?"Switch to dark":"Switch to light"),delay:500,placement:"bottom"},u.createElement(Me.b,{icon:"light"===O?u.createElement(S.SunIcon,null):u.createElement(S.MoonIcon,null),onClick:function onClick(){return g.setTheme("light"===O?De.a.Dark:De.a.Light)},neutral:!0,borderOnHover:!0})));return r?u.createElement(Qe.a,{title:t.title,hasSidebar:!!f,breadcrumb:E?u.createElement(ut,{headings:h}):u.createElement(_t,{documentId:t.id,shareId:r,sharedTree:f},n?L:null),actions:u.createElement(u.Fragment,null,N,R?B:u.createElement("div",null))}):u.createElement(u.Fragment,null,u.createElement(Qe.a,{hasSidebar:!0,breadcrumb:E?u.createElement(ut,{headings:h}):u.createElement(Xe.a,{document:t},!o&&L),title:u.createElement(u.Fragment,null,t.title," ",t.isArchived&&u.createElement(Pe.a,null,b("Archived"))),actions:u.createElement(u.Fragment,null,u.createElement(wt,null),!l&&s&&!(null!=_&&_.collaborativeEditing)&&u.createElement(Wt,null,b("Saving"),"…"),!D&&u.createElement(Ze,{document:t}),(o||(null==_?void 0:_.collaborativeEditing))&&!I&&T&&u.createElement(Ie.a,null,u.createElement(mt,{document:t,onSelectTemplate:m})),!o&&!D&&(!E||!I)&&u.createElement(Ie.a,null,u.createElement(zt,{document:t})),o&&u.createElement(u.Fragment,null,u.createElement(Ie.a,null,u.createElement(j.a,{tooltip:b("Save"),shortcut:"".concat(V.c,"+enter"),delay:500,placement:"bottom"},u.createElement(Me.b,{onClick:x,disabled:d,neutral:i},b(i?"Save Draft":"Done Editing"))))),R&&!(null!=_&&_.collaborativeEditing)&&B,R&&P.createChildDocument&&!E&&u.createElement(Ie.a,null,u.createElement(ct,{document:t,label:function label(e){return u.createElement(j.a,{tooltip:b("New document"),shortcut:"n",delay:500,placement:"bottom"},u.createElement(Me.b,Header_extends({icon:u.createElement(S.PlusIcon,null)},e,{neutral:!0}),b("New doc")))}})),R&&I&&!i&&!c&&u.createElement(Ie.a,null,u.createElement(Me.b,{icon:u.createElement(S.PlusIcon,null),as:ke.a,to:Object(U.m)(t.collectionId,{templateId:t.id}),primary:!0},b("New from template"))),P.update&&i&&!c&&u.createElement(Ie.a,null,u.createElement(j.a,{tooltip:b("Publish"),shortcut:"".concat(V.c,"+shift+p"),delay:500,placement:"bottom"},u.createElement(Me.b,{onClick:k,disabled:p},l?"".concat(b("Publishing"),"…"):b("Publish")))),!o&&u.createElement(u.Fragment,null,!D&&u.createElement(Ie.b,null),u.createElement(Ie.a,null,u.createElement(nt.a,{document:t,isRevision:c,label:function label(e){return u.createElement(Me.b,Header_extends({icon:u.createElement(S.MoreIcon,null),iconColor:"currentColor"},e,{borderOnHover:!0,neutral:!0}))},showToggleEmbeds:M,showDisplayOptions:!0}))))}))})),Ut=n("sthE"),Kt=n("d5fK"),Gt=n("1BaO");function KeyboardShortcutsButton_slicedToArray(e,t){return function KeyboardShortcutsButton_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function KeyboardShortcutsButton_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function KeyboardShortcutsButton_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return KeyboardShortcutsButton_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KeyboardShortcutsButton_arrayLikeToArray(e,t)}(e,t)||function KeyboardShortcutsButton_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KeyboardShortcutsButton_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t=Object(p.default)(x.a).withConfig({displayName:"KeyboardShortcutsButton__Button",componentId:"sc-1h4xary-0"})(["display:none;position:fixed;bottom:0;right:0;margin:24px;",";@media print{display:none;}"],Object(f.a)("tablet")(Ht||(Ht=function KeyboardShortcutsButton_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    display: block;\n  "])))),qt=function KeyboardShortcutsButton(){var e=Object(C.a)().t,t=KeyboardShortcutsButton_slicedToArray(Object(Gt.a)(),3),n=t[0],r=t[1],o=t[2];return u.createElement(u.Fragment,null,u.createElement(Kt.a,{isOpen:n,onRequestClose:o,title:e("Keyboard shortcuts")},u.createElement(Ut.a,null)),u.createElement(j.a,{tooltip:e("Keyboard shortcuts"),shortcut:"?",delay:500},u.createElement($t,{onClick:r},u.createElement(S.KeyboardIcon,null))))};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MarkAsViewed_asyncGeneratorStep(e,t,n,r,o,i,l){try{var c=e[i](l),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function MarkAsViewed_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){MarkAsViewed_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){MarkAsViewed_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&_setPrototypeOf(e,t)}(MarkAsViewed,e);var t=_createSuper(MarkAsViewed);function MarkAsViewed(){return _classCallCheck(this,MarkAsViewed),t.apply(this,arguments)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(MarkAsViewed,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.document;this.viewTimeout=setTimeout(MarkAsViewed_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.view();case 2:(t=n.sent)&&e.updateLastViewed(t);case 4:case"end":return n.stop()}}),_callee)}))),3e3)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.viewTimeout)}},{key:"render",value:function render(){return this.props.children||null}}]),MarkAsViewed}(u.Component),Yt=n("Jrrx");function Notices(e){var t=e.document,n=e.readOnly,r=Object(C.a)().t;return u.createElement(u.Fragment,null,t.isTemplate&&!n&&u.createElement(jt.a,{icon:u.createElement(S.ShapesIcon,null),description:u.createElement(rt.a,null,"Highlight some text and use the"," ",u.createElement(Zt,{color:"currentColor"})," control to add placeholders that can be filled out when creating new documents")},r("You’re editing a template")),t.archivedAt&&!t.deletedAt&&u.createElement(jt.a,{icon:u.createElement(S.ArchiveIcon,null)},r("Archived by {{userName}}",{userName:t.updatedBy.name})," ",u.createElement(Yt.a,{dateTime:t.updatedAt,addSuffix:!0})),t.deletedAt&&u.createElement(jt.a,{icon:u.createElement(S.TrashIcon,null),description:function permanentlyDeletedDescription(){if(t.permanentlyDeletedAt)return t.template?u.createElement(rt.a,null,"This template will be permanently deleted in"," ",u.createElement(Yt.a,{dateTime:t.permanentlyDeletedAt})," unless restored."):u.createElement(rt.a,null,"This document will be permanently deleted in"," ",u.createElement(Yt.a,{dateTime:t.permanentlyDeletedAt})," unless restored.")}()},r("Deleted by {{userName}}",{userName:t.updatedBy.name})," ",u.createElement(Yt.a,{dateTime:t.deletedAt,addSuffix:!0})))}var Zt=Object(p.default)(S.InputIcon).withConfig({displayName:"Notices__PlaceholderIcon",componentId:"sc-13nk7e4-0"})(["position:relative;top:6px;margin-top:-6px;"]),Xt=n("SQX4"),Qt=(n("GKVU"),n("9AlY")),en=n("OR1y"),tn=n("u0/x"),nn=["document","showCollection","anchor","shareId"];function ReferenceListItem_extends(){return(ReferenceListItem_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ReferenceListItem_objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=function ReferenceListItem_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rn=Object(p.default)(ke.a).withConfig({displayName:"ReferenceListItem__DocumentLink",componentId:"sc-1hh6a0t-0"})(["display:block;margin:2px -8px;padding:6px 8px;border-radius:8px;max-height:50vh;min-width:100%;overflow:hidden;position:relative;&:",",&:active,&:focus{background:",";}"],tn.a,(function(e){return e.theme.listItemHoverBackground})),on=Object(p.default)(M.a).withConfig({displayName:"ReferenceListItem__Content",componentId:"sc-1hh6a0t-1"})(["color:",";margin-left:-4px;"],(function(e){return e.theme.textSecondary})),an=p.default.div.withConfig({displayName:"ReferenceListItem__Title",componentId:"sc-1hh6a0t-2"})(["overflow:hidden;text-overflow:ellipsis;font-size:14px;font-weight:500;line-height:1.25;padding-top:3px;white-space:nowrap;color:",';font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;'],(function(e){return e.theme.text}));var ln=Object(l.c)((function ReferenceListItem(e){var t=e.document,n=(e.showCollection,e.anchor),r=e.shareId,o=ReferenceListItem_objectWithoutProperties(e,nn),i=Object(Qt.a)(t.title).emoji;return u.createElement(rn,ReferenceListItem_extends({to:{pathname:r?"/share/".concat(r).concat(t.url):t.url,hash:n?"d-".concat(n):void 0,state:{title:t.title}}},o),u.createElement(on,{gap:4,dir:"auto"},i?u.createElement(en.a,{emoji:i}):u.createElement(S.DocumentIcon,{color:"currentColor"}),u.createElement(an,null,i?t.title.replace(i,""):t.title)))}));var cn=Object(l.c)((function PublicReferences(e){var t=Object(C.a)().t,n=e.shareId,r=e.documentId,o=e.sharedTree,i=u.useMemo((function(){var e;return function findChildren(t){if(t)return t.id===r?e=t.children:t.children.forEach((function(t){e||findChildren(t)})),e}(o)||[]}),[r,o]);return i.length?u.createElement(u.Fragment,null,u.createElement(Xt.a,null,t("Nested documents")),i.map((function(e){return u.createElement(ln,{key:e.id,document:e,shareId:n})}))):null})),un=n("RTCn"),sn=n("jJBh");var dn,pn,fn,mn,yn,hn,bn,vn,gn,wn,On,_n,En,Sn=p.default.div.withConfig({displayName:"References__Content",componentId:"e21yai-0"})(["position:relative;"]),Cn=p.default.div.withConfig({displayName:"References__List",componentId:"e21yai-1"})(["visibility:",";position:absolute;top:0;left:0;right:0;"],(function(e){return e.$active?"visible":"hidden"})),Tn=Object(l.c)((function References(e){var t=e.document,n=Object(A.a)(),r=n.collections,o=n.documents,i=Object(d.i)();u.useEffect((function(){o.fetchBacklinks(t.id)}),[o,t.id]);var l=o.getBacklinkedDocuments(t.id),c=r.get(t.collectionId),s=c?c.getDocumentChildren(t.id):[],p=!!l.length,f=!!s.length,m="#backlinks"===i.hash||!f,y=40*Math.max(l.length,s.length);return p||f?u.createElement(T.a,null,u.createElement(sn.a,null,f&&u.createElement(un.a,{to:"#children",isActive:function isActive(){return!m}},u.createElement(rt.a,null,"Nested documents")),p&&u.createElement(un.a,{to:"#backlinks",isActive:function isActive(){return m}},u.createElement(rt.a,null,"Backlinks"))),u.createElement(Sn,{style:{height:y}},p&&u.createElement(Cn,{$active:m},l.map((function(e){return u.createElement(ln,{anchor:t.urlId,key:e.id,document:e,showCollection:e.collectionId!==t.collectionId})}))),f&&u.createElement(Cn,{$active:!m},s.map((function(e){var t=o.get(e.id);return u.createElement(ln,{key:e.id,document:t||e,showCollection:!1})}))))):null}));function Document_typeof(e){return(Document_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Document_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Document_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Document_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Document_ownKeys(Object(n),!0).forEach((function(t){Document_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Document_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Document_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Document_asyncGeneratorStep(e,t,n,r,o,i,l){try{var c=e[i](l),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Document_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){Document_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){Document_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function _initializerDefineProperty(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Document_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Document_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Document_setPrototypeOf(e,t){return(Document_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function Document_createSuper(e){var t=function Document_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=Document_getPrototypeOf(e);if(t){var o=Document_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Document_possibleConstructorReturn(this,n)}}function Document_possibleConstructorReturn(e,t){if(t&&("object"===Document_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Document_assertThisInitialized(e)}function Document_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Document_getPrototypeOf(e){return(Document_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _applyDecoratedDescriptor(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var xn=Object(l.c)((pn=function(e){!function Document_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Document_setPrototypeOf(e,t)}(DocumentScene,e);var t=Document_createSuper(DocumentScene);function DocumentScene(){var e,n;Document_classCallCheck(this,DocumentScene);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return Document_possibleConstructorReturn(n,(e=n=t.call.apply(t,[this].concat(l)),_initializerDefineProperty(n,"editor",fn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"isUploading",mn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"isSaving",yn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"isPublishing",hn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"isEditorDirty",bn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"isEmpty",vn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"lastRevision",gn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"title",wn,Document_assertThisInitialized(n)),_initializerDefineProperty(n,"headings",On,Document_assertThisInitialized(n)),n.getEditorText=function(){return n.props.document.text},n.replaceDocument=function(e){var t=n.editor;if(t){var r=t.view,o=t.parser;r.dispatch(r.state.tr.setSelection(new c.AllSelection(r.state.doc)).replaceSelectionWith(o.parse(e.text))),n.isEditorDirty=!0,e instanceof h.a&&(n.props.document.templateId=e.id),n.title||(n.title=e.title,n.props.document.title=e.title),n.props.document.text=e.text,n.updateIsDirty(),n.onSave({autosave:!0,publish:!1,done:!1})}},n.onSynced=Document_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var e,t,r,o,i,l,c,u,s,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(r=n.props,o=r.toasts,i=r.history,l=r.location,c=r.t,u=null===(e=l.state)||void 0===e?void 0:e.restore,s=null===(t=l.state)||void 0===t?void 0:t.revisionId,n.editor&&u){p.next=6;break}return p.abrupt("return");case 6:return p.next=8,H.a.post("/revisions.info",{id:s});case 8:(d=p.sent)&&(n.replaceDocument(d.data),o.showToast(c("Document restored")),i.replace(n.props.document.url,i.location.state));case 10:case"end":return p.stop()}}),_callee)}))),n.goToMove=function(e){if(n.props.readOnly){e.preventDefault();var t=n.props,r=t.document;t.abilities.move&&n.props.history.push(Object(U.d)(r))}},n.goToEdit=function(e){if(n.props.readOnly){e.preventDefault();var t=n.props,r=t.document;t.abilities.update&&n.props.history.push(Object(U.g)(r))}},n.goToHistory=function(e){if(n.props.readOnly&&!e.ctrlKey){e.preventDefault();var t=n.props,r=t.document;t.location.pathname.endsWith("history")?n.props.history.push(r.url):n.props.history.push(Object(U.c)(r))}},n.onPublish=function(e){e.preventDefault(),n.props.document.publishedAt||n.onSave({publish:!0,done:!0})},n.onToggleTableOfContents=function(e){if(n.props.readOnly){e.preventDefault();var t=n.props.ui;t.tocVisible?t.hideTableOfContents():t.showTableOfContents()}},n.onSave=Document_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var e,t,r,o,i,l,c,u=arguments;return regeneratorRuntime.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(e=u.length>0&&void 0!==u[0]?u[0]:{},t=n.props,r=t.document,o=t.auth,!r.isSaving){s.next=4;break}return s.abrupt("return");case 4:if(""!==(i=n.getEditorText?n.getEditorText():r.text).trim()||""!==r.title.trim()){s.next=7;break}return s.abrupt("return");case 7:if(r.text=i,r.tasks=getTasks(r.text),!e.autosave||n.isEditorDirty||r.isDirty()){s.next=11;break}return s.abrupt("return");case 11:if(n.isSaving=!0,n.isPublishing=!!e.publish,s.prev=13,c=r,null===(l=o.team)||void 0===l||!l.collaborativeEditing){s.next=21;break}return s.next=18,r.update(Document_objectSpread(Document_objectSpread({},e),{},{lastRevision:n.lastRevision}));case 18:c=s.sent,s.next=24;break;case 21:return s.next=23,r.save(Document_objectSpread(Document_objectSpread({},e),{},{lastRevision:n.lastRevision}));case 23:c=s.sent;case 24:n.isEditorDirty=!1,n.lastRevision=c.revision,e.done?(n.props.history.push(c.url),n.props.ui.setActiveDocument(c)):r.isNew&&(n.props.history.push(Object(U.g)(c)),n.props.ui.setActiveDocument(c)),s.next=32;break;case 29:s.prev=29,s.t0=s.catch(13),n.props.toasts.showToast(s.t0.message,{type:"error"});case 32:return s.prev=32,n.isSaving=!1,n.isPublishing=!1,s.finish(32);case 36:case"end":return s.stop()}}),_callee2,null,[[13,29,32,36]])}))),n.autosave=o()((function(){n.onSave({done:!1,autosave:!0})}),3e3),n.updateIsDirty=function(){var e=n.props.document,t=n.getEditorText().trim();n.isEditorDirty=t!==e.text.trim(),n.isEmpty=!(t&&"#"!==t&&"\\"!==t||n.title)},n.updateIsDirtyDebounced=o()(n.updateIsDirty,500),n.onFileUploadStart=function(){n.isUploading=!0},n.onFileUploadStop=function(){n.isUploading=!1},n.onChange=function(e){var t,r,o,i,l,c,u=n.props,s=u.document,d=u.auth;n.getEditorText=e;var p=null!==(t=null===(r=n.editor)||void 0===r?void 0:r.getHeadings())&&void 0!==t?t:[];p.map((function(e){return e.level+e.title})).join("")!==n.headings.map((function(e){return e.level+e.title})).join("")&&(n.headings=p);var f=null===(o=n.editor)||void 0===o?void 0:o.getTasks(),m=null!==(i=null==f?void 0:f.length)&&void 0!==i?i:0,y=null!==(l=null==f?void 0:f.filter((function(e){return e.completed})).length)&&void 0!==l?l:0;s.updateTasks(m,y),null!==(c=d.team)&&void 0!==c&&c.collaborativeEditing||(n.props.readOnly?(n.updateIsDirty(),n.onSave({done:!1,autosave:!0})):(n.updateIsDirtyDebounced(),n.autosave()))},n.onChangeTitle=Object(i.f)((function(e){n.title=e,n.props.document.title=e,n.updateIsDirty(),n.autosave()})),n.goBack=function(){n.props.readOnly||n.props.history.push(n.props.document.url)},n.handleRef=function(e){var t,r;n.editor=e,n.headings=null!==(t=null===(r=n.editor)||void 0===r?void 0:r.getHeadings())&&void 0!==t?t:[]},e))}return function Document_createClass(e,t,n){return t&&Document_defineProperties(e.prototype,t),n&&Document_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(DocumentScene,[{key:"componentDidMount",value:function componentDidMount(){this.updateIsDirty()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t,n,r=this.props,o=r.auth,i=r.document,l=r.t;e.readOnly&&!this.props.readOnly&&this.updateIsDirty(),(this.props.readOnly||null!==(t=o.team)&&void 0!==t&&t.collaborativeEditing)&&(this.lastRevision=i.revision),this.props.readOnly||null!==(n=o.team)&&void 0!==n&&n.collaborativeEditing||e.document.revision===this.lastRevision||o.user&&i.updatedBy.id!==o.user.id&&this.props.toasts.showToast(l("Document updated by {{userName}}",{userName:i.updatedBy.name}),{timeout:3e4,type:"warning",action:{text:"Reload",onClick:function onClick(){window.location.href=Object(U.e)(i)}}})}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e;this.isEmpty&&this.props.document.createdBy.id===(null===(e=this.props.auth.user)||void 0===e?void 0:e.id)&&this.props.document.isDraft&&this.props.document.isActive&&this.props.document.hasEmptyTitle&&this.props.document.isPersistedOnce&&this.props.document.delete()}},{key:"render",value:function render(){var e,t=this,n=this.props,r=n.document,o=n.revision,i=n.readOnly,l=n.abilities,c=n.auth,s=n.ui,p=n.shareId,f=n.t,m=c.team,y=!!p,h=o?o.text:r.text,v=m&&!1===m.documentEmbeds||r.embedsDisabled,g=this.headings.length>0,w=s.tocVisible&&(i&&g||(null==m?void 0:m.collaborativeEditing)),O=(null==m?void 0:m.collaborativeEditing)&&!r.isArchived&&!r.isDeleted&&!o&&!y,_=p?this.props.match.url:Object(U.u)(this.props.match.url,r);return u.createElement(P.a,null,this.props.location.pathname!==_&&u.createElement(d.b,{to:{pathname:_,state:this.props.location.state,hash:this.props.location.hash}}),u.createElement(F.a,{trigger:"m",handler:this.goToMove}),u.createElement(F.a,{trigger:"e",handler:this.goToEdit}),u.createElement(F.a,{trigger:"Escape",handler:this.goBack}),u.createElement(F.a,{trigger:"h",handler:this.goToHistory}),u.createElement(F.a,{trigger:"p",handler:function handler(e){Object(V.b)(e)&&e.shiftKey&&t.onPublish(e)}}),u.createElement(F.a,{trigger:"h",handler:function handler(e){e.ctrlKey&&e.altKey&&t.onToggleTableOfContents(e)}}),u.createElement(jn,{key:o?o.id:r.id,column:!0,auto:!0},u.createElement(d.c,{path:"".concat(r.url,"/move"),component:function component(){return u.createElement(L.a,{title:"Move ".concat(r.noun),onRequestClose:t.goBack,isOpen:!0},u.createElement(b.a,{document:r,onRequestClose:t.goBack}))}}),u.createElement(B.a,{title:r.titleWithDefault.replace(r.emoji||"",""),favicon:r.emoji?(e=r.emoji,"data:image/svg+xml;data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>".concat(e,"</text></svg>")):void 0}),(this.isUploading||this.isSaving)&&u.createElement(R.b,null),u.createElement(K.a,{justify:"center",column:!0,auto:!0},!i&&u.createElement(u.Fragment,null,u.createElement(d.a,{when:this.isEditorDirty&&!this.isUploading&&!(null!=m&&m.collaborativeEditing),message:function message(e,t){return"REPLACE"===t&&e.pathname===Object(U.g)(r)||f("You have unsaved changes.\nAre you sure you want to discard them?")}}),u.createElement(d.a,{when:this.isUploading&&!this.isEditorDirty,message:f("Images are still uploading.\nAre you sure you want to discard them?")})),u.createElement(Vt,{document:r,documentHasHeadings:g,shareId:p,isRevision:!!o,isDraft:r.isDraft,isEditing:!(i||null!=m&&m.collaborativeEditing),isSaving:this.isSaving,isPublishing:this.isPublishing,publishingIsDisabled:r.isSaving||this.isPublishing||this.isEmpty,savingIsDisabled:r.isSaving||this.isEmpty,sharedTree:this.props.sharedTree,onSelectTemplate:this.replaceDocument,onSave:this.onSave,headings:this.headings}),u.createElement(kn,{archived:r.isArchived,showContents:w,isEditing:!i,isFullWidth:r.fullWidth,column:!0,auto:!0},u.createElement(Notices,{document:r,readOnly:i}),u.createElement(u.Suspense,{fallback:u.createElement(N.a,null)},u.createElement(M.a,{auto:!i},w&&u.createElement(Contents,{headings:this.headings,isFullWidth:r.fullWidth}),u.createElement(Ae,{id:r.id,key:v?"disabled":"enabled",ref:this.handleRef,multiplayer:O,shareId:p,isDraft:r.isDraft,template:r.isTemplate,title:o?o.title:r.title,document:r,value:i?h:void 0,defaultValue:h,embedsDisabled:v,onSynced:this.onSynced,onFileUploadStart:this.onFileUploadStart,onFileUploadStop:this.onFileUploadStop,onSearchLink:this.props.onSearchLink,onCreateLink:this.props.onCreateLink,onChangeTitle:this.onChangeTitle,onChange:this.onChange,onSave:this.onSave,onPublish:this.onPublish,onCancel:this.goBack,readOnly:i,readOnlyWriteCheckboxes:i&&l.update},p&&u.createElement(An,{isOnlyTitle:r.isOnlyTitle},u.createElement(cn,{shareId:p,documentId:r.id,sharedTree:this.props.sharedTree})),!y&&!o&&u.createElement(u.Fragment,null,u.createElement(Jt,{document:r}),u.createElement(An,{isOnlyTitle:r.isOnlyTitle},u.createElement(Tn,{document:r}))))))),y&&!Object(W.b)()&&u.createElement(E,{href:"//www.getoutline.com?ref=sharelink"}))),!y&&u.createElement(u.Fragment,null,u.createElement(qt,null),u.createElement(I,null)))}}]),DocumentScene}(u.Component),fn=_applyDecoratedDescriptor(pn.prototype,"editor",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=_applyDecoratedDescriptor(pn.prototype,"isUploading",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),yn=_applyDecoratedDescriptor(pn.prototype,"isSaving",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),hn=_applyDecoratedDescriptor(pn.prototype,"isPublishing",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),bn=_applyDecoratedDescriptor(pn.prototype,"isEditorDirty",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),vn=_applyDecoratedDescriptor(pn.prototype,"isEmpty",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),gn=_applyDecoratedDescriptor(pn.prototype,"lastRevision",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return this.props.document.revision}}),wn=_applyDecoratedDescriptor(pn.prototype,"title",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return this.props.document.title}}),On=_applyDecoratedDescriptor(pn.prototype,"headings",[i.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),dn=pn))||dn,jn=Object(p.default)(K.a).withConfig({displayName:"Document__Background",componentId:"sc-1gec90z-0"})(["background:",";transition:",";"],(function(e){return e.theme.background}),(function(e){return e.theme.backgroundTransition})),An=p.default.div.withConfig({displayName:"Document__ReferencesWrapper",componentId:"sc-1gec90z-1"})(["margin-top:","px;@media print{display:none;}"],(function(e){return e.isOnlyTitle?-45:16})),kn=Object(p.default)(M.a).withConfig({displayName:"Document__MaxWidth",componentId:"sc-1gec90z-2"})(["padding:0 32px;transition:padding 100ms;max-width:100vw;width:100%;padding-bottom:16px;",";",";"],Object(f.a)("tablet")(_n||(_n=Document_taggedTemplateLiteral(["\n    padding: 0 44px;\n    margin: 4px auto 12px;\n    max-width: ","\n  "])),(function(e){return e.isFullWidth?"100vw":"calc(64px + 46em + ".concat(e.showContents?"256px":"0px",");")})),Object(f.a)("desktopLarge")(En||(En=Document_taggedTemplateLiteral(["\n    max-width: ","\n  "])),(function(e){return e.isFullWidth?"100vw":"calc(64px + 52em);"})));t.a=Object(s.a)()(Object(z.a)(Object(d.l)(xn)))},m0xK:function(e,t,n){"use strict";var r=n("vOnD"),o=n("KFZt"),i=Object(r.default)(o.a).withConfig({displayName:"Container",componentId:"sc-9gqp5-0"})(["position:relative;"]);t.a=i},ofBz:function(e,t,n){"use strict";var r=n("I+eb"),o=n("ntOU"),i=n("HYAF"),l=n("UMSQ"),c=n("HAuM"),u=n("glrk"),s=n("xrYK"),d=n("ROdP"),p=n("rW0t"),f=n("kRJp"),m=n("0Dky"),y=n("tiKp"),h=n("SEBh"),b=n("iqWW"),v=n("afO8"),g=n("xDBR"),w=y("matchAll"),O="RegExp String",_="RegExp String Iterator",E=v.set,S=v.getterFor(_),C=RegExp.prototype,T=C.exec,x="".matchAll,j=!!x&&!m((function(){"a".matchAll(/./)})),A=o((function RegExpStringIterator(e,t,n,r){E(this,{type:_,regexp:e,string:t,global:n,unicode:r,done:!1})}),O,(function next(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return T.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=b(n,l(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),$matchAll=function(e){var t,n,r,o,i,c,s=u(this),d=String(e);return t=h(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in C)&&(n=p.call(s)),r=void 0===n?"":String(n),o=new t(t===RegExp?s.source:s,r),i=!!~r.indexOf("g"),c=!!~r.indexOf("u"),o.lastIndex=l(s.lastIndex),new A(o,d,i,c)};r({target:"String",proto:!0,forced:j},{matchAll:function matchAll(e){var t,n,r,o=i(this);if(null!=e){if(d(e)&&!~String(i("flags"in C?e.flags:p.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(j)return x.apply(o,arguments);if(void 0===(n=e[w])&&g&&"RegExp"==s(e)&&(n=$matchAll),null!=n)return c(n).call(e,o)}else if(j)return x.apply(o,arguments);return t=String(o),r=new RegExp(e,"g"),g?$matchAll.call(r,t):r[w](t)}}),g||w in C||f(C,w,$matchAll)}}]);
//# sourceMappingURL=default~document~shared-document.a8e863ec9454e0a4b7e3.js.map