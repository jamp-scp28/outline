(window.webpackJsonp=window.webpackJsonp||[]).push([["shared-editor"],{LDt7:function(t,r,o){"use strict";o.r(r),o.d(r,"Extension",(function(){return nt.a})),o.d(r,"Editor",(function(){return rt}));o("E9XD"),o("07d7"),o("TeQF"),o("sMBO"),o("ma9I"),o("+2oP"),o("ExoC"),o("NBAS"),o("SuFq"),o("tkto"),o("pNMO"),o("5DmW"),o("FZtP"),o("27RR"),o("4Brf"),o("0oug"),o("4mDm"),o("PKPk"),o("3bBZ"),o("pjDv"),o("rB9j"),o("zKZe");var i=o("ABBN"),a=o("I/Hh"),c=o("GhYw"),l=o("+V57"),u=o("fwbU"),p=o("MEpN"),d=o("UxO+"),h=o("V2qZ"),m=o("q1tI"),b=o.n(m),y=(o("2B1R"),o("yq1k"),o("T63A"),o("LgcO")),g=o("1M3H"),v=o.n(g);function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function rules_rules(t){var r=t.rules,o=void 0===r?{}:r,i=t.plugins,a=void 0===i?[]:i,c=v()("default",function _objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}({breaks:!1,html:!1,linkify:!1},o));return a.forEach((function(t){return c.use(t)})),c}o("EnZy"),o("UxlC"),o("yXV3"),o("Rm1S");function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var i,a,c=[],l=!0,u=!1;try{for(o=o.call(t);!(l=(i=o.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,a=t}finally{try{l||null==o.return||o.return()}finally{if(u)throw a}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}var k=function(){function MarkdownSerializer(t,r){_classCallCheck(this,MarkdownSerializer),this.nodes=t,this.marks=r}return _createClass(MarkdownSerializer,[{key:"serialize",value:function serialize(t,r){var o=new w(this.nodes,this.marks,r);return o.renderContent(t),o.out}}]),MarkdownSerializer}(),w=function(){function MarkdownSerializerState(t,r,o){_classCallCheck(this,MarkdownSerializerState),this.inTable=!1,this.inTightList=!1,this.closed=!1,this.delim="",this.nodes=t,this.marks=r,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.inTable=!1,this.options=o||{},void 0===this.options.tightLists&&(this.options.tightLists=!0)}return _createClass(MarkdownSerializerState,[{key:"flushClose",value:function flushClose(t){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==t&&(t=2),t>1){var r=this.delim,o=/\s+$/.exec(r);o&&(r=r.slice(0,r.length-o[0].length));for(var i=1;i<t;i++)this.out+=r+"\n"}this.closed=!1}}},{key:"wrapBlock",value:function wrapBlock(t,r,o,i){var a=this.delim;this.write(r||t),this.delim+=t,i(),this.delim=a,this.closeBlock(o)}},{key:"atBlank",value:function atBlank(){return/(^|\n)$/.test(this.out)}},{key:"ensureNewLine",value:function ensureNewLine(){this.atBlank()||(this.out+="\n")}},{key:"write",value:function write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}},{key:"closeBlock",value:function closeBlock(t){this.closed=t}},{key:"text",value:function text(t,r){for(var o=t.split("\n"),i=0;i<o.length;i++){var a=this.atBlank()||this.closed;this.write(),this.out+=!1!==r?this.esc(o[i],a):o[i],i!==o.length-1&&(this.out+="\n")}}},{key:"render",value:function render(t,r,o){if("number"==typeof r)throw new Error("!");this.nodes[t.type.name](this,t,r,o)}},{key:"renderContent",value:function renderContent(t){var r=this;t.forEach((function(o,i,a){return r.render(o,t,a)}))}},{key:"renderInline",value:function renderInline(t){var r=this,o=[],i="",a=function progress(a,c,l){var u=a?a.marks:[];a&&"hard_break"===a.type.name&&(u=u.filter((function(r){if(l+1===t.childCount)return!1;var o=t.child(l+1);return r.isInSet(o.marks)&&(!o.isText||/\S/.test(o.text))})));var p=i;if(i="",a&&a.isText&&u.some((function(t){var o=r.marks[t.type.name]();return o&&o.expelEnclosingWhitespace}))){var d=_slicedToArray(/^(\s*)(.*?)(\s*)$/m.exec(a.text),4),h=(d[0],d[1]),m=d[2],b=d[3];p+=h,i=b,(h||b)&&((a=m?a.withText(m):null)||(u=o))}var y=u.length&&u[u.length-1],g=y&&!1===r.marks[y.type.name]().escape,v=u.length-(g?1:0);e:for(var k=0;k<v;k++){var w=u[k];if(!r.marks[w.type.name]().mixable)break;for(var x=0;x<o.length;x++){var _=o[x];if(!r.marks[_.type.name]().mixable)break;if(w.eq(_)){k>x?u=u.slice(0,x).concat(w).concat(u.slice(x,k)).concat(u.slice(k+1,v)):x>k&&(u=u.slice(0,k).concat(u.slice(k+1,x)).concat(w).concat(u.slice(x,v)));continue e}}}for(var O=0;O<Math.min(o.length,v)&&u[O].eq(o[O]);)++O;for(;O<o.length;)r.text(r.markString(o.pop(),!1,t,l),!1);if(p&&r.text(p),a){for(;o.length<v;){var S=u[o.length];o.push(S),r.text(r.markString(S,!0,t,l),!1)}g&&a.isText?r.text(r.markString(y,!0,t,l)+a.text+r.markString(y,!1,t,l+1),!1):r.render(a,t,l)}};t.forEach(a),a(null,0,t.childCount)}},{key:"renderList",value:function renderList(t,r,o){var i=this;this.closed&&this.closed.type===t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var a=void 0!==t.attrs.tight?t.attrs.tight:this.options.tightLists,c=this.inTightList,l=this.inList;this.inList=!0,this.inTightList=a,t.forEach((function(c,l,u){u&&a&&i.flushClose(1),i.wrapBlock(r,o(u),t,(function(){return i.render(c,t,u)}))})),this.inList=l,this.inTightList=c}},{key:"renderTable",value:function renderTable(t){var r=this;this.flushClose(1);var o="",i=this.inTable;this.inTable=!0,this.out+="\n",t.forEach((function(t,i,a){t.forEach((function(i,c,l){r.out+=0===l?"| ":" | ",i.forEach((function(o){""===o.textContent&&0===o.content.size?r.out+="  ":(r.closed=!1,r.render(o,t,l))})),0===a&&("center"===i.attrs.alignment?o+="|:---:":"left"===i.attrs.alignment?o+="|:---":"right"===i.attrs.alignment?o+="|---:":o+="|----")})),r.out+=" |\n",o&&(r.out+="".concat(o,"|\n"),o=void 0)})),this.inTable=i}},{key:"esc",value:function esc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return t=t.replace(/[`*\\~[\]]/g,"\\$&"),r&&(t=t.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),this.inTable&&(t=t.replace(/\|/gi,"\\$&")),t}},{key:"quote",value:function quote(t){var r=-1===t.indexOf('"')?'""':-1===t.indexOf("'")?"''":"()";return r[0]+t+r[1]}},{key:"repeat",value:function repeat(t,r){for(var o="",i=0;i<r;i++)o+=t;return o}},{key:"markString",value:function markString(t,r,o,i){var a=this.marks[t.type.name](),c=r?a.open:a.close;return"string"==typeof c?c:c(this,t,o,i)}},{key:"getEnclosingWhitespace",value:function getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[])[0],trailing:(t.match(/(\s+)$/)||[])[0]}}}]),MarkdownSerializerState}();function ExtensionManager_slicedToArray(t,r){return function ExtensionManager_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function ExtensionManager_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var i,a,c=[],l=!0,u=!1;try{for(o=o.call(t);!(l=(i=o.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,a=t}finally{try{l||null==o.return||o.return()}finally{if(u)throw a}}return c}(t,r)||ExtensionManager_unsupportedIterableToArray(t,r)||function ExtensionManager_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return ExtensionManager_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ExtensionManager_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ExtensionManager_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return ExtensionManager_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ExtensionManager_arrayLikeToArray(t,r):void 0}}function ExtensionManager_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function ExtensionManager_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function ExtensionManager_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ExtensionManager_ownKeys(Object(o),!0).forEach((function(r){ExtensionManager_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ExtensionManager_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function ExtensionManager_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function ExtensionManager_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ExtensionManager_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x=function(){function ExtensionManager(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;ExtensionManager_classCallCheck(this,ExtensionManager),this.extensions=[],r.forEach((function(r){var i;i="function"==typeof r?new r(null==o?void 0:o.props):r,o&&i.bindEditor(o),t.extensions.push(i)}))}return function ExtensionManager_createClass(t,r,o){return r&&ExtensionManager_defineProperties(t.prototype,r),o&&ExtensionManager_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExtensionManager,[{key:"nodes",get:function get(){return this.extensions.filter((function(t){return"node"===t.type})).reduce((function(t,r){return ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),{},ExtensionManager_defineProperty({},r.name,r.schema))}),{})}},{key:"serializer",value:function serializer(){var t=this.extensions.filter((function(t){return"node"===t.type})).reduce((function(t,r){return ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),{},ExtensionManager_defineProperty({},r.name,r.toMarkdown))}),{}),r=this.extensions.filter((function(t){return"mark"===t.type})).reduce((function(t,r){return ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),{},ExtensionManager_defineProperty({},r.name,r.toMarkdown))}),{});return new k(t,r)}},{key:"parser",value:function parser(t){var r=t.schema,o=t.rules,i=t.plugins,a=this.extensions.filter((function(t){return"mark"===t.type||"node"===t.type})).reduce((function(t,r){var o=r.parseMarkdown();return o?ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),{},ExtensionManager_defineProperty({},r.markdownToken||r.name,o)):t}),{});return new y.a(r,rules_rules({rules:o,plugins:i}),a)}},{key:"marks",get:function get(){return this.extensions.filter((function(t){return"mark"===t.type})).reduce((function(t,r){var o=r.name,i=r.schema;return ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),{},ExtensionManager_defineProperty({},o,i))}),{})}},{key:"plugins",get:function get(){return this.extensions.filter((function(t){return"plugins"in t})).reduce((function(t,r){var o=r.plugins;return[].concat(_toConsumableArray(t),_toConsumableArray(o))}),[])}},{key:"rulePlugins",get:function get(){return this.extensions.filter((function(t){return"rulePlugins"in t})).reduce((function(t,r){var o=r.rulePlugins;return[].concat(_toConsumableArray(t),_toConsumableArray(o))}),[])}},{key:"keymaps",value:function keymaps(t){var r=t.schema,keymaps=this.extensions.filter((function(t){return t.keys})).map((function(t){return["node","mark"].includes(t.type)?t.keys({type:r["".concat(t.type,"s")][t.name],schema:r}):t.keys({schema:r})}));return keymaps.map(u.b)}},{key:"inputRules",value:function inputRules(t){var r=t.schema,o=this.extensions.filter((function(t){return["extension"].includes(t.type)})).filter((function(t){return t.inputRules})).map((function(t){return t.inputRules({schema:r})})),i=this.extensions.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(t){return t.inputRules})).map((function(t){return t.inputRules({type:r["".concat(t.type,"s")][t.name],schema:r})}));return[].concat(_toConsumableArray(o),_toConsumableArray(i)).reduce((function(t,r){return[].concat(_toConsumableArray(t),_toConsumableArray(r))}),[])}},{key:"commands",value:function commands(t){var r=t.schema,o=t.view;return this.extensions.filter((function(t){return t.commands})).reduce((function(t,i){var a=i.name,c=i.type,l={},u=i.commands(ExtensionManager_objectSpread({schema:r},["node","mark"].includes(c)?{type:r["".concat(c,"s")][a]}:{})),p=function apply(t,r){return!!o.editable&&(o.focus(),t(r)(o.state,o.dispatch,o))},d=function handle(t,r){Array.isArray(r)?l[t]=function(t){return r.forEach((function(r){return p(r,t)}))}:"function"==typeof r&&(l[t]=function(t){return p(r,t)})};return"object"===_typeof(u)?Object.entries(u).forEach((function(t){var r=ExtensionManager_slicedToArray(t,2),o=r[0],i=r[1];d(o,i)})):d(a,u),ExtensionManager_objectSpread(ExtensionManager_objectSpread({},t),l)}),{})}}]),ExtensionManager}(),_=o("uVYN");var O=o("ubb/"),S=o("68iy");function events_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var C=function(){function EventEmitter(){!function events_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EventEmitter),this.listeners={},this.on=this.addListener,this.off=this.removeListener}return function events_createClass(t,r,o){return r&&events_defineProperties(t.prototype,r),o&&events_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventEmitter,[{key:"addListener",value:function addListener(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r)}},{key:"removeListener",value:function removeListener(t,r){var o;this.listeners[t]=null===(o=this.listeners[t])||void 0===o?void 0:o.filter((function(t){return t!==r}))}},{key:"emit",value:function emit(t,r){var o;null===(o=this.listeners[t])||void 0===o||o.forEach((function(t){t(r)}))}}]),EventEmitter}(),j=o("KFZt"),E=o("G6XK"),P=o("mG1W"),M=(o("mRH6"),o("tsqv")),T=o("9Hsk");var I=o("HIsj"),L=o("vOnD");var A=L.default.span.withConfig({displayName:"BlockMenuItem__Shortcut",componentId:"q92a23-0"})(["color:",";flex-grow:1;text-align:right;"],(function(t){return t.theme.textTertiary})),R=L.default.button.withConfig({displayName:"BlockMenuItem__MenuItem",componentId:"q92a23-1"})(["display:flex;align-items:center;justify-content:flex-start;font-weight:500;font-size:14px;line-height:1;width:100%;height:36px;cursor:pointer;border:none;opacity:",";color:",";background:",";padding:0 16px;outline:none;&:active{color:",";background:",";","{color:",";}}"],(function(t){return t.disabled?".5":"1"}),(function(t){return t.selected?t.theme.white:t.theme.textSecondary}),(function(t){return t.selected?t.theme.primary:"none"}),(function(t){return t.theme.white}),(function(t){return t.selected?t.theme.primary:"none"}),A,(function(t){return t.theme.textSecondary})),B=function BlockMenuItem(t){var r=t.selected,o=t.disabled,i=t.onClick,a=t.title,c=t.shortcut,l=t.icon,u=t.containerId,p=void 0===u?"block-menu-container":u,d=l,h=m.useCallback((function(t){r&&t&&Object(I.a)(t,{scrollMode:"if-needed",block:"nearest",boundary:function boundary(t){return t.id!==p}})}),[r,p]);return m.createElement(R,{selected:r,onClick:o?void 0:i,ref:h},d&&m.createElement(m.Fragment,null,m.createElement(d,{color:"currentColor"}),"  "),a,c&&m.createElement(A,null,c))},D=o("6acW"),z=o.n(D),H=(o("oVuX"),o("hByQ"),o("JTJg"),o("3k8n")),N=o("It+4"),W=o("s2m+"),V=o("7J4x");function filterExcessSeparators_toConsumableArray(t){return function filterExcessSeparators_arrayWithoutHoles(t){if(Array.isArray(t))return filterExcessSeparators_arrayLikeToArray(t)}(t)||function filterExcessSeparators_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function filterExcessSeparators_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return filterExcessSeparators_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return filterExcessSeparators_arrayLikeToArray(t,r)}(t)||function filterExcessSeparators_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function filterExcessSeparators_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function filterExcessSeparators(t){return t.reduce((function(t,r){var o;return"separator"===r.name&&"separator"===(null===(o=t[t.length-1])||void 0===o?void 0:o.name)?t:[].concat(filterExcessSeparators_toConsumableArray(t),[r])}),[]).filter((function(t,r,o){return"separator"!==t.name||0!==r&&r!==o.length-1}))}var K=o("BZF0"),U=o("J2Z6"),G=o("PMWr"),Z=o("J0+w"),q=L.default.input.withConfig({displayName:"Input",componentId:"hglrnz-0"})(["font-size:15px;background:",";color:",";border-radius:2px;padding:3px 8px;border:0;margin:0;outline:none;flex-grow:1;@media (hover:none) and (pointer:coarse){font-size:16px;}"],(function(t){return t.theme.toolbarInput}),(function(t){return t.theme.toolbarItem}));function CommandMenu_typeof(t){return(CommandMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $=["insertItem"];function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function _objectWithoutProperties(t,r){if(null==t)return{};var o,i,a=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,i,a={},c=Object.keys(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||(a[o]=t[o]);return a}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}function CommandMenu_toConsumableArray(t){return function CommandMenu_arrayWithoutHoles(t){if(Array.isArray(t))return CommandMenu_arrayLikeToArray(t)}(t)||function CommandMenu_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||CommandMenu_unsupportedIterableToArray(t)||function CommandMenu_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CommandMenu_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return CommandMenu_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?CommandMenu_arrayLikeToArray(t,r):void 0}}function CommandMenu_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function CommandMenu_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function CommandMenu_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?CommandMenu_ownKeys(Object(o),!0).forEach((function(r){CommandMenu_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):CommandMenu_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function CommandMenu_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function CommandMenu_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function CommandMenu_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,r){if(r&&("object"===CommandMenu_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J={left:-1e3,top:0,bottom:void 0,isAbove:!1},Q=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&_setPrototypeOf(t,r)}(CommandMenu,t);var r=_createSuper(CommandMenu);function CommandMenu(){var t,o;CommandMenu_classCallCheck(this,CommandMenu);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return _possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(a)),o.menuRef=m.createRef(),o.inputRef=m.createRef(),o.state={left:-1e3,top:0,bottom:void 0,isAbove:!1,selectedIndex:0,insertItem:void 0},o.handleKeyDown=function(t){if(o.props.isActive){if("Enter"===t.key){t.preventDefault(),t.stopPropagation();var r=o.filtered[o.state.selectedIndex];r?o.insertItem(r):o.props.onClose()}if("ArrowUp"===t.key||"Tab"===t.key&&t.shiftKey||t.ctrlKey&&"p"===t.key)if(t.preventDefault(),t.stopPropagation(),o.filtered.length){var i=o.state.selectedIndex-1,a=o.filtered[i];o.setState({selectedIndex:Math.max(0,"separator"===(null==a?void 0:a.name)?i-1:i)})}else o.close();if("ArrowDown"===t.key||"Tab"===t.key&&!t.shiftKey||t.ctrlKey&&"n"===t.key)if(t.preventDefault(),t.stopPropagation(),o.filtered.length){var c=o.filtered.length-1,l=o.state.selectedIndex+1,u=o.filtered[l];o.setState({selectedIndex:Math.min("separator"===(null==u?void 0:u.name)?l+1:l,c)})}else o.close();"Escape"===t.key&&o.close()}},o.insertItem=function(t){switch(t.name){case"image":return o.triggerFilePick(U.b.join(", "));case"attachment":return o.triggerFilePick("*");case"embed":return o.triggerLinkInput(t);case"link":var r,i;return o.clearSearch(),o.props.onClose(),void(null===(r=(i=o.props).onLinkToolbarOpen)||void 0===r||r.call(i));default:o.insertBlock(t)}},o.close=function(){o.props.onClose(),o.props.view.focus()},o.handleLinkInputKeydown=function(t){if(o.props.isActive&&o.state.insertItem){if("Enter"===t.key){t.preventDefault(),t.stopPropagation();var r=t.currentTarget.value;if(!o.state.insertItem.matcher(r))return void o.props.onShowToast(o.props.dictionary.embedInvalidLink);o.insertBlock({name:"embed",attrs:{href:r}})}"Escape"===t.key&&(o.props.onClose(),o.props.view.focus())}},o.handleLinkInputPaste=function(t){if(o.props.isActive&&o.state.insertItem){var r=t.clipboardData.getData("text/plain");o.state.insertItem.matcher(r)&&(t.preventDefault(),t.stopPropagation(),o.insertBlock({name:"embed",attrs:{href:r}}))}},o.triggerFilePick=function(t){o.inputRef.current&&(t&&(o.inputRef.current.accept=t),o.inputRef.current.click())},o.triggerLinkInput=function(t){o.setState({insertItem:t})},o.handleFilePicked=function(t){var r,i=Object(G.a)(t),a=o.props,c=a.view,l=a.uploadFile,u=a.onFileUploadStart,p=a.onFileUploadStop,d=a.onShowToast,h=c.state,m=Object(P.findParentNode)((function(t){return!!t}))(h.selection);if(o.clearSearch(),!l)throw new Error("uploadFile prop is required to replace files");m&&Object(V.a)(c,t,m.pos,i,{uploadFile:l,onFileUploadStart:u,onFileUploadStop:p,onShowToast:d,dictionary:o.props.dictionary,isAttachment:"*"===(null===(r=o.inputRef.current)||void 0===r?void 0:r.accept)});o.inputRef.current&&(o.inputRef.current.value=""),o.props.onClose()},o.clearSearch=function(){o.props.onClearSearch()},t))}return function CommandMenu_createClass(t,r,o){return r&&CommandMenu_defineProperties(t.prototype,r),o&&CommandMenu_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(CommandMenu,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t,r){return t.search!==this.props.search||t.isActive!==this.props.isActive||r!==this.state}},{key:"componentDidUpdate",value:function componentDidUpdate(t){if(!t.isActive&&this.props.isActive){this.menuRef.current&&this.menuRef.current.scroll({top:0});var r=this.calculatePosition(this.props);this.setState(CommandMenu_objectSpread({insertItem:void 0,selectedIndex:0},r))}else t.search!==this.props.search&&this.setState({selectedIndex:0})}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"insertBlock",value:function insertBlock(t){this.clearSearch();var r=t.name?this.props.commands[t.name]:void 0;r?r(t.attrs):this.props.commands["create".concat(z()(t.name))](t.attrs),this.props.onClose()}},{key:"caretPosition",get:function get(){var t=window.document.getSelection();if(!t||!t.anchorNode||!t.focusNode)return{top:0,left:0};var r=window.document.createRange();r.setStart(t.anchorNode,t.anchorOffset),r.setEnd(t.focusNode,t.focusOffset),0===r.getClientRects().length&&r.startContainer&&r.collapsed&&r.selectNodeContents(r.startContainer);var o=r.getBoundingClientRect();return{top:o.top,left:o.left}}},{key:"calculatePosition",value:function calculatePosition(t){var r,o=t.view,i=o.state.selection;try{r=o.coordsAtPos(i.from)}catch(t){return console.warn(t),J}var a=o.domAtPos.bind(o),c=this.menuRef.current,l=c?c.offsetHeight:0,u={node:Object(P.findDomRefAtPos)(i.from,a)};if(!t.isActive||!u.node||!u.node.getBoundingClientRect)return J;var p=this.caretPosition.left,d=u.node.getBoundingClientRect(),h=d.top,m=d.bottom,b=d.right,y=p+window.scrollX;return t.rtl&&c&&(y=b-c.scrollWidth),r.top-l>24?{left:y,top:void 0,bottom:window.innerHeight-h-window.scrollY,isAbove:!1}:{left:y,top:m+window.scrollY,bottom:void 0,isAbove:!0}}},{key:"filtered",get:function get(){var t,r=this.props,o=r.embeds,i=void 0===o?[]:o,a=r.search,c=void 0===a?"":a,l=r.uploadFile,u=r.commands,p=r.filterable,d=void 0===p||p,h=CommandMenu_toConsumableArray(this.props.items),m=[],b=function _createForOfIteratorHelper(t,r){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=CommandMenu_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}(i);try{for(b.s();!(t=b.n()).done;){var y=t.value;y.title&&y.icon&&m.push(CommandMenu_objectSpread(CommandMenu_objectSpread({},y),{},{name:"embed"}))}}catch(t){b.e(t)}finally{b.f()}return m.length&&(h=h.concat({name:"separator"},m)),filterExcessSeparators(h.filter((function(t){if("separator"===t.name)return!0;if(t.name&&!u[t.name]&&!u["create".concat(z()(t.name))])return!1;if(!l&&"image"===t.name)return!1;if(!c)return!t.defaultHidden;var r=c.toLowerCase();return d?(t.title||"").toLowerCase().includes(r)||(t.keywords||"").toLowerCase().includes(r):t})))}},{key:"render",value:function render(){var t=this,r=this.props,o=r.dictionary,i=r.isActive,a=r.uploadFile,c=this.filtered,l=this.state,u=l.insertItem,p=_objectWithoutProperties(l,$);return m.createElement(N.a,null,m.createElement(re,_extends({id:this.props.id||"block-menu-container",active:i,ref:this.menuRef,hiddenScrollbars:!0},p),u?m.createElement(Y,null,m.createElement(X,{type:"text",placeholder:u.title?o.pasteLinkWithTitle(u.title):o.pasteLink,onKeyDown:this.handleLinkInputKeydown,onPaste:this.handleLinkInputPaste,autoFocus:!0})):m.createElement(ee,null,c.map((function(r,o){if("separator"===r.name)return m.createElement(te,{key:o},m.createElement("hr",null));if(!r.title)return null;var i=function handlePointer(){t.state.selectedIndex!==o&&t.setState({selectedIndex:o})};return m.createElement(te,{key:o,onPointerMove:i,onPointerDown:i},t.props.renderMenuItem(r,o,{selected:o===t.state.selectedIndex,onClick:function onClick(){return t.insertItem(r)}}))})),0===c.length&&m.createElement(te,null,m.createElement(ne,null,o.noResults))),a&&m.createElement(W.a,null,m.createElement("label",null,m.createElement(H.a,null,"Import document"),m.createElement("input",{type:"file",ref:this.inputRef,onChange:this.handleFilePicked})))))}}]),CommandMenu}(m.Component),Y=L.default.div.withConfig({displayName:"CommandMenu__LinkInputWrapper",componentId:"qykpmi-0"})(["margin:8px;"]),X=Object(L.default)(q).withConfig({displayName:"CommandMenu__LinkInput",componentId:"qykpmi-1"})(["height:36px;width:100%;color:",";"],(function(t){return t.theme.textSecondary})),ee=L.default.ol.withConfig({displayName:"CommandMenu__List",componentId:"qykpmi-2"})(["list-style:none;text-align:left;height:100%;padding:8px 0;margin:0;"]),te=L.default.li.withConfig({displayName:"CommandMenu__ListItem",componentId:"qykpmi-3"})(["padding:0;margin:0;"]),ne=L.default.div.withConfig({displayName:"CommandMenu__Empty",componentId:"qykpmi-4"})(["display:flex;align-items:center;color:",";font-weight:500;font-size:14px;height:36px;padding:0 16px;"],(function(t){return t.theme.textSecondary})),re=Object(L.default)(Z.a).withConfig({displayName:"CommandMenu__Wrapper",componentId:"qykpmi-5"})(["color:",";font-family:",";position:absolute;z-index:",";",";",";left:","px;background:",";border-radius:6px;box-shadow:rgba(0,0,0,0.05) 0px 0px 0px 1px,rgba(0,0,0,0.08) 0px 4px 8px,rgba(0,0,0,0.08) 0px 2px 4px;opacity:0;transform:scale(0.95);transition:opacity 150ms cubic-bezier(0.175,0.885,0.32,1.275),transform 150ms cubic-bezier(0.175,0.885,0.32,1.275);transition-delay:150ms;line-height:0;box-sizing:border-box;pointer-events:none;white-space:nowrap;width:300px;height:auto;max-height:324px;*{box-sizing:border-box;}hr{border:0;height:0;border-top:1px solid ",";}",";@media print{display:none;}"],(function(t){return t.theme.textSecondary}),(function(t){return t.theme.fontFamily}),K.b.editorToolbar,(function(t){return void 0!==t.top&&"top: ".concat(t.top,"px")}),(function(t){return void 0!==t.bottom&&"bottom: ".concat(t.bottom,"px")}),(function(t){return t.left}),(function(t){return t.theme.menuBackground}),(function(t){return t.theme.divider}),(function(t){var r=t.active,o=t.isAbove;return r&&"\n    transform: translateY(".concat(o?"6px":"-6px",") scale(1);\n    pointer-events: all;\n    opacity: 1;\n  ")})),oe=Q;function BlockMenu_extends(){return(BlockMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}var ie=function BlockMenu(t){var r;return b.a.createElement(oe,BlockMenu_extends({},t,{filterable:!0,onClearSearch:function clearSearch(){var r=t.view,o=r.state,i=r.dispatch,a=Object(P.findParentNode)((function(t){return!!t}))(o.selection);a&&i(o.tr.insertText("",a.pos,o.selection.to))},renderMenuItem:function renderMenuItem(t,r,o){return b.a.createElement(B,{onClick:o.onClick,selected:o.selected,icon:t.icon,title:t.title,shortcut:t.shortcut})},items:(r=t.dictionary,[{name:"heading",title:r.h1,keywords:"h1 heading1 title",icon:M.Heading1Icon,shortcut:"^ ⇧ 1",attrs:{level:1}},{name:"heading",title:r.h2,keywords:"h2 heading2",icon:M.Heading2Icon,shortcut:"^ ⇧ 2",attrs:{level:2}},{name:"heading",title:r.h3,keywords:"h3 heading3",icon:M.Heading3Icon,shortcut:"^ ⇧ 3",attrs:{level:3}},{name:"separator"},{name:"checkbox_list",title:r.checkboxList,icon:M.TodoListIcon,keywords:"checklist checkbox task",shortcut:"^ ⇧ 7"},{name:"bullet_list",title:r.bulletList,icon:M.BulletedListIcon,shortcut:"^ ⇧ 8"},{name:"ordered_list",title:r.orderedList,icon:M.OrderedListIcon,shortcut:"^ ⇧ 9"},{name:"separator"},{name:"image",title:r.image,icon:M.ImageIcon,keywords:"picture photo"},{name:"link",title:r.link,icon:M.LinkIcon,shortcut:"".concat(T.c," k"),keywords:"link url uri href"},{name:"attachment",title:r.file,icon:M.AttachmentIcon,keywords:"file upload attach"},{name:"table",title:r.table,icon:M.TableIcon,attrs:{rowsCount:3,colsCount:3}},{name:"blockquote",title:r.quote,icon:M.BlockQuoteIcon,shortcut:"".concat(T.c," ]")},{name:"code_block",title:r.codeBlock,icon:M.CodeIcon,shortcut:"^ ⇧ \\",keywords:"script"},{name:"hr",title:r.hr,icon:M.HorizontalRuleIcon,shortcut:"".concat(T.c," _"),keywords:"horizontal rule break line"},{name:"hr",title:r.pageBreak,icon:M.PageBreakIcon,keywords:"page print break line",attrs:{markup:"***"}},{name:"date",title:r.insertDate,keywords:"clock",icon:M.CalendarIcon},{name:"time",title:r.insertTime,keywords:"clock",icon:M.ClockIcon},{name:"datetime",title:r.insertDateTime,keywords:"clock",icon:M.CalendarIcon},{name:"separator"},{name:"container_notice",title:r.infoNotice,icon:M.InfoIcon,keywords:"notice card information",attrs:{style:"info"}},{name:"container_notice",title:r.warningNotice,icon:M.WarningIcon,keywords:"notice card error",attrs:{style:"warning"}},{name:"container_notice",title:r.tipNotice,icon:M.StarredIcon,keywords:"notice card suggestion",attrs:{style:"tip"}}])}))},ae=(o("LKBx"),o("i8i4")),ce=o.n(ae);function ComponentView_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var le=function(){function ComponentView(t,r){var o=this,i=r.editor,a=r.extension,c=r.node,l=r.view,u=r.getPos,p=r.decorations;!function ComponentView_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ComponentView),this.isSelected=!1,this.renderElement=function(){var t=o.editor.props.theme,r=o.component({theme:t,node:o.node,isSelected:o.isSelected,isEditable:o.view.editable,getPos:o.getPos});ce.a.render(m.createElement(L.ThemeProvider,{theme:t},r),o.dom)},this.component=t,this.editor=i,this.extension=a,this.getPos=u,this.decorations=p,this.node=c,this.view=l,this.dom=c.type.spec.inline?document.createElement("span"):document.createElement("div"),this.dom.classList.add("component-".concat(c.type.name)),this.renderElement(),window.addEventListener("theme-changed",this.renderElement)}return function ComponentView_createClass(t,r,o){return r&&ComponentView_defineProperties(t.prototype,r),o&&ComponentView_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ComponentView,[{key:"update",value:function update(t){return t.type===this.node.type&&(this.node=t,this.renderElement(),!0)}},{key:"selectNode",value:function selectNode(){this.view.editable&&(this.isSelected=!0,this.renderElement())}},{key:"deselectNode",value:function deselectNode(){this.view.editable&&(this.isSelected=!1,this.renderElement())}},{key:"stopEvent",value:function stopEvent(t){return"mousedown"!==t.type&&!t.type.startsWith("drag")}},{key:"destroy",value:function destroy(){this.dom&&(ce.a.unmountComponentAtNode(this.dom),window.removeEventListener("theme-changed",this.renderElement)),this.dom=null}},{key:"ignoreMutation",value:function ignoreMutation(){return!0}}]),ComponentView}(),se=m.createContext({}),ue=se,pe=o("jG7P"),de=o("3TXK");function EmojiMenuItem_extends(){return(EmojiMenuItem_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}var fe=L.default.span.withConfig({displayName:"EmojiMenuItem__Emoji",componentId:"sc-14f3q2j-0"})(["font-size:16px;"]),he=function EmojiTitle(t){var r=t.emoji,o=t.title;return m.createElement("p",null,m.createElement(fe,{className:"emoji"},r),"  ",o)};function EmojiMenuItem(t){return m.createElement(B,EmojiMenuItem_extends({},t,{title:m.createElement(he,{emoji:t.emoji,title:t.title})}))}function EmojiMenu_typeof(t){return(EmojiMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EmojiMenu_extends(){return(EmojiMenu_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function EmojiMenu_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function EmojiMenu_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?EmojiMenu_ownKeys(Object(o),!0).forEach((function(r){EmojiMenu_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):EmojiMenu_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function EmojiMenu_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function EmojiMenu_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function EmojiMenu_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function EmojiMenu_setPrototypeOf(t,r){return(EmojiMenu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function EmojiMenu_createSuper(t){var r=function EmojiMenu_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=EmojiMenu_getPrototypeOf(t);if(r){var a=EmojiMenu_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return EmojiMenu_possibleConstructorReturn(this,o)}}function EmojiMenu_possibleConstructorReturn(t,r){if(r&&("object"===EmojiMenu_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function EmojiMenu_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function EmojiMenu_getPrototypeOf(t){return(EmojiMenu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=new pe.a(de,["names"],{caseSensitive:!0,sort:!0}),be=function(t){!function EmojiMenu_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&EmojiMenu_setPrototypeOf(t,r)}(EmojiMenu,t);var r=EmojiMenu_createSuper(EmojiMenu);function EmojiMenu(){var t,o;EmojiMenu_classCallCheck(this,EmojiMenu);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return EmojiMenu_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(a)),o.clearSearch=function(){var t,r=o.props.view,i=r.state;(0,r.dispatch)(i.tr.insertText("",i.selection.$from.pos-(null!==(t=o.props.search)&&void 0!==t?t:"").length-1,i.selection.to))},t))}return function EmojiMenu_createClass(t,r,o){return r&&EmojiMenu_defineProperties(t.prototype,r),o&&EmojiMenu_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(EmojiMenu,[{key:"items",get:function get(){var t=this.props.search,r=(void 0===t?"":t).toLowerCase();return me.search(r).map((function(t){var r=t.description,o=t.names[0];return EmojiMenu_objectSpread(EmojiMenu_objectSpread({},t),{},{name:"emoji",title:o,description:r,attrs:{markup:o,"data-name":o}})})).slice(0,10)}},{key:"render",value:function render(){var t="emoji-menu-container";return b.a.createElement(oe,EmojiMenu_extends({},this.props,{id:t,filterable:!1,onClearSearch:this.clearSearch,renderMenuItem:function renderMenuItem(r,o,i){return b.a.createElement(EmojiMenuItem,{onClick:i.onClick,selected:i.selected,title:r.description,emoji:r.emoji,containerId:t})},items:this.items}))}}]),EmojiMenu}(b.a.PureComponent);o("5s+n"),o("ls82");function asyncGeneratorStep(t,r,o,i,a,c,l){try{var u=t[c](l),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(i,a)}function findPlaceholderLink(t,r){var o;return function findLinks(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"text"===t.type.name&&t.marks.forEach((function(a){"link"===a.type.name&&a.attrs.href===r&&(o={node:t,pos:i})})),t.content.size&&t.descendants(findLinks)}(t),o}var ye=function(){var t=function _asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(i,a){var c=t.apply(r,o);function _next(t){asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,r,o,i){var a,c,l,u,p,d,h;return regeneratorRuntime.wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:return a=t.dispatch,c=t.state,l=i.onCreateLink,u=i.onShowToast,m.prev=2,m.next=5,l(r);case 5:if(p=m.sent,d=findPlaceholderLink(t.state.doc,o)){m.next=9;break}return m.abrupt("return");case 9:a(t.state.tr.removeMark(d.pos,d.pos+d.node.nodeSize,c.schema.marks.link).addMark(d.pos,d.pos+d.node.nodeSize,c.schema.marks.link.create({href:p}))),m.next=19;break;case 12:if(m.prev=12,m.t0=m.catch(2),h=findPlaceholderLink(t.state.doc,o)){m.next=17;break}return m.abrupt("return");case 17:a(t.state.tr.removeMark(h.pos,h.pos+h.node.nodeSize,c.schema.marks.link)),u(i.dictionary.createLinkError);case 19:case"end":return m.stop()}}),_callee,null,[[2,12]])})));return function createAndInsertLink(r,o,i,a){return t.apply(this,arguments)}}(),ge=o("Vb5C");function useComponentSize_slicedToArray(t,r){return function useComponentSize_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function useComponentSize_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var i,a,c=[],l=!0,u=!1;try{for(o=o.call(t);!(l=(i=o.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,a=t}finally{try{l||null==o.return||o.return()}finally{if(u)throw a}}return c}(t,r)||function useComponentSize_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return useComponentSize_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return useComponentSize_arrayLikeToArray(t,r)}(t,r)||function useComponentSize_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useComponentSize_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}var ve=o("vp35"),ke=o("L6sp");function useViewportHeight_slicedToArray(t,r){return function useViewportHeight_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function useViewportHeight_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var i,a,c=[],l=!0,u=!1;try{for(o=o.call(t);!(l=(i=o.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,a=t}finally{try{l||null==o.return||o.return()}finally{if(u)throw a}}return c}(t,r)||function useViewportHeight_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return useViewportHeight_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return useViewportHeight_arrayLikeToArray(t,r)}(t,r)||function useViewportHeight_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useViewportHeight_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function FloatingToolbar_slicedToArray(t,r){return function FloatingToolbar_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function FloatingToolbar_iterableToArrayLimit(t,r){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var i,a,c=[],l=!0,u=!1;try{for(o=o.call(t);!(l=(i=o.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,a=t}finally{try{l||null==o.return||o.return()}finally{if(u)throw a}}return c}(t,r)||function FloatingToolbar_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return FloatingToolbar_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return FloatingToolbar_arrayLikeToArray(t,r)}(t,r)||function FloatingToolbar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FloatingToolbar_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}var we={left:-1e3,top:0,offset:0,visible:!1};function usePosition(t){var r,o,i,a=t.menuRef,c=t.isSelectingText,l=t.props,u=l.view,p=l.active,h=u.state.selection,b=function useComponentSize(t){var r,o,i=useComponentSize_slicedToArray(Object(m.useState)({width:(null===(r=t.current)||void 0===r?void 0:r.clientWidth)||0,height:(null===(o=t.current)||void 0===o?void 0:o.clientHeight)||0}),2),a=i[0],c=i[1];return Object(m.useEffect)((function(){var r=new ResizeObserver((function(t){t.forEach((function(t){var r=t.target;a.width===r.clientWidth&&a.height===r.clientHeight||c({width:r.clientWidth,height:r.clientHeight})}))}));return t.current&&r.observe(t.current),function(){return r.disconnect()}}),[t]),a}(a),y=b.width,g=b.height,v=function useViewportHeight(){var t=useViewportHeight_slicedToArray(Object(m.useState)((function(){var t;return(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||window.innerHeight})),2),r=t[0],o=t[1];return Object(m.useLayoutEffect)((function(){var t,r=function handleResize(){o((function(){var t;return(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||window.innerHeight}))};return null===(t=window.visualViewport)||void 0===t||t.addEventListener("resize",r),function(){var t;null===(t=window.visualViewport)||void 0===t||t.removeEventListener("resize",r)}}),[]),r}(),k=Object(ke.a)("(hover: none) and (pointer: coarse)");if(!p||!y||!g||!a.current||c)return we;if(k&&v)return{left:0,right:0,top:v-g,offset:0,visible:!0};try{o=u.coordsAtPos(h.from),i=u.coordsAtPos(h.to,-1)}catch(t){return console.warn(t),we}var w={top:Math.min(o.top,i.top),bottom:Math.max(o.bottom,i.bottom),left:Math.min(o.left,i.left),right:Math.max(o.right,i.right)},x=h instanceof ge.CellSelection&&h.isColSelection&&h.isColSelection(),_=h instanceof ge.CellSelection&&h.isRowSelection&&h.isRowSelection();if(x){var O=u.domAtPos(h.from).node.getBoundingClientRect().width;w.top-=20,w.right=w.left+O}if(_&&(w.right=w.left=w.left-18),h instanceof d.NodeSelection&&"image"===(null===(r=h.node)||void 0===r?void 0:r.type.name)){var S=u.nodeDOM(h.from).getElementsByTagName("img")[0].getBoundingClientRect(),C=S.left,j=S.top,E=S.width;return{left:Math.round(C+E/2+window.scrollX-y/2),top:Math.round(j+window.scrollY-g),offset:0,visible:!0}}var P=Math.abs(w.right-w.left)/2,M=w.left+P,T=Math.min(window.innerWidth-y-12,Math.max(12,M-y/2)),I=Math.min(window.innerHeight-g-12,Math.max(12,w.top-g)),L=T-(M-y/2);return{left:Math.round(T+window.scrollX),top:Math.round(I+window.scrollY),offset:Math.round(L),visible:!0}}var xe=m.forwardRef((function(t,r){var o=r||m.createRef(),i=FloatingToolbar_slicedToArray(m.useState(!1),2),a=i[0],c=i[1],l=usePosition({menuRef:o,isSelectingText:a,props:t});return Object(ve.a)("mouseup",(function(){c(!1)})),Object(ve.a)("mousedown",(function(){t.active||c(!0)})),m.createElement(N.a,null,m.createElement(_e,{active:t.active&&l.visible,ref:o,offset:l.offset,style:{top:"".concat(l.top,"px"),left:"".concat(l.left,"px")}},t.children))})),_e=L.default.div.withConfig({displayName:"FloatingToolbar__Wrapper",componentId:"sc-6j7khp-0"})(["will-change:opacity,transform;padding:8px 16px;position:absolute;z-index:",";opacity:0;background-color:",';border-radius:4px;transform:scale(0.95);transition:opacity 150ms cubic-bezier(0.175,0.885,0.32,1.275),transform 150ms cubic-bezier(0.175,0.885,0.32,1.275);transition-delay:150ms;line-height:0;height:40px;box-sizing:border-box;pointer-events:none;white-space:nowrap;&::before{content:"";display:block;width:24px;height:24px;transform:translateX(-50%) rotate(45deg);background:',";border-radius:3px;z-index:-1;position:absolute;bottom:-2px;left:calc(50% - ","px);pointer-events:none;}*{box-sizing:border-box;}",";@media print{display:none;}@media (hover:none) and (pointer:coarse){&:before{display:none;}transition:opacity 150ms cubic-bezier(0.175,0.885,0.32,1.275);transform:scale(1);border-radius:0;width:100vw;position:fixed;}"],K.b.editorToolbar,(function(t){return t.theme.toolbarBackground}),(function(t){return t.theme.toolbarBackground}),(function(t){return t.offset||0}),(function(t){return t.active&&"\n    transform: translateY(-6px) scale(1);\n    opacity: 1;\n  "})),Oe=xe,Se=(o("SYor"),o("zDod")),Ce=o("0I4T"),je=["title","subtitle","selected","icon"];function LinkSearchResult_extends(){return(LinkSearchResult_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function LinkSearchResult_objectWithoutProperties(t,r){if(null==t)return{};var o,i,a=function LinkSearchResult_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,i,a={},c=Object.keys(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||(a[o]=t[o]);return a}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}var Ee=L.default.span.withConfig({displayName:"LinkSearchResult__IconWrapper",componentId:"yn9rsf-0"})(["flex-shrink:0;margin-right:4px;opacity:0.8;color:",";"],(function(t){return t.theme.toolbarItem})),Pe=L.default.li.withConfig({displayName:"LinkSearchResult__ListItem",componentId:"yn9rsf-1"})(["display:flex;align-items:center;padding:8px;border-radius:4px;color:",";background:",";font-family:",";text-decoration:none;overflow:hidden;white-space:nowrap;cursor:pointer;user-select:none;line-height:",";height:",";"],(function(t){return t.theme.toolbarItem}),(function(t){return t.selected?t.theme.toolbarHoverBackground:"transparent"}),(function(t){return t.theme.fontFamily}),(function(t){return t.compact?"inherit":"1.2"}),(function(t){return t.compact?"28px":"auto"})),Me=L.default.div.withConfig({displayName:"LinkSearchResult__Title",componentId:"yn9rsf-2"})(["font-size:14px;font-weight:500;"]),Te=L.default.div.withConfig({displayName:"LinkSearchResult__Subtitle",componentId:"yn9rsf-3"})(["font-size:13px;opacity:",";"],(function(t){return t.selected?.75:.5})),Ie=function LinkSearchResult(t){var r=t.title,o=t.subtitle,i=t.selected,a=t.icon,c=LinkSearchResult_objectWithoutProperties(t,je),l=m.useCallback((function(t){i&&t&&Object(I.a)(t,{scrollMode:"if-needed",block:"center",boundary:function boundary(t){return"link-search-results"!==t.id}})}),[i]);return m.createElement(Pe,LinkSearchResult_extends({ref:l,compact:!o,selected:i},c),m.createElement(Ee,null,a),m.createElement("div",null,m.createElement(Me,null,r),o?m.createElement(Te,{selected:i},o):null))},Le=L.default.button.withConfig({displayName:"ToolbarButton",componentId:"sc-1sxydup-0"})(["display:inline-block;flex:0;width:24px;height:24px;cursor:pointer;border:none;background:none;transition:opacity 100ms ease-in-out;padding:0;opacity:0.7;outline:none;pointer-events:all;position:relative;color:",';&:hover{opacity:1;}&:disabled{opacity:0.3;cursor:default;}&:before{position:absolute;content:"";top:-4px;right:-4px;left:-4px;bottom:-4px;}',";"],(function(t){return t.theme.toolbarItem}),(function(t){return t.active&&"opacity: 1;"})),Ae=o("FvP1"),Re=L.default.span.withConfig({displayName:"Tooltip__TooltipContent",componentId:"sc-3366qt-0"})(["outline:none;"]),Be=function WrappedTooltip(t){var r=t.children,o=t.tooltip;return m.createElement(Ae.a,{offset:"0, 8",delay:150,tooltip:o,placement:"top"},m.createElement(Re,null,r))};function LinkEditor_typeof(t){return(LinkEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LinkEditor_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function LinkEditor_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?LinkEditor_ownKeys(Object(o),!0).forEach((function(r){LinkEditor_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):LinkEditor_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function LinkEditor_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function LinkEditor_asyncGeneratorStep(t,r,o,i,a,c,l){try{var u=t[c](l),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(i,a)}function LinkEditor_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(i,a){var c=t.apply(r,o);function _next(t){LinkEditor_asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){LinkEditor_asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}}function LinkEditor_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function LinkEditor_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function LinkEditor_setPrototypeOf(t,r){return(LinkEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function LinkEditor_createSuper(t){var r=function LinkEditor_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=LinkEditor_getPrototypeOf(t);if(r){var a=LinkEditor_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return LinkEditor_possibleConstructorReturn(this,o)}}function LinkEditor_possibleConstructorReturn(t,r){if(r&&("object"===LinkEditor_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function LinkEditor_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function LinkEditor_getPrototypeOf(t){return(LinkEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var De=function(t){!function LinkEditor_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&LinkEditor_setPrototypeOf(t,r)}(LinkEditor,t);var r=LinkEditor_createSuper(LinkEditor);function LinkEditor(){var t,o;LinkEditor_classCallCheck(this,LinkEditor);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return LinkEditor_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(a)),o.discardInputValue=!1,o.initialValue=o.href,o.initialSelectionLength=o.props.to-o.props.from,o.state={selectedIndex:-1,value:o.href,previousValue:"",results:{}},o.componentWillUnmount=function(){if(!o.discardInputValue&&o.state.value!==o.initialValue){var t=(o.state.value||"").trim();if(!t)return o.handleRemoveLink();o.save(t,t)}},o.save=function(t,r){if(0!==(t=t.trim()).length){o.discardInputValue=!0;var i=o.props,a=i.from,c=i.to;Object(Se.a)(t)||t.startsWith("/")||t.startsWith("#")||t.startsWith("mailto:")||(t="https://".concat(t)),o.props.onSelectLink({href:t,title:r,from:a,to:c})}},o.handleKeyDown=function(t){switch(t.key){case"Enter":t.preventDefault();var r=o.state,i=r.selectedIndex,a=r.value,c=o.state.results[a]||[],l=o.props.onCreateLink;if(i>=0){var u=c[i];u?o.save(u.url,u.title):l&&i===c.length&&o.handleCreateLink(o.suggestedLinkTitle)}else o.save(a,a);return void(o.initialSelectionLength&&o.moveSelectionToEnd());case"Escape":return t.preventDefault(),void(o.initialValue?o.setState({value:o.initialValue},o.moveSelectionToEnd):o.handleRemoveLink());case"ArrowUp":if(t.shiftKey)return;t.preventDefault(),t.stopPropagation();var p=o.state.selectedIndex-1;return void o.setState({selectedIndex:Math.max(-1,p)});case"ArrowDown":case"Tab":if(t.shiftKey)return;t.preventDefault(),t.stopPropagation();var d=o.state,h=d.selectedIndex,m=d.value,b=(o.state.results[m]||[]).length,y=h+1;return void o.setState({selectedIndex:Math.min(y,b)})}},o.handleFocusLink=function(t){o.setState({selectedIndex:t})},o.handleChange=function(){var t=LinkEditor_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r,i,a;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.target.value,o.setState({value:r,selectedIndex:-1}),!(i=r.trim())||!o.props.onSearchLink){c.next=14;break}return c.prev=4,c.next=7,o.props.onSearchLink(i);case 7:a=c.sent,o.setState((function(t){return{results:LinkEditor_objectSpread(LinkEditor_objectSpread({},t.results),{},LinkEditor_defineProperty({},i,a)),previousValue:i}})),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),console.error(c.t0);case 14:case"end":return c.stop()}}),_callee,null,[[4,11]])})));return function(r){return t.apply(this,arguments)}}(),o.handlePaste=function(){setTimeout((function(){return o.save(o.state.value,o.state.value)}),0)},o.handleOpenLink=function(t){t.preventDefault(),o.props.onClickLink(o.href,t)},o.handleCreateLink=function(){var t=LinkEditor_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var r;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(o.discardInputValue=!0,r=o.props.onCreateLink,0!==(t=t.trim()).length){i.next=5;break}return i.abrupt("return");case 5:if(!r){i.next=7;break}return i.abrupt("return",r(t));case 7:case"end":return i.stop()}}),_callee2)})));return function(r){return t.apply(this,arguments)}}(),o.handleRemoveLink=function(){o.discardInputValue=!0;var t=o.props,r=t.from,i=t.to,a=t.mark,c=t.view,l=t.onRemoveLink,u=o.props.view,p=u.state,d=u.dispatch;a&&d(p.tr.removeMark(r,i,a)),l&&l(),c.focus()},o.handleSelectLink=function(t,r){return function(i){i.preventDefault(),o.save(t,r),o.initialSelectionLength&&o.moveSelectionToEnd()}},o.moveSelectionToEnd=function(){var t=o.props,r=t.to,i=t.view,a=i.state;(0,i.dispatch)(Object(P.setTextSelection)(r)(a.tr)),i.focus()},t))}return function LinkEditor_createClass(t,r,o){return r&&LinkEditor_defineProperties(t.prototype,r),o&&LinkEditor_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(LinkEditor,[{key:"href",get:function get(){return this.props.mark?this.props.mark.attrs.href:""}},{key:"suggestedLinkTitle",get:function get(){var t=this.props.view.state,r=this.state.value,o=t.doc.cut(t.selection.from,t.selection.to).textContent;return r.trim()||o.trim()}},{key:"render",value:function render(){var t=this,r=this.props.dictionary,o=this.state,i=o.value,a=o.selectedIndex,c=this.state.results[i.trim()]||this.state.results[this.state.previousValue]||[],l=i.match(/^https?:\/\//i),u=this.suggestedLinkTitle,p=Object(Ce.c)(i),d=!!this.props.onCreateLink&&!(u===this.initialValue)&&u.length>0&&!l,h=!!u&&(d||c.length>0);return m.createElement(ze,null,m.createElement(q,{value:i,placeholder:d?r.findOrCreateDoc:r.searchOrPasteLink,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,onChange:this.handleChange,autoFocus:""===this.href}),m.createElement(Be,{tooltip:p?r.goToLink:r.openLink},m.createElement(Le,{onClick:this.handleOpenLink,disabled:!i},p?m.createElement(M.ArrowIcon,{color:"currentColor"}):m.createElement(M.OpenIcon,{color:"currentColor"}))),m.createElement(Be,{tooltip:r.removeLink},m.createElement(Le,{onClick:this.handleRemoveLink},this.initialValue?m.createElement(M.TrashIcon,{color:"currentColor"}):m.createElement(M.CloseIcon,{color:"currentColor"}))),h&&m.createElement(He,{id:"link-search-results"},c.map((function(r,o){return m.createElement(Ie,{key:r.url,title:r.title,subtitle:r.subtitle,icon:m.createElement(M.DocumentIcon,{color:"currentColor"}),onPointerMove:function onPointerMove(){return t.handleFocusLink(o)},onClick:t.handleSelectLink(r.url,r.title),selected:o===a})})),d&&m.createElement(Ie,{key:"create",title:u,subtitle:r.createNewDoc,icon:m.createElement(M.PlusIcon,{color:"currentColor"}),onPointerMove:function onPointerMove(){return t.handleFocusLink(c.length)},onClick:function onClick(){t.handleCreateLink(u),t.initialSelectionLength&&t.moveSelectionToEnd()},selected:c.length===a})))}}]),LinkEditor}(m.Component),ze=Object(L.default)(j.a).withConfig({displayName:"LinkEditor__Wrapper",componentId:"sc-1n3bz78-0"})(["margin-left:-8px;margin-right:-8px;min-width:336px;pointer-events:all;gap:8px;"]),He=L.default.ol.withConfig({displayName:"LinkEditor__SearchResults",componentId:"sc-1n3bz78-1"})(["background:",";position:absolute;top:100%;width:100%;height:auto;left:0;padding:0;margin:0;margin-top:-3px;margin-bottom:0;border-radius:0 0 4px 4px;overflow-y:auto;overscroll-behavior:none;max-height:260px;@media (hover:none) and (pointer:coarse){position:fixed;top:auto;bottom:40px;border-radius:0;max-height:50vh;padding:8px 8px 4px;}"],(function(t){return t.theme.toolbarBackground})),Ne=De;function LinkToolbar_typeof(t){return(LinkToolbar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var We=["onCreateLink","onClose"];function LinkToolbar_extends(){return(LinkToolbar_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function LinkToolbar_objectWithoutProperties(t,r){if(null==t)return{};var o,i,a=function LinkToolbar_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,i,a={},c=Object.keys(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||(a[o]=t[o]);return a}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}function LinkToolbar_asyncGeneratorStep(t,r,o,i,a,c,l){try{var u=t[c](l),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(i,a)}function LinkToolbar_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(i,a){var c=t.apply(r,o);function _next(t){LinkToolbar_asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){LinkToolbar_asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}}function LinkToolbar_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function LinkToolbar_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function LinkToolbar_setPrototypeOf(t,r){return(LinkToolbar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function LinkToolbar_createSuper(t){var r=function LinkToolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=LinkToolbar_getPrototypeOf(t);if(r){var a=LinkToolbar_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return LinkToolbar_possibleConstructorReturn(this,o)}}function LinkToolbar_possibleConstructorReturn(t,r){if(r&&("object"===LinkToolbar_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function LinkToolbar_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function LinkToolbar_getPrototypeOf(t){return(LinkToolbar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(t){!function LinkToolbar_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&LinkToolbar_setPrototypeOf(t,r)}(LinkToolbar,t);var r=LinkToolbar_createSuper(LinkToolbar);function LinkToolbar(){var t,o;LinkToolbar_classCallCheck(this,LinkToolbar);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return LinkToolbar_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(a)),o.menuRef=m.createRef(),o.state={left:-1e3,top:void 0},o.handleClickOutside=function(t){t.target instanceof HTMLElement&&o.menuRef.current&&o.menuRef.current.contains(t.target)||o.props.onClose()},o.handleOnCreateLink=function(){var t=LinkToolbar_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r,i,a,c,l,u,p,d,h,m,b,y;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(r=o.props,i=r.dictionary,a=r.onCreateLink,c=r.view,l=r.onClose,u=r.onShowToast,l(),o.props.view.focus(),a){g.next=5;break}return g.abrupt("return");case 5:if(p=c.dispatch,d=c.state,h=d.selection,m=h.from,b=h.to,m===b){g.next=9;break}return g.abrupt("return");case 9:y="creating#".concat(t,"…"),p(c.state.tr.insertText(t,m,b).addMark(m,b+t.length,d.schema.marks.link.create({href:y}))),ye(c,t,y,{onCreateLink:a,onShowToast:u,dictionary:i});case 12:case"end":return g.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),o.handleOnSelectLink=function(t){var r=t.href,i=t.title,a=o.props,c=a.view;(0,a.onClose)(),o.props.view.focus();var l=c.dispatch,u=c.state,p=u.selection,d=p.from,h=p.to;d===h&&l(c.state.tr.insertText(i,d,h).addMark(d,h+i.length,u.schema.marks.link.create({href:r})))},t))}return function LinkToolbar_createClass(t,r,o){return r&&LinkToolbar_defineProperties(t.prototype,r),o&&LinkToolbar_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(LinkToolbar,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function render(){var t=this.props,r=t.onCreateLink,o=t.onClose,i=LinkToolbar_objectWithoutProperties(t,We),a=this.props.view.state.selection,c=function LinkToolbar_isActive(t){var r=t.view,o=r.state.selection;try{var i=r.domAtPos(o.from);return t.isActive&&!!i.node}catch(t){return!1}}(this.props);return m.createElement(Oe,LinkToolbar_extends({ref:this.menuRef,active:c},i),c&&m.createElement(Ne,LinkToolbar_extends({key:"".concat(a.from,"-").concat(a.to),from:a.from,to:a.to,onCreateLink:r?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink,onRemoveLink:o},i)))}}]),LinkToolbar}(m.Component),Ve=o("MJIl"),Ke=o.n(Ve);var Ue=o("NyqD");var Ge=o("voAs"),Ze=o("5Q4a");var qe=o("NtRG");var $e=L.default.div.withConfig({displayName:"ToolbarSeparator__Separator",componentId:"t08gd9-0"})(["height:24px;width:2px;background:",";opacity:0.3;display:inline-block;margin-left:8px;"],(function(t){return t.theme.toolbarItem})),Je=L.default.div.withConfig({displayName:"ToolbarMenu__FlexibleWrapper",componentId:"sc-1wvd6gb-0"})(["color:",";display:flex;gap:8px;"],(function(t){return t.theme.toolbarItem}));var Qe=function ToolbarMenu(t){var r=function useEditor(){return m.useContext(se)}(),o=r.commands,i=r.view,a=t.items,c=i.state;return m.createElement(Je,null,a.map((function(t,r){if("separator"===t.name&&!1!==t.visible)return m.createElement($e,{key:r});if(!1===t.visible||!t.icon)return null;var i=t.icon,a=!!t.active&&t.active(c);return m.createElement(Be,{tooltip:t.tooltip,key:r},m.createElement(Le,{onClick:function onClick(){return t.name&&o[t.name](t.attrs)},active:a},m.createElement(i,{color:"currentColor"})))})))};function SelectionToolbar_typeof(t){return(SelectionToolbar_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ye=["dictionary","onCreateLink","isTemplate","rtl"];function SelectionToolbar_extends(){return(SelectionToolbar_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function SelectionToolbar_objectWithoutProperties(t,r){if(null==t)return{};var o,i,a=function SelectionToolbar_objectWithoutPropertiesLoose(t,r){if(null==t)return{};var o,i,a={},c=Object.keys(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||(a[o]=t[o]);return a}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)o=c[i],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}function SelectionToolbar_asyncGeneratorStep(t,r,o,i,a,c,l){try{var u=t[c](l),p=u.value}catch(t){return void o(t)}u.done?r(p):Promise.resolve(p).then(i,a)}function SelectionToolbar_asyncToGenerator(t){return function(){var r=this,o=arguments;return new Promise((function(i,a){var c=t.apply(r,o);function _next(t){SelectionToolbar_asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){SelectionToolbar_asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}}function SelectionToolbar_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function SelectionToolbar_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function SelectionToolbar_setPrototypeOf(t,r){return(SelectionToolbar_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function SelectionToolbar_createSuper(t){var r=function SelectionToolbar_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=SelectionToolbar_getPrototypeOf(t);if(r){var a=SelectionToolbar_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return SelectionToolbar_possibleConstructorReturn(this,o)}}function SelectionToolbar_possibleConstructorReturn(t,r){if(r&&("object"===SelectionToolbar_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function SelectionToolbar_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function SelectionToolbar_getPrototypeOf(t){return(SelectionToolbar_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function isVisible(t){var r=t.view,o=r.state,i=o.selection,a=o.doc;if(Object(Ge.a)(r.state.schema.marks.link)(r.state))return!0;if(!i||i.empty)return!1;if(i instanceof d.NodeSelection&&"hr"===i.node.type.name)return!0;if(i instanceof d.NodeSelection&&"image"===i.node.type.name)return!0;if(i instanceof d.NodeSelection)return!1;var c=a.cut(i.from,i.to).textContent;if(i instanceof d.TextSelection&&!c)return!1;var l=i.content().content.content;return Ke()(l,(function(t){return t.content.size}))}var Xe=function(t){!function SelectionToolbar_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&SelectionToolbar_setPrototypeOf(t,r)}(SelectionToolbar,t);var r=SelectionToolbar_createSuper(SelectionToolbar);function SelectionToolbar(){var t,o;SelectionToolbar_classCallCheck(this,SelectionToolbar);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return SelectionToolbar_possibleConstructorReturn(o,(t=o=r.call.apply(r,[this].concat(a)),o.isActive=!1,o.menuRef=m.createRef(),o.handleClickOutside=function(t){if(!(t.target instanceof HTMLElement&&o.menuRef.current&&o.menuRef.current.contains(t.target))&&o.isActive){var r=o.props.view;if(!r.hasFocus())(0,r.dispatch)(r.state.tr.setSelection(new d.TextSelection(r.state.doc.resolve(0))))}},o.handleOnCreateLink=function(){var t=SelectionToolbar_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r,i,a,c,l,u,p,d,h,m,b,y;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(r=o.props,i=r.dictionary,a=r.onCreateLink,c=r.view,l=r.onShowToast,a){g.next=3;break}return g.abrupt("return");case 3:if(u=c.dispatch,p=c.state,d=p.selection,h=d.from,m=d.to,h!==m){g.next=7;break}return g.abrupt("return");case 7:b="creating#".concat(t,"…"),y=p.schema.marks.link,u(c.state.tr.removeMark(h,m,y).addMark(h,m,y.create({href:b}))),ye(c,t,b,{onCreateLink:a,onShowToast:l,dictionary:i});case 11:case"end":return g.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),o.handleOnSelectLink=function(t){var r=t.href,i=t.from,a=t.to,c=o.props.view,l=c.state,u=c.dispatch,p=l.schema.marks.link;u(l.tr.removeMark(i,a,p).addMark(i,a,p.create({href:r})))},t))}return function SelectionToolbar_createClass(t,r,o){return r&&SelectionToolbar_defineProperties(t.prototype,r),o&&SelectionToolbar_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(SelectionToolbar,[{key:"componentDidUpdate",value:function componentDidUpdate(){var t=isVisible(this.props);this.isActive&&!t&&(this.isActive=!1,this.props.onClose()),!this.isActive&&t&&(this.isActive=!0,this.props.onOpen())}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("mouseup",this.handleClickOutside)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("mouseup",this.handleClickOutside)}},{key:"render",value:function render(){var t,r,o=this,i=this.props,a=i.dictionary,c=i.onCreateLink,l=i.isTemplate,u=i.rtl,p=SelectionToolbar_objectWithoutProperties(i,Ye),d=p.view,h=d.state,b=h.selection,y=Object(Ze.a)(h.schema.nodes.code_block)(h),g=Object(Ze.a)(h.schema.nodes.hr)(h);if(y)return null;var v=function getColumnIndex(t){if(t.isColSelection&&t.isColSelection()){var r=t.$from.path;return r[r.length-5]}}(h.selection),k=function getRowIndex(t){if(t.isRowSelection&&t.isRowSelection()){var r=t.$from.path;return r[r.length-8]}}(h.selection),w=void 0!==v&&void 0!==k,x=Object(Ge.a)(h.schema.marks.link)(h),_=Object(Ue.a)(b.$from,h.schema.marks.link),O="image"===(null===(t=b.node)||void 0===t||null===(r=t.type)||void 0===r?void 0:r.name),S=[];return(S=filterExcessSeparators(S=(S=w?function tableMenuItems(t){return[{name:"deleteTable",tooltip:t.deleteTable,icon:M.TrashIcon,active:function active(){return!1}}]}(a):void 0!==v?function tableColMenuItems(t,r,o,i){var a=t.schema;return[{name:"setColumnAttr",tooltip:i.alignLeft,icon:M.AlignLeftIcon,attrs:{index:r,alignment:"left"},active:Object(Ze.a)(a.nodes.th,{colspan:1,rowspan:1,alignment:"left"})},{name:"setColumnAttr",tooltip:i.alignCenter,icon:M.AlignCenterIcon,attrs:{index:r,alignment:"center"},active:Object(Ze.a)(a.nodes.th,{colspan:1,rowspan:1,alignment:"center"})},{name:"setColumnAttr",tooltip:i.alignRight,icon:M.AlignRightIcon,attrs:{index:r,alignment:"right"},active:Object(Ze.a)(a.nodes.th,{colspan:1,rowspan:1,alignment:"right"})},{name:"separator"},{name:o?"addColumnAfter":"addColumnBefore",tooltip:o?i.addColumnAfter:i.addColumnBefore,icon:M.InsertLeftIcon,active:function active(){return!1}},{name:o?"addColumnBefore":"addColumnAfter",tooltip:o?i.addColumnBefore:i.addColumnAfter,icon:M.InsertRightIcon,active:function active(){return!1}},{name:"separator"},{name:"deleteColumn",tooltip:i.deleteColumn,icon:M.TrashIcon,active:function active(){return!1}}]}(h,v,u,a):void 0!==k?function tableRowMenuItems(t,r,o){return[{name:"addRowAfter",tooltip:o.addRowBefore,icon:M.InsertAboveIcon,attrs:{index:r-1},active:function active(){return!1},visible:0!==r},{name:"addRowAfter",tooltip:o.addRowAfter,icon:M.InsertBelowIcon,attrs:{index:r},active:function active(){return!1}},{name:"separator"},{name:"deleteRow",tooltip:o.deleteRow,icon:M.TrashIcon,active:function active(){return!1}}]}(0,k,a):O?function imageMenuItems(t,r){var o=t.schema,i=Object(Ze.a)(o.nodes.image,{layoutClass:"left-50"}),a=Object(Ze.a)(o.nodes.image,{layoutClass:"right-50"});return[{name:"alignLeft",tooltip:r.alignLeft,icon:M.AlignImageLeftIcon,visible:!0,active:i},{name:"alignCenter",tooltip:r.alignCenter,icon:M.AlignImageCenterIcon,visible:!0,active:function active(t){return Object(Ze.a)(o.nodes.image)(t)&&!i(t)&&!a(t)}},{name:"alignRight",tooltip:r.alignRight,icon:M.AlignImageRightIcon,visible:!0,active:a},{name:"separator",visible:!0},{name:"downloadImage",tooltip:r.downloadImage,icon:M.DownloadIcon,visible:!!fetch,active:function active(){return!1}},{name:"replaceImage",tooltip:r.replaceImage,icon:M.ReplaceIcon,visible:!0,active:function active(){return!1}},{name:"deleteImage",tooltip:r.deleteImage,icon:M.TrashIcon,visible:!0,active:function active(){return!1}}]}(h,a):g?function dividerMenuItems(t,r){var o=t.schema;return[{name:"hr",tooltip:r.pageBreak,attrs:{markup:"***"},active:Object(Ze.a)(o.nodes.hr,{markup:"***"}),icon:M.PageBreakIcon},{name:"hr",tooltip:r.hr,attrs:{markup:"---"},active:Object(Ze.a)(o.nodes.hr,{markup:"---"}),icon:M.HorizontalRuleIcon}]}(h,a):function formattingMenuItems(t,r,o){var i=t.schema,a=Object(ge.isInTable)(t),c=Object(qe.a)(t),l=!a&&!c;return[{name:"placeholder",tooltip:o.placeholder,icon:M.InputIcon,active:Object(Ge.a)(i.marks.placeholder),visible:r},{name:"separator",visible:r},{name:"strong",tooltip:o.strong,icon:M.BoldIcon,active:Object(Ge.a)(i.marks.strong)},{name:"strikethrough",tooltip:o.strikethrough,icon:M.StrikethroughIcon,active:Object(Ge.a)(i.marks.strikethrough)},{name:"highlight",tooltip:o.mark,icon:M.HighlightIcon,active:Object(Ge.a)(i.marks.highlight),visible:!r},{name:"code_inline",tooltip:o.codeInline,icon:M.CodeIcon,active:Object(Ge.a)(i.marks.code_inline)},{name:"separator",visible:l},{name:"heading",tooltip:o.heading,icon:M.Heading1Icon,active:Object(Ze.a)(i.nodes.heading,{level:1}),attrs:{level:1},visible:l},{name:"heading",tooltip:o.subheading,icon:M.Heading2Icon,active:Object(Ze.a)(i.nodes.heading,{level:2}),attrs:{level:2},visible:l},{name:"blockquote",tooltip:o.quote,icon:M.BlockQuoteIcon,active:Object(Ze.a)(i.nodes.blockquote),attrs:{level:2},visible:l},{name:"separator",visible:l||c},{name:"checkbox_list",tooltip:o.checkboxList,icon:M.TodoListIcon,keywords:"checklist checkbox task",active:Object(Ze.a)(i.nodes.checkbox_list),visible:l||c},{name:"bullet_list",tooltip:o.bulletList,icon:M.BulletedListIcon,active:Object(Ze.a)(i.nodes.bullet_list),visible:l||c},{name:"ordered_list",tooltip:o.orderedList,icon:M.OrderedListIcon,active:Object(Ze.a)(i.nodes.ordered_list),visible:l||c},{name:"separator"},{name:"link",tooltip:o.createLink,icon:M.LinkIcon,active:Object(Ge.a)(i.marks.link),attrs:{href:""}}]}(h,l,a)).filter((function(t){return"separator"===t.name||!(t.name&&!o.props.commands[t.name])})))).length?m.createElement(Oe,{view:d,active:isVisible(this.props),ref:this.menuRef},x&&_?m.createElement(Ne,SelectionToolbar_extends({key:"".concat(_.from,"-").concat(_.to),dictionary:a,mark:_.mark,from:_.from,to:_.to,onCreateLink:c?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink},p)):m.createElement(Qe,SelectionToolbar_extends({items:S},p))):null}}]),SelectionToolbar}(m.Component),et=o("ufqH"),tt=L.default.div.withConfig({displayName:"Styles__EditorStyles",componentId:"hoswng-0"})(["flex-grow:",";justify-content:start;color:",";font-family:",";font-weight:",';font-size:1em;line-height:1.6em;width:100%;> div{background:transparent;}& *{box-sizing:content-box;}.ProseMirror{position:relative;outline:none;word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;font-feature-settings:"liga" 0;& > .ProseMirror-yjs-cursor{display:none;}& > *{margin-top:.5em;margin-bottom:.5em;}& >:first-child,& > button:first-child + *{margin-top:0;}h2,h3,h4,h5,h6{margin-top:1em;}h1{margin-top:.75em;margin-bottom:0.25em;}.ProseMirror-yjs-cursor{position:relative;margin-left:-1px;margin-right:-1px;border-left:1px solid black;border-right:1px solid black;height:1em;word-break:normal;&:after{content:"";display:block;position:absolute;left:-8px;right:-8px;top:0;bottom:0;}> div{opacity:0;transition:opacity 100ms ease-in-out;position:absolute;top:-1.8em;font-size:13px;background-color:rgb(250,129,0);font-style:normal;line-height:normal;user-select:none;white-space:nowrap;color:white;padding:2px 6px;font-weight:500;border-radius:4px;pointer-events:none;left:-1px;}&:hover{> div{opacity:1;}}}}&.show-cursor-names .ProseMirror-yjs-cursor > div{opacity:1;}pre{white-space:pre-wrap;}li{position:relative;}.image{line-height:0;text-align:center;max-width:100%;clear:both;img{pointer-events:',";display:inline-block;max-width:100%;max-height:75vh;}.ProseMirror-selectednode img{pointer-events:initial;}}.image.placeholder{position:relative;background:",";margin-bottom:calc(28px + 1.2em);img{opacity:0.5;}}.image-replacement-uploading{img{opacity:0.5;}}.image-right-50{float:right;width:50%;margin-left:2em;margin-bottom:1em;clear:initial;}.image-left-50{float:left;width:50%;margin-right:2em;margin-bottom:1em;clear:initial;}.ProseMirror-hideselection *::selection{background:transparent;}.ProseMirror-hideselection *::-moz-selection{background:transparent;}.ProseMirror-hideselection{caret-color:transparent;}.ProseMirror-selectednode{outline:2px solid ",';}li.ProseMirror-selectednode{outline:none;}li.ProseMirror-selectednode:after{content:"";position:absolute;left:',";right:",";top:-2px;bottom:-2px;border:2px solid ",';pointer-events:none;}img.ProseMirror-separator{display:inline;border:none !important;margin:0 !important;}.component-image + img.ProseMirror-separator,.component-image + img.ProseMirror-separator + br.ProseMirror-trailingBreak{display:none;}.ProseMirror[contenteditable="false"]{.caption{pointer-events:none;}.caption:empty{visibility:hidden;}}h1,h2,h3,h4,h5,h6{font-weight:500;cursor:text;&:not(.placeholder):before{display:',";font-family:",";color:",";font-size:13px;line-height:0;margin-",':-24px;transition:opacity 150ms ease-in-out;opacity:0;width:24px;}&:hover,&:focus-within{.heading-actions{opacity:1;}}}.heading-content{&:before{content:"​";display:inline;}}.heading-name{color:',';pointer-events:none;display:block;position:relative;top:-60px;visibility:hidden;&:hover{text-decoration:none;}}.heading-name:first-child,.heading-name:first-child + .ProseMirror-yjs-cursor{& + h1,& + h2,& + h3,& + h4{margin-top:0;}}a:first-child{h1,h2,h3,h4,h5,h6{margin-top:0;}}h1:not(.placeholder):before{content:"H1";}h2:not(.placeholder):before{content:"H2";}h3:not(.placeholder):before{content:"H3";}h4:not(.placeholder):before{content:"H4";}h5:not(.placeholder):before{content:"H5";}h6:not(.placeholder):before{content:"H6";}.ProseMirror-focused{h1,h2,h3,h4,h5,h6{&:not(.placeholder):before{opacity:1;}}}.with-emoji{margin-',":-1em;}.heading-anchor,.heading-fold{display:inline-block;color:",";opacity:.75;cursor:pointer;background:none;outline:none;border:0;margin:0;padding:0;text-align:left;font-family:",";font-size:14px;line-height:0;width:12px;height:24px;&:focus,&:hover{opacity:1;}}.heading-anchor{box-sizing:border-box;}.heading-actions{opacity:0;background:",";margin-",":-26px;flex-direction:",";display:inline-flex;position:relative;top:-2px;width:26px;height:24px;&.collapsed{opacity:1;}&.collapsed .heading-anchor{opacity:0;}&.collapsed .heading-fold{opacity:1;}}h1,h2,h3,h4,h5,h6{&:hover{.heading-anchor{opacity:0.75 !important;}.heading-anchor:hover{opacity:1 !important;}}}.heading-fold{display:inline-block;transform-origin:center;padding:0;&.collapsed{svg{transform:rotate(",");}transition-delay:0.1s;opacity:1;}}.placeholder:before{display:block;opacity:0;transition:opacity 150ms ease-in-out;content:",";pointer-events:none;height:0;color:",";}.ProseMirror-focused .placeholder:before,.placeholder:nth-child(1):before,.placeholder:nth-child(2):before{opacity:1;}.notice-block{display:flex;align-items:center;background:",";border-left:4px solid ",";color:",";border-radius:4px;padding:8px 10px 8px 8px;margin:8px 0;a{color:",";}a:not(.heading-name){text-decoration:underline;}p:first-child{margin-top:0;}p:last-child{margin-bottom:0;}}.notice-block .content{flex-grow:1;min-width:0;}.notice-block .icon{width:24px;height:24px;align-self:flex-start;margin-",":4px;color:",";}.notice-block.tip{background:",";border-left:4px solid ",";color:",";.icon{color:",";}a{color:",";}}.notice-block.warning{background:",";border-left:4px solid ",";color:",";.icon{color:",";}a{color:",';}}blockquote{margin:0;padding-left:1.5em;font-style:italic;overflow:hidden;position:relative;&:before{content:"";display:inline-block;width:2px;border-radius:1px;position:absolute;margin-',":-1.5em;top:0;bottom:0;background:",";}}b,strong{font-weight:600;}.template-placeholder{color:",";border-bottom:1px dotted ",";border-radius:2px;cursor:text;&:hover{border-bottom:1px dotted ",";}}p{margin:0;span:first-child + br:last-child{display:none;}a{color:",";text-decoration:underline;text-decoration-color:",";text-decoration-thickness:1px;text-underline-offset:.15em;font-weight:500;&:hover{text-decoration:underline;text-decoration-color:",";text-decoration-thickness:1px;}}}a{color:",";cursor:pointer;}.ProseMirror-focused{a{cursor:text;}}a:hover{text-decoration:",";}ul,ol{margin:",";padding:",";}ol ol{list-style:lower-alpha;}ol ol ol{list-style:lower-roman;}ul.checkbox_list{list-style:none;padding:0;margin-left:",";margin-right:",";}ul li,ol li{position:relative;white-space:initial;p{white-space:pre-wrap;}> div{width:100%;}}ul.checkbox_list li{display:flex;padding-",":24px;}ul.checkbox_list li.checked > div > p{color:",';text-decoration:line-through;}ul li::before,ol li::before{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iOCIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iOCIgeT0iMTEiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+CjxyZWN0IHg9IjgiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iMTMiIHk9IjExIiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+Cjwvc3ZnPgo=") no-repeat;background-position:0 2px;content:"";display:',";cursor:grab;width:24px;height:24px;position:absolute;",":-40px;opacity:0;transition:opacity 200ms ease-in-out;}ul li[draggable=true]::before,ol li[draggable=true]::before{cursor:grabbing;}ul > li.counter-2::before,ol li.counter-2::before{",":-50px;}ul > li.hovering::before,ol li.hovering::before{opacity:0.5;}ul li.ProseMirror-selectednode::after,ol li.ProseMirror-selectednode::after{display:none;}ul.checkbox_list li::before{",":0;}ul.checkbox_list li .checkbox{display:inline-block;cursor:pointer;pointer-events:",";opacity:",";margin:",";width:14px;height:14px;position:relative;top:1px;transition:transform 100ms ease-in-out;opacity:.8;background-image:"," &[aria-checked=true]{opacity:1;background-image:",';}&:active{transform:scale(0.9);}}li p:first-child{margin:0;word-break:break-word;}hr{position:relative;height:1em;border:0;}hr:before{content:"";display:block;position:absolute;border-top:1px solid ',";top:0.5em;left:0;right:0;}hr.page-break{page-break-after:always;}hr.page-break:before{border-top:1px dashed ",";}code{border-radius:4px;border:1px solid ",";background:",";padding:3px 4px;font-family:",";font-size:80%;}mark{border-radius:1px;color:",";background:",";a{color:",";}}.external-link{display:inline-block;position:relative;top:2px;width:16px;height:16px;}.code-actions,.notice-actions{display:flex;align-items:center;gap:8px;position:absolute;z-index:1;top:8px;right:8px;}.notice-actions{",":8px;}.code-block,.notice-block{position:relative;select,button{background:",";color:",";border-width:1px;font-size:13px;display:none;border-radius:4px;padding:2px 4px;height:18px;}button{padding:2px 4px;}&:hover{select{display:",";}button{display:inline;}}select:focus,select:active,button:focus,button:active{display:inline;}}pre{display:block;overflow-x:auto;padding:0.75em 1em;line-height:1.4em;position:relative;background:",";border-radius:4px;border:1px solid ",";margin:.5em 0;-webkit-font-smoothing:initial;font-family:",";font-size:13px;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;color:",";code{font-size:13px;background:none;padding:0;border:0;}}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:",";}.token.punctuation{color:",";}.token.namespace{opacity:0.7;}.token.operator,.token.boolean,.token.number{color:",";}.token.property{color:",";}.token.tag{color:",";}.token.string{color:",";}.token.selector{color:",";}.token.attr-name{color:",";}.token.entity,.token.url,.language-css .token.string,.style .token.string{color:",";}.token.attr-value,.token.keyword,.token.control,.token.directive,.token.unit{color:",";}.token.function{color:",";}.token.statement,.token.regex,.token.atrule{color:",";}.token.placeholder,.token.variable{color:",";}.token.deleted{text-decoration:line-through;}.token.inserted{border-bottom:1px dotted ",";text-decoration:none;}.token.italic{font-style:italic;}.token.important,.token.bold{font-weight:bold;}.token.important{color:",";}.token.entity{cursor:help;}table{width:100%;border-collapse:collapse;border-radius:4px;margin-top:1em;box-sizing:border-box;*{box-sizing:border-box;}tr{position:relative;border-bottom:1px solid ",";}th{background:",";}td,th{position:relative;vertical-align:top;border:1px solid ",";position:relative;padding:4px 8px;text-align:",";min-width:100px;}.selectedCell{background:",';background-clip:padding-box;}.grip-column{&::after{content:"";cursor:pointer;position:absolute;top:-16px;',":0;width:100%;height:12px;background:",";border-bottom:3px solid ",";display:",";}&:hover::after{background:",";}&.first::after{border-top-","-radius:3px;}&.last::after{border-top-","-radius:3px;}&.selected::after{background:",';}}.grip-row{&::after{content:"";cursor:pointer;position:absolute;',":-16px;top:0;height:100%;width:12px;background:",";border-",":3px solid;border-color:",";display:",";}&:hover::after{background:",";}&.first::after{border-top-","-radius:3px;}&.last::after{border-bottom-","-radius:3px;}&.selected::after{background:",';}}.grip-table{&::after{content:"";cursor:pointer;background:',";width:13px;height:13px;border-radius:13px;border:2px solid ",";position:absolute;top:-18px;",":-18px;display:",";}&:hover::after{background:",";}&.selected::after{background:",";}}}.scrollable-wrapper{position:relative;margin:0.5em 0px;scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:"," ",";}&::-webkit-scrollbar{height:14px;background-color:transparent;}&:hover::-webkit-scrollbar{background-color:",";}&::-webkit-scrollbar-thumb{background-color:transparent;border:3px solid transparent;border-radius:7px;}&:hover::-webkit-scrollbar-thumb{background-color:",";border-color:",";}}.scrollable{overflow-y:hidden;overflow-x:auto;padding-",":1em;margin-",":-1em;border-",":1px solid transparent;border-",":1px solid transparent;transition:border 250ms ease-in-out 0s;}.scrollable-shadow{position:absolute;top:0;bottom:0;",":-1em;width:16px;transition:box-shadow 250ms ease-in-out;border:0px solid transparent;border-","-width:1em;pointer-events:none;&.left{box-shadow:16px 0 16px -16px inset rgba(0,0,0,0.25);border-left:1em solid ",";}&.right{right:0;left:auto;box-shadow:-16px 0 16px -16px inset rgba(0,0,0,0.25);}}.block-menu-trigger{opacity:0;pointer-events:none;display:",";width:24px;height:24px;color:",";background:none;position:absolute;transition:color 150ms cubic-bezier(0.175,0.885,0.32,1.275),opacity 150ms ease-in-out;outline:none;border:0;padding:0;margin-top:1px;margin-",":-28px;border-radius:4px;&:hover,&:focus{cursor:pointer;color:",";background:",';}}.ProseMirror-focused .block-menu-trigger,.block-menu-trigger:active,.block-menu-trigger:focus{opacity:1;pointer-events:initial;}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute;}.ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid ',';animation:ProseMirror-cursor-blink 1.1s steps(2,start) infinite;}.folded-content{display:none;}@keyframes ProseMirror-cursor-blink{to{visibility:hidden;}}.ProseMirror-focused .ProseMirror-gapcursor{display:block;}@media print{.placeholder:before,.block-menu-trigger,.heading-actions,h1:not(.placeholder):before,h2:not(.placeholder):before,h3:not(.placeholder):before,h4:not(.placeholder):before,h5:not(.placeholder):before,h6:not(.placeholder):before{display:none;}.page-break{opacity:0;}em,blockquote{font-family:"SF Pro Text",',";}}"],(function(t){return t.grow?1:0}),(function(t){return t.theme.text}),(function(t){return t.theme.fontFamily}),(function(t){return t.theme.fontWeight}),(function(t){return t.readOnly?"initial":"none"}),(function(t){return t.theme.background}),(function(t){return t.readOnly?"transparent":t.theme.selected}),(function(t){return t.rtl?"-2px":"-32px"}),(function(t){return t.rtl?"-32px":"-2px"}),(function(t){return t.theme.selected}),(function(t){return t.readOnly?"none":"inline-block"}),(function(t){return t.theme.fontFamilyMono}),(function(t){return t.theme.textSecondary}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.text}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.text}),(function(t){return t.theme.fontFamilyMono}),(function(t){return t.theme.background}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"row-reverse":"row"}),(function(t){return t.rtl?"90deg":"-90deg"}),(function(t){return t.readOnly?"":"attr(data-empty-text)"}),(function(t){return t.theme.placeholder}),(function(t){return Object(et.d)(.9,t.theme.noticeInfoBackground)}),(function(t){return t.theme.noticeInfoBackground}),(function(t){return t.theme.noticeInfoText}),(function(t){return t.theme.noticeInfoText}),(function(t){return t.rtl?"left":"right"}),(function(t){return t.theme.noticeInfoBackground}),(function(t){return Object(et.d)(.9,t.theme.noticeTipBackground)}),(function(t){return t.theme.noticeTipBackground}),(function(t){return t.theme.noticeTipText}),(function(t){return t.theme.noticeTipBackground}),(function(t){return t.theme.noticeTipText}),(function(t){return Object(et.d)(.9,t.theme.noticeWarningBackground)}),(function(t){return t.theme.noticeWarningBackground}),(function(t){return t.theme.noticeWarningText}),(function(t){return t.theme.noticeWarningBackground}),(function(t){return t.theme.noticeWarningText}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.quote}),(function(t){return t.theme.placeholder}),(function(t){return t.theme.placeholder}),(function(t){return t.readOnly?t.theme.placeholder:t.theme.textSecondary}),(function(t){return t.theme.text}),(function(t){return Object(et.c)(.5,t.theme.text)}),(function(t){return t.theme.text}),(function(t){return t.theme.link}),(function(t){return t.readOnly?"underline":"none"}),(function(t){return t.rtl?"0 -26px 0 0.1em":"0 0.1em 0 -26px"}),(function(t){return t.rtl?"0 44px 0 0":"0 0 0 44px"}),(function(t){return t.rtl?"0":"-24px"}),(function(t){return t.rtl?"-24px":"0"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.textSecondary}),(function(t){return t.readOnly?"none":"inline-block"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.readOnly&&!t.readOnlyWriteCheckboxes?"none":"initial"}),(function(t){return t.readOnly&&!t.readOnlyWriteCheckboxes?.75:1}),(function(t){return t.rtl?"0 0 0 0.5em":"0 0.5em 0 0"}),(function(t){return"url(\"data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3 0C1.34315 0 0 1.34315 0 3V11C0 12.6569 1.34315 14 3 14H11C12.6569 14 14 12.6569 14 11V3C14 1.34315 12.6569 0 11 0H3ZM3 2C2.44772 2 2 2.44772 2 3V11C2 11.5523 2.44772 12 3 12H11C11.5523 12 12 11.5523 12 11V3C12 2.44772 11.5523 2 11 2H3Z' fill='".concat(t.theme.text.replace("#","%23"),"' /%3E%3C/svg%3E%0A\");")}),(function(t){return"url(\n          \"data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3 0C1.34315 0 0 1.34315 0 3V11C0 12.6569 1.34315 14 3 14H11C12.6569 14 14 12.6569 14 11V3C14 1.34315 12.6569 0 11 0H3ZM4.26825 5.85982L5.95873 7.88839L9.70003 2.9C10.0314 2.45817 10.6582 2.36863 11.1 2.7C11.5419 3.03137 11.6314 3.65817 11.3 4.1L6.80002 10.1C6.41275 10.6164 5.64501 10.636 5.2318 10.1402L2.7318 7.14018C2.37824 6.71591 2.43556 6.08534 2.85984 5.73178C3.28412 5.37821 3.91468 5.43554 4.26825 5.85982Z' fill='".concat(t.theme.primary.replace("#","%23"),"' /%3E%3C/svg%3E%0A\"\n        )")}),(function(t){return t.theme.horizontalRule}),(function(t){return t.theme.horizontalRule}),(function(t){return t.theme.codeBorder}),(function(t){return t.theme.codeBackground}),(function(t){return t.theme.fontFamilyMono}),(function(t){return t.theme.textHighlightForeground}),(function(t){return t.theme.textHighlight}),(function(t){return t.theme.textHighlightForeground}),(function(t){return t.rtl?"left":"right"}),(function(t){return t.theme.background}),(function(t){return t.theme.text}),(function(t){return t.readOnly?"none":"inline"}),(function(t){return t.theme.codeBackground}),(function(t){return t.theme.codeBorder}),(function(t){return t.theme.fontFamilyMono}),(function(t){return t.theme.code}),(function(t){return t.theme.codeComment}),(function(t){return t.theme.codePunctuation}),(function(t){return t.theme.codeNumber}),(function(t){return t.theme.codeProperty}),(function(t){return t.theme.codeTag}),(function(t){return t.theme.codeString}),(function(t){return t.theme.codeSelector}),(function(t){return t.theme.codeAttr}),(function(t){return t.theme.codeEntity}),(function(t){return t.theme.codeKeyword}),(function(t){return t.theme.codeFunction}),(function(t){return t.theme.codeStatement}),(function(t){return t.theme.codePlaceholder}),(function(t){return t.theme.codeInserted}),(function(t){return t.theme.codeImportant}),(function(t){return t.theme.tableDivider}),(function(t){return t.theme.tableHeaderBackground}),(function(t){return t.theme.tableDivider}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.readOnly?"inherit":t.theme.tableSelectedBackground}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.tableDivider}),(function(t){return t.theme.background}),(function(t){return t.readOnly?"none":"block"}),(function(t){return t.theme.text}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"left":"right"}),(function(t){return t.theme.tableSelected}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.tableDivider}),(function(t){return t.rtl?"left":"right"}),(function(t){return t.theme.background}),(function(t){return t.readOnly?"none":"block"}),(function(t){return t.theme.text}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.tableSelected}),(function(t){return t.theme.tableDivider}),(function(t){return t.theme.background}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.readOnly?"none":"block"}),(function(t){return t.theme.text}),(function(t){return t.theme.tableSelected}),(function(t){return t.theme.scrollbarThumb}),(function(t){return t.theme.scrollbarBackground}),(function(t){return t.theme.scrollbarBackground}),(function(t){return t.theme.scrollbarThumb}),(function(t){return t.theme.scrollbarBackground}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"left":"right"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.background}),(function(t){return t.readOnly?"none":"inline"}),(function(t){return t.theme.textSecondary}),(function(t){return t.rtl?"right":"left"}),(function(t){return t.theme.text}),(function(t){return t.theme.secondaryBackground}),(function(t){return t.theme.cursor}),(function(t){return t.theme.fontFamily}));function WithTheme(t){return(0,t.children)(Object(L.useTheme)())}var nt=o("TdD7");function editor_typeof(t){return(editor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function editor_extends(){return(editor_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function editor_toConsumableArray(t){return function editor_arrayWithoutHoles(t){if(Array.isArray(t))return editor_arrayLikeToArray(t)}(t)||function editor_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function editor_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return editor_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return editor_arrayLikeToArray(t,r)}(t)||function editor_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function editor_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function editor_ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,i)}return o}function editor_objectSpread(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?editor_ownKeys(Object(o),!0).forEach((function(r){editor_defineProperty(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):editor_ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function editor_defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}function editor_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function editor_setPrototypeOf(t,r){return(editor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function editor_createSuper(t){var r=function editor_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=editor_getPrototypeOf(t);if(r){var a=editor_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return editor_possibleConstructorReturn(this,o)}}function editor_possibleConstructorReturn(t,r){if(r&&("object"===editor_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function editor_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function editor_getPrototypeOf(t){return(editor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function editor_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&editor_setPrototypeOf(t,r)}(Editor,t);var r=editor_createSuper(Editor);function Editor(t){var o;return function editor_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Editor),(o=r.call(this,t)).state={isRTL:!1,isEditorFocused:!1,selectionMenuOpen:!1,blockMenuOpen:!1,linkMenuOpen:!1,blockMenuSearch:"",emojiMenuOpen:!1},o.element=m.createRef(),o.events=new C,o.calculateDir=function(){if(o.element.current){var t="rtl"===o.props.dir||"rtl"===getComputedStyle(o.element.current).direction;o.state.isRTL!==t&&o.setState({isRTL:t})}},o.value=function(){return o.serializer.serialize(o.view.state.doc)},o.handleChange=function(){o.props.onChange&&o.props.onChange((function(){return o.view?o.value():void 0}))},o.handleEditorBlur=function(){return o.setState({isEditorFocused:!1}),!1},o.handleEditorFocus=function(){return o.setState({isEditorFocused:!0}),!1},o.handleOpenSelectionMenu=function(){o.setState({blockMenuOpen:!1,selectionMenuOpen:!0})},o.handleCloseSelectionMenu=function(){o.state.selectionMenuOpen&&o.setState({selectionMenuOpen:!1})},o.handleOpenEmojiMenu=function(t){o.setState({emojiMenuOpen:!0,blockMenuSearch:t})},o.handleCloseEmojiMenu=function(){o.state.emojiMenuOpen&&o.setState({emojiMenuOpen:!1})},o.handleOpenLinkMenu=function(){o.setState({blockMenuOpen:!1,linkMenuOpen:!0})},o.handleCloseLinkMenu=function(){o.setState({linkMenuOpen:!1})},o.handleOpenBlockMenu=function(t){o.setState({blockMenuOpen:!0,blockMenuSearch:t})},o.handleCloseBlockMenu=function(){o.state.blockMenuOpen&&o.setState({blockMenuOpen:!1})},o.focusAtStart=function(){var t=d.Selection.atStart(o.view.state.doc),r=o.view.state.tr.setSelection(t);o.view.dispatch(r),o.view.focus()},o.focusAtEnd=function(){var t=d.Selection.atEnd(o.view.state.doc),r=o.view.state.tr.setSelection(t);o.view.dispatch(r),o.view.focus()},o.getHeadings=function(){return function getHeadings(t){var r=[],o={};return t.forEach((function(t){if("heading"===t.type.name){var i=Object(_.a)(t),a=i;o[i]>0&&(a=Object(_.a)(t,o[i])),o[i]=void 0!==o[i]?o[i]+1:1,r.push({title:t.textContent,level:t.attrs.level,id:a})}})),r}(o.view.state.doc)},o.getTasks=function(){return function getTasks(t){var r=[];return t.descendants((function(t){return!!t.isBlock&&("checkbox_list"===t.type.name&&t.content.forEach((function(t){var o="";t.forEach((function(t){"paragraph"===t.type.name&&(o+=t.textContent)})),r.push({text:o,completed:t.attrs.checked})})),!0)})),r}(o.view.state.doc)},o.events.on(S.a.linkMenuOpen,o.handleOpenLinkMenu),o.events.on(S.a.linkMenuClose,o.handleCloseLinkMenu),o.events.on(S.a.blockMenuOpen,o.handleOpenBlockMenu),o.events.on(S.a.blockMenuClose,o.handleCloseBlockMenu),o.events.on(S.a.emojiMenuOpen,o.handleOpenEmojiMenu),o.events.on(S.a.emojiMenuClose,o.handleCloseEmojiMenu),o}return function editor_createClass(t,r,o){return r&&editor_defineProperties(t.prototype,r),o&&editor_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Editor,[{key:"componentDidMount",value:function componentDidMount(){this.init(),this.props.scrollTo&&this.scrollToAnchor(this.props.scrollTo),this.calculateDir(),this.props.readOnly||this.props.autoFocus&&this.focusAtEnd()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var r,o,i,a,c=this;if(this.props.value&&t.value!==this.props.value){var l=this.createState(this.props.value);this.view.updateState(l)}(t.readOnly!==this.props.readOnly&&this.view.update(editor_objectSpread(editor_objectSpread({},this.view.props),{},{editable:function editable(){return!c.props.readOnly}})),this.props.scrollTo&&this.props.scrollTo!==t.scrollTo&&this.scrollToAnchor(this.props.scrollTo),t.readOnly&&!this.props.readOnly&&this.props.autoFocus&&this.focusAtEnd(),t.dir!==this.props.dir&&this.calculateDir(),this.isBlurred||this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.selectionMenuOpen)||(this.isBlurred=!0,null===(r=(o=this.props).onBlur)||void 0===r||r.call(o));this.isBlurred&&(this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.selectionMenuOpen)&&(this.isBlurred=!1,null===(i=(a=this.props).onFocus)||void 0===i||i.call(a))}},{key:"init",value:function init(){this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.rulePlugins=this.createRulePlugins(),this.keymaps=this.createKeymaps(),this.serializer=this.createSerializer(),this.parser=this.createParser(),this.pasteParser=this.createPasteParser(),this.inputRules=this.createInputRules(),this.nodeViews=this.createNodeViews(),this.view=this.createView(),this.commands=this.createCommands()}},{key:"createExtensions",value:function createExtensions(){return new x(this.props.extensions,this)}},{key:"createPlugins",value:function createPlugins(){return this.extensions.plugins}},{key:"createRulePlugins",value:function createRulePlugins(){return this.extensions.rulePlugins}},{key:"createKeymaps",value:function createKeymaps(){return this.extensions.keymaps({schema:this.schema})}},{key:"createInputRules",value:function createInputRules(){return this.extensions.inputRules({schema:this.schema})}},{key:"createNodeViews",value:function createNodeViews(){var t=this;return this.extensions.extensions.filter((function(t){return t.component})).reduce((function(r,o){return editor_objectSpread(editor_objectSpread({},r),{},editor_defineProperty({},o.name,(function nodeView(r,i,a,c){return new le(o.component,{editor:t,extension:o,node:r,view:i,getPos:a,decorations:c})})))}),{})}},{key:"createCommands",value:function createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createNodes",value:function createNodes(){return this.extensions.nodes}},{key:"createMarks",value:function createMarks(){return this.extensions.marks}},{key:"createSchema",value:function createSchema(){return new p.Schema({nodes:this.nodes,marks:this.marks})}},{key:"createSerializer",value:function createSerializer(){return this.extensions.serializer()}},{key:"createParser",value:function createParser(){return this.extensions.parser({schema:this.schema,plugins:this.rulePlugins})}},{key:"createPasteParser",value:function createPasteParser(){return this.extensions.parser({schema:this.schema,rules:{linkify:!0,emoji:!1},plugins:this.rulePlugins})}},{key:"createState",value:function createState(t){var r=this.createDocument(t||this.props.defaultValue);return d.EditorState.create({schema:this.schema,doc:r,plugins:[].concat(editor_toConsumableArray(this.plugins),editor_toConsumableArray(this.keymaps),[Object(a.a)({color:this.props.theme.cursor}),Object(c.b)(),Object(l.c)({rules:this.inputRules}),Object(u.b)(i.a)])})}},{key:"createDocument",value:function createDocument(t){return this.parser.parse(t)}},{key:"createView",value:function createView(){var t=this;if(!this.element.current)throw new Error("createView called before ref available");var r=function isEditingCheckbox(r){return r.steps.some((function(r){var o,i,a;return(null===(o=r.slice)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.firstChild)||void 0===a?void 0:a.type.name)===t.schema.nodes.checkbox_item.name}))},o=this,i=new h.c(this.element.current,{handleDOMEvents:{blur:this.handleEditorBlur,focus:this.handleEditorFocus},state:this.createState(this.props.value),editable:function editable(){return!t.props.readOnly},nodeViews:this.nodeViews,dispatchTransaction:function dispatchTransaction(t){var i=this.state.applyTransaction(t),a=i.state,c=i.transactions;this.updateState(a),c.some((function(t){return t.docChanged}))&&(!o.props.readOnly||o.props.readOnlyWriteCheckboxes&&c.some(r))&&o.handleChange(),o.calculateDir(),o.forceUpdate()}});return i.dom.setAttribute("role","textbox"),i}},{key:"scrollToAnchor",value:function scrollToAnchor(t){if(t)try{var r=document.querySelector(t);r&&setTimeout((function(){return r.scrollIntoView({behavior:"smooth"})}),0)}catch(r){E.a.debug("editor","Attempted to scroll to invalid hash: ".concat(t))}}},{key:"render",value:function render(){var t=this.props,r=t.dir,o=t.readOnly,i=t.readOnlyWriteCheckboxes,a=t.grow,c=t.style,l=t.className,u=t.dictionary,p=t.onKeyDown,d=this.state.isRTL;return m.createElement(ue.Provider,{value:this},m.createElement(j.a,{onKeyDown:p,style:c,className:l,align:"flex-start",justify:"center",dir:r,column:!0},m.createElement(tt,{dir:r,rtl:d,grow:a,readOnly:o,readOnlyWriteCheckboxes:i,ref:this.element}),!o&&this.view&&m.createElement(m.Fragment,null,m.createElement(Xe,{view:this.view,dictionary:u,commands:this.commands,rtl:d,isTemplate:!0===this.props.template,onOpen:this.handleOpenSelectionMenu,onClose:this.handleCloseSelectionMenu,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onCreateLink:this.props.onCreateLink,onShowToast:this.props.onShowToast}),m.createElement(Fe,{view:this.view,dictionary:u,isActive:this.state.linkMenuOpen,onCreateLink:this.props.onCreateLink,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onShowToast:this.props.onShowToast,onClose:this.handleCloseLinkMenu}),m.createElement(be,{view:this.view,commands:this.commands,dictionary:u,rtl:d,onShowToast:this.props.onShowToast,isActive:this.state.emojiMenuOpen,search:this.state.blockMenuSearch,onClose:this.handleCloseEmojiMenu}),m.createElement(ie,{view:this.view,commands:this.commands,dictionary:u,rtl:d,isActive:this.state.blockMenuOpen,search:this.state.blockMenuSearch,onClose:this.handleCloseBlockMenu,uploadFile:this.props.uploadFile,onLinkToolbarOpen:this.handleOpenLinkMenu,onFileUploadStart:this.props.onFileUploadStart,onFileUploadStop:this.props.onFileUploadStop,onShowToast:this.props.onShowToast,embeds:this.props.embeds}))))}}]),Editor}(m.PureComponent);rt.defaultProps={defaultValue:"",dir:"auto",placeholder:"Write something nice…",onFileUploadStart:function onFileUploadStart(){},onFileUploadStop:function onFileUploadStop(){},embeds:[],extensions:O.a};var ot=m.forwardRef((function(t,r){return m.createElement(WithTheme,null,(function(o){return m.createElement(rt,editor_extends({theme:o},t,{ref:r}))}))}));r.default=ot}}]);
//# sourceMappingURL=shared-editor.efa149f5ab6ce629bebe.js.map