{"version":3,"sources":["webpack:///./node_modules/framer-motion/dist/es/utils/use-unmount-effect.js","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","webpack:///./node_modules/framer-motion/dist/es/utils/use-force-update.js","webpack:///./app/utils/language.ts","webpack:///./app/components/DocumentCard.tsx","webpack:///./app/components/PinnedDocuments.tsx","webpack:///./app/components/NoticeTip.ts","webpack:///./app/components/LanguagePrompt.tsx","webpack:///./app/scenes/Home.tsx"],"names":["useUnmountEffect","callback","presenceId","getPresenceId","id","PresenceChild","_a","children","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","newChildrenMap","context","childId","set","allComplete","forEach","isComplete","register","delete","undefined","_","key","size","PresenceContext","Provider","value","Map","getChildKey","child","AnimatePresence","_b","exitBeforeEnter","_c","forceRender","useForceUpdate","unloadingRef","forcedRenderCount","setForcedRenderCount","current","layoutContext","SharedLayoutContext","forceUpdate","isInitialRender","filteredChildren","onlyElements","filtered","push","presentChildren","allChildren","exiting","Set","updateChildLookup","map","childrenToRender","presentKeys","targetKeys","numPresent","length","i","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","detectLanguage","navigator","language","split","ln","region","toUpperCase","changeLanguage","toLanguageString","i18n","replace","PinButton","styled","NudeButton","props","theme","white75","white","Actions","Flex","dir","DragHandle","div","$isDragging","m","Reorderable","Content","DocumentMeta","Text","transparentize","DocumentLink","Link","slate","css","$menuOpen","listItemHoverBackground","Heading","h3","observer","DocumentCard","t","useTranslation","collections","useStores","document","pin","canUpdatePin","isDraggable","collection","collectionId","useSortable","attributes","listeners","setNodeRef","transform","transition","isDragging","style","CSS","Transform","toString","handleUnpin","React","ref","opacity","scale","animate","type","bounce","exit","background","color","getLuminance","to","pathname","url","state","title","titleWithDefault","justify","column","icon","CollectionIcon","Time","dateTime","updatedAt","addSuffix","shorten","gap","Tooltip","tooltip","onClick","aria-label","List","breakpoint","PinnedDocuments","limit","pins","canUpdate","rest","documents","documentId","items","setItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","handleDragEnd","event","active","over","activePos","overPos","overIndex","index","nextIndex","prevIndex","save","fractionalIndex","catch","arrayMove","orderedData","modifiers","restrictToParentElement","collisionDetection","closestCenter","onDragEnd","strategy","rectSortingStrategy","find","Notice","p","brand","marine","almostBlack","LanguagePrompt","auth","ui","user","useCurrentUser","languages","includes","option","languageOptions","o","optionLabel","label","NoticeTip","align","LanguageIcon","Trans","updateUser","setLanguagePromptDismissed","ButtonLink","Icon","className","width","height","viewBox","fill","xmlns","fill-rule","clip-rule","d","stroke","Home","team","useCurrentTeam","userId","fetchPage","canManageTeam","usePolicy","manage","Scene","actions","InputSearchPage","source","NewDocumentMenu","languagePromptDismissed","home","Tabs","Tab","exact","path","PaginatedDocumentList","recentlyUpdated","fetch","fetchRecentlyUpdated","empty","Empty","showCollection","createdByUser","fetchOwned","options","recentlyViewed","fetchRecentlyViewed"],"mappings":"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","file":"home.c1d2866000f3715fae57.js","sourcesContent":["import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(function () { return function () { return callback(); }; }, []);\n}\n\nexport { useUnmountEffect };\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n","import { i18n } from \"i18next\";\n\nexport function detectLanguage() {\n  const [ln, r] = navigator.language.split(\"-\");\n  const region = (r || ln).toUpperCase();\n  return `${ln}_${region}`;\n}\n\nexport function changeLanguage(\n  toLanguageString: string | null | undefined,\n  i18n: i18n\n) {\n  if (toLanguageString && i18n.language !== toLanguageString) {\n    // Languages are stored in en_US format in the database, however the\n    // frontend translation framework (i18next) expects en-US\n    i18n.changeLanguage(toLanguageString.replace(\"_\", \"-\"));\n  }\n}\n","import { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { m } from \"framer-motion\";\nimport { observer } from \"mobx-react\";\nimport { CloseIcon, DocumentIcon, ClockIcon } from \"outline-icons\";\nimport { getLuminance, transparentize } from \"polished\";\nimport * as React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport styled, { css } from \"styled-components\";\nimport Document from \"~/models/Document\";\nimport Pin from \"~/models/Pin\";\nimport Flex from \"~/components/Flex\";\nimport NudeButton from \"~/components/NudeButton\";\nimport Time from \"~/components/Time\";\nimport useStores from \"~/hooks/useStores\";\nimport CollectionIcon from \"./CollectionIcon\";\nimport Text from \"./Text\";\nimport Tooltip from \"./Tooltip\";\n\ntype Props = {\n  /** The pin record */\n  pin: Pin | undefined;\n  /** The document related to the pin */\n  document: Document;\n  /** Whether the user has permission to delete or reorder the pin */\n  canUpdatePin?: boolean;\n  /** Whether this pin can be reordered by dragging */\n  isDraggable?: boolean;\n};\n\nfunction DocumentCard(props: Props) {\n  const { t } = useTranslation();\n  const { collections } = useStores();\n  const { document, pin, canUpdatePin, isDraggable } = props;\n  const collection = collections.get(document.collectionId);\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: props.document.id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  const handleUnpin = React.useCallback(() => {\n    pin?.delete();\n  }, [pin]);\n\n  return (\n    <Reorderable\n      ref={setNodeRef}\n      style={style}\n      $isDragging={isDragging}\n      {...attributes}\n    >\n      <AnimatePresence\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{\n          opacity: 1,\n          scale: 1,\n          transition: {\n            type: \"spring\",\n            bounce: 0.6,\n          },\n        }}\n        exit={{ opacity: 0, scale: 0.95 }}\n      >\n        <DocumentLink\n          dir={document.dir}\n          style={{\n            background:\n              collection?.color && getLuminance(collection.color) < 0.6\n                ? collection.color\n                : undefined,\n          }}\n          $isDragging={isDragging}\n          to={{\n            pathname: document.url,\n            state: {\n              title: document.titleWithDefault,\n            },\n          }}\n        >\n          <Content justify=\"space-between\" column>\n            {collection?.icon &&\n            collection?.icon !== \"collection\" &&\n            !pin?.collectionId ? (\n              <CollectionIcon collection={collection} color=\"white\" />\n            ) : (\n              <DocumentIcon color=\"white\" />\n            )}\n            <div>\n              <Heading dir={document.dir}>{document.titleWithDefault}</Heading>\n              <DocumentMeta size=\"xsmall\">\n                <ClockIcon color=\"currentColor\" size={18} />{\" \"}\n                <Time dateTime={document.updatedAt} addSuffix shorten />\n              </DocumentMeta>\n            </div>\n          </Content>\n        </DocumentLink>\n        {canUpdatePin && (\n          <Actions dir={document.dir} gap={4}>\n            {!isDragging && pin && (\n              <Tooltip tooltip={t(\"Unpin\")}>\n                <PinButton onClick={handleUnpin} aria-label={t(\"Unpin\")}>\n                  <CloseIcon color=\"currentColor\" />\n                </PinButton>\n              </Tooltip>\n            )}\n            {isDraggable && (\n              <DragHandle $isDragging={isDragging} {...listeners}>\n                :::\n              </DragHandle>\n            )}\n          </Actions>\n        )}\n      </AnimatePresence>\n    </Reorderable>\n  );\n}\n\nconst PinButton = styled(NudeButton)`\n  color: ${(props) => props.theme.white75};\n\n  &:hover,\n  &:active {\n    color: ${(props) => props.theme.white};\n  }\n`;\n\nconst Actions = styled(Flex)`\n  position: absolute;\n  top: 12px;\n  right: ${(props) => (props.dir === \"rtl\" ? \"auto\" : \"12px\")};\n  left: ${(props) => (props.dir === \"rtl\" ? \"12px\" : \"auto\")};\n  opacity: 0;\n  transition: opacity 100ms ease-in-out;\n\n  // move actions above content\n  z-index: 2;\n`;\n\nconst DragHandle = styled.div<{ $isDragging: boolean }>`\n  cursor: ${(props) => (props.$isDragging ? \"grabbing\" : \"grab\")};\n  padding: 0 4px;\n  font-weight: bold;\n  color: ${(props) => props.theme.white75};\n  line-height: 1.35;\n\n  &:hover,\n  &:active {\n    color: ${(props) => props.theme.white};\n  }\n`;\n\nconst AnimatePresence = m.div;\n\nconst Reorderable = styled.div<{ $isDragging: boolean }>`\n  position: relative;\n  user-select: none;\n  border-radius: 8px;\n\n  // move above other cards when dragging\n  z-index: ${(props) => (props.$isDragging ? 1 : \"inherit\")};\n  transform: scale(${(props) => (props.$isDragging ? \"1.025\" : \"1\")});\n  box-shadow: ${(props) =>\n    props.$isDragging ? \"0 0 20px rgba(0,0,0,0.3);\" : \"0 0 0 rgba(0,0,0,0)\"};\n\n  &:hover ${Actions} {\n    opacity: 1;\n  }\n`;\n\nconst Content = styled(Flex)`\n  min-width: 0;\n  height: 100%;\n\n  // move content above ::after\n  position: relative;\n  z-index: 1;\n`;\n\nconst DocumentMeta = styled(Text)`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  color: ${(props) => transparentize(0.25, props.theme.white)};\n  margin: 0;\n`;\n\nconst DocumentLink = styled(Link)<{\n  $menuOpen?: boolean;\n  $isDragging?: boolean;\n}>`\n  position: relative;\n  display: block;\n  padding: 12px;\n  border-radius: 8px;\n  height: 160px;\n  background: ${(props) => props.theme.slate};\n  color: ${(props) => props.theme.white};\n  transition: transform 50ms ease-in-out;\n\n  &:after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.1));\n    border-radius: 8px;\n    pointer-events: none;\n  }\n\n  ${Actions} {\n    opacity: 0;\n  }\n\n  &:hover,\n  &:active,\n  &:focus,\n  &:focus-within {\n    ${Actions} {\n      opacity: 1;\n    }\n\n    ${(props) =>\n      !props.$isDragging &&\n      css`\n        &:after {\n          background: rgba(0, 0, 0, 0.1);\n        }\n      `}\n  }\n\n  ${(props) =>\n    props.$menuOpen &&\n    css`\n      background: ${(props) => props.theme.listItemHoverBackground};\n\n      ${Actions} {\n        opacity: 1;\n      }\n    `}\n`;\n\nconst Heading = styled.h3`\n  margin-top: 0;\n  margin-bottom: 0.35em;\n  line-height: 22px;\n  max-height: 66px; // 3*line-height\n  overflow: hidden;\n\n  color: ${(props) => props.theme.white};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n`;\n\nexport default observer(DocumentCard);\n","import {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n} from \"@dnd-kit/core\";\nimport { restrictToParentElement } from \"@dnd-kit/modifiers\";\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport fractionalIndex from \"fractional-index\";\nimport { AnimatePresence } from \"framer-motion\";\nimport { observer } from \"mobx-react\";\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport breakpoint from \"styled-components-breakpoint\";\nimport Pin from \"~/models/Pin\";\nimport DocumentCard from \"~/components/DocumentCard\";\nimport useStores from \"~/hooks/useStores\";\n\ntype Props = {\n  /** Pins to display */\n  pins: Pin[];\n  /** Maximum number of pins to display */\n  limit?: number;\n  /** Whether the user has permission to update pins */\n  canUpdate?: boolean;\n};\n\nfunction PinnedDocuments({ limit, pins, canUpdate, ...rest }: Props) {\n  const { documents, collections } = useStores();\n  const [items, setItems] = React.useState(pins.map((pin) => pin.documentId));\n\n  React.useEffect(() => {\n    setItems(pins.map((pin) => pin.documentId));\n  }, [pins]);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const handleDragEnd = React.useCallback(\n    (event: DragEndEvent) => {\n      const { active, over } = event;\n\n      if (over && active.id !== over.id) {\n        setItems((items) => {\n          const activePos = items.indexOf(active.id);\n          const overPos = items.indexOf(over.id);\n\n          const overIndex = pins[overPos]?.index || null;\n          const nextIndex = pins[overPos + 1]?.index || null;\n          const prevIndex = pins[overPos - 1]?.index || null;\n          const pin = pins[activePos];\n\n          // Update the order on the backend, revert if the call fails\n          pin\n            .save({\n              index:\n                overPos === 0\n                  ? fractionalIndex(null, overIndex)\n                  : activePos > overPos\n                  ? fractionalIndex(prevIndex, overIndex)\n                  : fractionalIndex(overIndex, nextIndex),\n            })\n            .catch(() => setItems(items));\n\n          // Update the order in state immediately\n          return arrayMove(items, activePos, overPos);\n        });\n      }\n    },\n    [pins]\n  );\n\n  if (collections.orderedData.length === 0) {\n    return null;\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      modifiers={[restrictToParentElement]}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext items={items} strategy={rectSortingStrategy}>\n        <List>\n          <AnimatePresence initial={false}>\n            {items.map((documentId) => {\n              const document = documents.get(documentId);\n              const pin = pins.find((pin) => pin.documentId === documentId);\n\n              return document ? (\n                <DocumentCard\n                  key={documentId}\n                  document={document}\n                  canUpdatePin={canUpdate}\n                  isDraggable={items.length > 1}\n                  pin={pin}\n                  {...rest}\n                />\n              ) : null;\n            })}\n          </AnimatePresence>\n        </List>\n      </SortableContext>\n    </DndContext>\n  );\n}\n\nconst List = styled.div`\n  display: grid;\n  column-gap: 8px;\n  row-gap: 8px;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  padding: 0;\n  list-style: none;\n  margin: 16px 0 32px;\n\n  &:empty {\n    display: none;\n  }\n\n  ${breakpoint(\"tablet\")`\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  `};\n\n  ${breakpoint(\"desktop\")`\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  `};\n`;\n\nexport default observer(PinnedDocuments);\n","import styled from \"styled-components\";\n\nconst Notice = styled.p`\n  background: ${(props) => props.theme.brand.marine};\n  color: ${(props) => props.theme.almostBlack};\n  padding: 10px 12px;\n  margin-top: 24px;\n  border-radius: 4px;\n  position: relative;\n\n  a {\n    color: ${(props) => props.theme.almostBlack};\n    font-weight: 500;\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n`;\n\nexport default Notice;\n","import { find } from \"lodash\";\nimport * as React from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { languages, languageOptions } from \"@shared/i18n\";\nimport ButtonLink from \"~/components/ButtonLink\";\nimport Flex from \"~/components/Flex\";\nimport NoticeTip from \"~/components/NoticeTip\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport useStores from \"~/hooks/useStores\";\nimport { detectLanguage } from \"~/utils/language\";\n\nfunction Icon({ className }: { className?: string }) {\n  return (\n    <svg\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M21 18H16L14 16V6C14 4.89543 14.8954 4 16 4H28C29.1046 4 30 4.89543 30 6V16C30 17.1046 29.1046 18 28 18H27L25.4142 19.5858C24.6332 20.3668 23.3668 20.3668 22.5858 19.5858L21 18ZM16 15.1716V6H28V16H27H26.1716L25.5858 16.5858L24 18.1716L22.4142 16.5858L21.8284 16H21H16.8284L16 15.1716Z\"\n        fill=\"#2B2F35\"\n      />\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M16 13H4C2.89543 13 2 13.8954 2 15V25C2 26.1046 2.89543 27 4 27H5L6.58579 28.5858C7.36684 29.3668 8.63316 29.3668 9.41421 28.5858L11 27H16C17.1046 27 18 26.1046 18 25V15C18 13.8954 17.1046 13 16 13ZM9 17L6 16.9681C6 16.9681 5 17.016 5 18C5 18.984 6 19 6 19H8.5H10C10 19 9.57627 20.1885 8.38983 21.0831C7.20339 21.9777 5.7197 23 5.7197 23C5.7197 23 4.99153 23.6054 5.5 24.5C6.00847 25.3946 7 24.8403 7 24.8403L9.74576 22.8722L11.9492 24.6614C11.9492 24.6614 12.6271 25.3771 13.3051 24.4825C13.9831 23.5879 13.3051 23.0512 13.3051 23.0512L11.1017 21.262C11.1017 21.262 11.5 21 12 20L12.5 19H14C14 19 15 19.0319 15 18C15 16.9681 14 16.9681 14 16.9681L11 17V16C11 16 11.0169 15 10 15C8.98305 15 9 16 9 16V17Z\"\n        fill=\"#2B2F35\"\n      />\n      <path\n        d=\"M23.6672 12.5221L23.5526 12.1816H23.1934H20.8818H20.5215L20.4075 12.5235L20.082 13.5H19.2196L21.2292 8.10156H21.8774L21.5587 9.06116L20.7633 11.4562L20.5449 12.1138H21.2378H22.8374H23.5327L23.3114 11.4546L22.5072 9.05959L22.1855 8.10156H22.768L24.7887 13.5H23.9964L23.6672 12.5221Z\"\n        fill=\"#2B2F35\"\n        stroke=\"#2B2F35\"\n      />\n    </svg>\n  );\n}\n\nexport default function LanguagePrompt() {\n  const { auth, ui } = useStores();\n  const { t } = useTranslation();\n  const user = useCurrentUser();\n  const language = detectLanguage();\n\n  if (language === \"en_US\" || language === user.language) {\n    return null;\n  }\n\n  if (!languages.includes(language)) {\n    return null;\n  }\n\n  const option = find(languageOptions, (o) => o.value === language);\n  const optionLabel = option ? option.label : \"\";\n\n  return (\n    <NoticeTip>\n      <Flex align=\"center\">\n        <LanguageIcon />\n        <span>\n          <Trans>\n            Outline is available in your language{\" \"}\n            {{\n              optionLabel,\n            }}\n            , would you like to change?\n          </Trans>\n          <br />\n          <Link\n            onClick={() => {\n              auth.updateUser({\n                language,\n              });\n              ui.setLanguagePromptDismissed();\n            }}\n          >\n            {t(\"Change Language\")}\n          </Link>{\" \"}\n          &middot;{\" \"}\n          <Link onClick={ui.setLanguagePromptDismissed}>{t(\"Dismiss\")}</Link>\n        </span>\n      </Flex>\n    </NoticeTip>\n  );\n}\n\nconst Link = styled(ButtonLink)`\n  color: ${(props) => props.theme.almostBlack};\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst LanguageIcon = styled(Icon)`\n  margin-right: 12px;\n`;\n","import { observer } from \"mobx-react\";\nimport { HomeIcon } from \"outline-icons\";\nimport * as React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Action } from \"~/components/Actions\";\nimport Empty from \"~/components/Empty\";\nimport Heading from \"~/components/Heading\";\nimport InputSearchPage from \"~/components/InputSearchPage\";\nimport LanguagePrompt from \"~/components/LanguagePrompt\";\nimport PaginatedDocumentList from \"~/components/PaginatedDocumentList\";\nimport PinnedDocuments from \"~/components/PinnedDocuments\";\nimport Scene from \"~/components/Scene\";\nimport Tab from \"~/components/Tab\";\nimport Tabs from \"~/components/Tabs\";\nimport useCurrentTeam from \"~/hooks/useCurrentTeam\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport usePolicy from \"~/hooks/usePolicy\";\nimport useStores from \"~/hooks/useStores\";\nimport NewDocumentMenu from \"~/menus/NewDocumentMenu\";\n\nfunction Home() {\n  const { documents, pins, ui } = useStores();\n  const team = useCurrentTeam();\n  const user = useCurrentUser();\n  const userId = user?.id;\n  const { t } = useTranslation();\n\n  React.useEffect(() => {\n    pins.fetchPage();\n  }, [pins]);\n\n  const canManageTeam = usePolicy(team.id).manage;\n\n  return (\n    <Scene\n      icon={<HomeIcon color=\"currentColor\" />}\n      title={t(\"Home\")}\n      actions={\n        <>\n          <Action>\n            <InputSearchPage source=\"dashboard\" label={t(\"Search documents\")} />\n          </Action>\n          <Action>\n            <NewDocumentMenu />\n          </Action>\n        </>\n      }\n    >\n      {!ui.languagePromptDismissed && <LanguagePrompt />}\n      <Heading>{t(\"Home\")}</Heading>\n      <PinnedDocuments pins={pins.home} canUpdate={canManageTeam} />\n      <Tabs>\n        <Tab to=\"/home\" exact>\n          {t(\"Recently viewed\")}\n        </Tab>\n        <Tab to=\"/home/recent\" exact>\n          {t(\"Recently updated\")}\n        </Tab>\n        <Tab to=\"/home/created\">{t(\"Created by me\")}</Tab>\n      </Tabs>\n      <Switch>\n        <Route path=\"/home/recent\">\n          <PaginatedDocumentList\n            documents={documents.recentlyUpdated}\n            fetch={documents.fetchRecentlyUpdated}\n            empty={<Empty>{t(\"Weird, this shouldn’t ever be empty\")}</Empty>}\n            showCollection\n          />\n        </Route>\n        <Route path=\"/home/created\">\n          <PaginatedDocumentList\n            key=\"created\"\n            documents={documents.createdByUser(userId)}\n            fetch={documents.fetchOwned}\n            options={{\n              user: userId,\n            }}\n            empty={<Empty>{t(\"You haven’t created any documents yet\")}</Empty>}\n            showCollection\n          />\n        </Route>\n        <Route path=\"/home\">\n          <PaginatedDocumentList\n            key=\"recent\"\n            documents={documents.recentlyViewed}\n            fetch={documents.fetchRecentlyViewed}\n            empty={\n              <Empty>\n                {t(\n                  \"Documents you’ve recently viewed will be here for easy access\"\n                )}\n              </Empty>\n            }\n            showCollection\n          />\n        </Route>\n      </Switch>\n    </Scene>\n  );\n}\n\nexport default observer(Home);\n"],"sourceRoot":""}